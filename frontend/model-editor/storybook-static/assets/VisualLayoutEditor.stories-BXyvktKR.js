import{j as jsxRuntimeExports}from"./jsx-runtime-CDt2p4po.js";import{g as getDefaultExportFromCjs,r as reactExports,R as React}from"./index-GiUgBvb1.js";import{r as reactDomExports}from"./index-CROobee-.js";import{v as v4}from"./v4-CtRu48qb.js";/* empty css              */import{I as IconFilter,D as DataGridComponent,T as TextComponent}from"./DataGrid-D5EgSmej.js";import{c as createReactComponent,B as Box}from"./createReactComponent-DeW0SWsj.js";import{G as Group$1,T as Text}from"./Text-DRIe2lk6.js";import{a as IconForms,I as IconSearch}from"./IconSearch-DP7S6QkN.js";import{B as Badge}from"./Badge-DlnNQPvo.js";import{D as Divider,T as TextInput}from"./TextInput-CTL6muRQ.js";import{S as Stack}from"./Stack-BdVTzV5n.js";import{B as Button$1}from"./Button-DxGj0eyG.js";import{a as IconX,A as ActionIcon,I as IconCheck}from"./IconX-DFCRbXwC.js";import{S as Switch,T as Textarea,I as IconUpload,a as IconDownload}from"./IconUpload-Bs6sJkg4.js";import{C as Checkbox,a as IconChevronRight,I as IconSettings}from"./IconSettings-D4Y479Cq.js";import{S as Select,N as NumberInput}from"./Select-ONZWQqDe.js";import{I as IconTrash}from"./IconTrash-eEDGOZ4_.js";import{I as IconEdit}from"./IconEdit-Czy5EC8b.js";import{I as IconPlus}from"./IconPlus-D1vtUViS.js";import{I as IconArrowLeft}from"./IconArrowLeft-DnVzGyBP.js";import{M as MantineProvider}from"./MantineProvider-QIY2Z6QD.js";import"./IconTable-B3Vt8rKG.js";import"./InputBase-qatfRSiM.js";import"./floating-ui.react-CpMue5oT.js";import"./UnstyledButton-93KfNP2S.js";import"./Transition-CgjnMQvV.js";import"./FocusTrap-D951crCF.js";import"./use-floating-auto-update-T6hkbBTP.js";var IconChevronLeft=createReactComponent("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]),IconClock=createReactComponent("clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]),IconDeviceFloppy=createReactComponent("device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]),IconHome=createReactComponent("home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),IconMail=createReactComponent("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),IconPrinter=createReactComponent("printer","IconPrinter",[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]]),IconRefresh=createReactComponent("refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),IconSend=createReactComponent("send","IconSend",[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]]),IconShare=createReactComponent("share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]),IconUser=createReactComponent("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),fastDeepEqual=function m(x,$){if(x===$)return!0;if(x&&$&&typeof x=="object"&&typeof $=="object"){if(x.constructor!==$.constructor)return!1;var S,I,j;if(Array.isArray(x)){if(S=x.length,S!=$.length)return!1;for(I=S;I--!==0;)if(!m(x[I],$[I]))return!1;return!0}if(x.constructor===RegExp)return x.source===$.source&&x.flags===$.flags;if(x.valueOf!==Object.prototype.valueOf)return x.valueOf()===$.valueOf();if(x.toString!==Object.prototype.toString)return x.toString()===$.toString();if(j=Object.keys(x),S=j.length,S!==Object.keys($).length)return!1;for(I=S;I--!==0;)if(!Object.prototype.hasOwnProperty.call($,j[I]))return!1;for(I=S;I--!==0;){var P=j[I];if(!m(x[P],$[P]))return!1}return!0}return x!==x&&$!==$};const fdeq=getDefaultExportFromCjs(fastDeepEqual);var flat=flatten$1;flatten$1.flatten=flatten$1;flatten$1.unflatten=unflatten$1;function isBuffer(m){return m&&m.constructor&&typeof m.constructor.isBuffer=="function"&&m.constructor.isBuffer(m)}function keyIdentity(m){return m}function flatten$1(m,x){x=x||{};const $=x.delimiter||".",S=x.maxDepth,I=x.transformKey||keyIdentity,j={};function P(C,D,A){A=A||1,Object.keys(C).forEach(function(R){const k=C[R],O=x.safe&&Array.isArray(k),N=Object.prototype.toString.call(k),V=isBuffer(k),U=N==="[object Object]"||N==="[object Array]",H=D?D+$+I(R):I(R);if(!O&&!V&&U&&Object.keys(k).length&&(!x.maxDepth||A<S))return P(k,H,A+1);j[H]=k})}return P(m),j}function unflatten$1(m,x){x=x||{};const $=x.delimiter||".",S=x.overwrite||!1,I=x.transformKey||keyIdentity,j={};if(isBuffer(m)||Object.prototype.toString.call(m)!=="[object Object]")return m;function C(R){const k=Number(R);return isNaN(k)||R.indexOf(".")!==-1||x.object?R:k}function D(R,k,O){return Object.keys(O).reduce(function(N,V){return N[R+$+V]=O[V],N},k)}function A(R){const k=Object.prototype.toString.call(R),O=k==="[object Array]",N=k==="[object Object]";if(R){if(O)return!R.length;if(N)return!Object.keys(R).length}else return!0}return m=Object.keys(m).reduce(function(R,k){const O=Object.prototype.toString.call(m[k]);return!(O==="[object Object]"||O==="[object Array]")||A(m[k])?(R[k]=m[k],R):D(k,R,flatten$1(m[k],x))},{}),Object.keys(m).forEach(function(R){const k=R.split($).map(I);let O=C(k.shift()),N=C(k[0]),V=j;for(;N!==void 0;){if(O==="__proto__")return;const U=Object.prototype.toString.call(V[O]),H=U==="[object Object]"||U==="[object Array]";if(!S&&!H&&typeof V[O]<"u")return;(S&&!H||!S&&V[O]==null)&&(V[O]=typeof N=="number"&&!x.object?[]:{}),V=V[O],k.length>0&&(O=C(k.shift()),N=C(k[0]))}V[O]=unflatten$1(m[R],x)}),j}const flat$1=getDefaultExportFromCjs(flat);var __create$6=Object.create,__defProp$7=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols$7=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp$7=Object.prototype.hasOwnProperty,__propIsEnum$7=Object.prototype.propertyIsEnumerable,__defNormalProp$7=(m,x,$)=>x in m?__defProp$7(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$7=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$7.call(x,$)&&__defNormalProp$7(m,$,x[$]);if(__getOwnPropSymbols$7)for(var $ of __getOwnPropSymbols$7(x))__propIsEnum$7.call(x,$)&&__defNormalProp$7(m,$,x[$]);return m},__spreadProps$6=(m,x)=>__defProps$6(m,__getOwnPropDescs$6(x)),__objRest$4=(m,x)=>{var $={};for(var S in m)__hasOwnProp$7.call(m,S)&&x.indexOf(S)<0&&($[S]=m[S]);if(m!=null&&__getOwnPropSymbols$7)for(var S of __getOwnPropSymbols$7(m))x.indexOf(S)<0&&__propIsEnum$7.call(m,S)&&($[S]=m[S]);return $},__esm=(m,x)=>function(){return m&&(x=(0,m[__getOwnPropNames(m)[0]])(m=0)),x},__commonJS=(m,x)=>function(){return x||(0,m[__getOwnPropNames(m)[0]])((x={exports:{}}).exports,x),x.exports},__copyProps=(m,x,$,S)=>{if(x&&typeof x=="object"||typeof x=="function")for(let I of __getOwnPropNames(x))!__hasOwnProp$7.call(m,I)&&I!==$&&__defProp$7(m,I,{get:()=>x[I],enumerable:!(S=__getOwnPropDesc$6(x,I))||S.enumerable});return m},__toESM=(m,x,$)=>($=m!=null?__create$6(__getProtoOf(m)):{},__copyProps(!m||!m.__esModule?__defProp$7($,"default",{value:m,enumerable:!0}):$,m)),__async=(m,x,$)=>new Promise((S,I)=>{var j=D=>{try{C($.next(D))}catch(A){I(A)}},P=D=>{try{C($.throw(D))}catch(A){I(A)}},C=D=>D.done?S(D.value):Promise.resolve(D.value).then(j,P);C(($=$.apply(m,x)).next())}),init_react_import=__esm({"../tsup-config/react-import.js"(){}});init_react_import();init_react_import();init_react_import();var rootAreaId="root",rootZone="default-zone",rootDroppableId=`${rootAreaId}:${rootZone}`;init_react_import();var setupZone=(m,x)=>{if(x===rootDroppableId)return m;const $=__spreadProps$6(__spreadValues$7({},m),{zones:m.zones?__spreadValues$7({},m.zones):{}});return $.zones[x]=$.zones[x]||[],$};init_react_import();init_react_import();init_react_import();var defaultSlots=(m,x)=>Object.keys(x).reduce(($,S)=>x[S].type==="slot"?__spreadValues$7({[S]:[]},$):$,m),isPromise=m=>!!m&&typeof m.then=="function",flatten=m=>m.reduce((x,$)=>__spreadValues$7(__spreadValues$7({},x),$),{}),containsPromise=m=>m.some(isPromise),walkField=({value:m,fields:x,map:$,propKey:S="",propPath:I="",id:j="",config:P,recurseSlots:C=!1})=>{var D,A,R;if(((D=x[S])==null?void 0:D.type)==="slot"){const k=m||[],O=C?k.map(N=>{var V;const U=P.components[N.type];if(!U)throw new Error(`Could not find component config for ${N.type}`);const H=(V=U.fields)!=null?V:{};return walkField({value:__spreadProps$6(__spreadValues$7({},N),{props:defaultSlots(N.props,H)}),fields:H,map:$,id:N.props.id,config:P,recurseSlots:C})}):k;return containsPromise(O)?Promise.all(O):$(O,j,I,x[S],I)}if(m&&typeof m=="object")if(Array.isArray(m)){const k=((A=x[S])==null?void 0:A.type)==="array"?x[S].arrayFields:null;if(!k)return m;const O=m.map((N,V)=>walkField({value:N,fields:k,map:$,propKey:S,propPath:`${I}[${V}]`,id:j,config:P,recurseSlots:C}));return containsPromise(O)?Promise.all(O):O}else{if("$$typeof"in m)return m;{const k=((R=x[S])==null?void 0:R.type)==="object"?x[S].objectFields:x;return walkObject({value:m,fields:k,map:$,id:j,getPropPath:O=>`${I}.${O}`,config:P,recurseSlots:C})}}return m},walkObject=({value:m,fields:x,map:$,id:S,getPropPath:I,config:j,recurseSlots:P})=>{const C=Object.entries(m).map(([D,A])=>{const R={value:A,fields:x,map:$,propKey:D,propPath:I(D),id:S,config:j,recurseSlots:P},k=walkField(R);return isPromise(k)?k.then(O=>({[D]:O})):{[D]:k}},{});return containsPromise(C)?Promise.all(C).then(flatten):flatten(C)};function mapSlots(m,x,$,S=!1){var I,j,P,C,D;const A="type"in m?m.type:"root",R=A==="root"?$.root:(I=$.components)==null?void 0:I[A],k=walkObject({value:defaultSlots((j=m.props)!=null?j:{},(P=R==null?void 0:R.fields)!=null?P:{}),fields:(C=R==null?void 0:R.fields)!=null?C:{},map:x,id:m.props&&(D=m.props.id)!=null?D:"root",getPropPath:O=>O,config:$,recurseSlots:S});return isPromise(k)?k.then(O=>__spreadProps$6(__spreadValues$7({},m),{props:O})):__spreadProps$6(__spreadValues$7({},m),{props:k})}function useSlots(m,x,$,S=$,I,j){const P=reactExports.useMemo(()=>mapSlots(x,(A,R,k,O,N)=>{const V=N.replace(/\[\d+\]/g,"[*]"),H=(I==null?void 0:I[N])||(I==null?void 0:I[V])||j?S:$;return F=>H(__spreadProps$6(__spreadValues$7({allow:(O==null?void 0:O.type)==="slot"?O.allow:[],disallow:(O==null?void 0:O.type)==="slot"?O.disallow:[]},F),{zone:k,content:A}))},m).props,[m,x,I,j]);return reactExports.useMemo(()=>__spreadValues$7(__spreadValues$7({},x.props),P),[x.props,P])}init_react_import();var SlotRenderPure=m=>jsxRuntimeExports.jsx(SlotRender,__spreadValues$7({},m)),Item=({config:m,item:x,metadata:$})=>{const S=m.components[x.type],I=useSlots(m,x,j=>jsxRuntimeExports.jsx(SlotRenderPure,__spreadProps$6(__spreadValues$7({},j),{config:m,metadata:$})));return jsxRuntimeExports.jsx(S.render,__spreadProps$6(__spreadValues$7({},I),{puck:__spreadProps$6(__spreadValues$7({},I.puck),{renderDropZone:DropZoneRender$1,metadata:$||{}})}))},SlotRender=reactExports.forwardRef(function({className:x,style:$,content:S,config:I,metadata:j},P){return jsxRuntimeExports.jsx("div",{className:x,style:$,ref:P,children:S.map(C=>I.components[C.type]?jsxRuntimeExports.jsx(Item,{config:I,item:C,metadata:j},C.props.id):null)})});function DropZoneRender$1({zone:m,data:x,areaId:$="root",config:S,metadata:I={}}){let j=rootDroppableId,P=(x==null?void 0:x.content)||[];return!x||!S?null:($!==rootAreaId&&m!==rootZone&&(j=`${$}:${m}`,P=setupZone(x,j).zones[j]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:P.map(C=>{const D=S.components[C.type],A=__spreadProps$6(__spreadValues$7({},C.props),{puck:{renderDropZone:({zone:O})=>jsxRuntimeExports.jsx(DropZoneRender$1,{zone:O,data:x,areaId:C.props.id,config:S,metadata:I}),metadata:I,dragRef:null,isEditing:!1}}),R=__spreadProps$6(__spreadValues$7({},C),{props:A}),k=useSlots(S,R,O=>jsxRuntimeExports.jsx(SlotRenderPure,__spreadProps$6(__spreadValues$7({},O),{config:S,metadata:I})));return D?jsxRuntimeExports.jsx(D.render,__spreadValues$7({},k),R.props.id):null})}))}init_react_import();init_react_import();init_react_import();var getChanged=(m,x)=>m?Object.keys(m.props||{}).reduce(($,S)=>{const I=(m==null?void 0:m.props)||{},j=(x==null?void 0:x.props)||{};return __spreadProps$6(__spreadValues$7({},$),{[S]:!fdeq(j[S],I[S])})},{}):{},cache={lastChange:{}},resolveComponentData=(m,x,...$)=>__async(void 0,[m,x,...$],function*(S,I,j={},P,C,D="replace"){const A="type"in S&&S.type!=="root"?I.components[S.type]:I.root,R=__spreadValues$7({},S),k=(A==null?void 0:A.resolveData)&&S.props,O="id"in S.props?S.props.id:"root";if(k){const{item:V=null,resolved:U={}}=cache.lastChange[O]||{};if(S&&fdeq(S,V))return{node:U,didChange:!1};const H=getChanged(S,V);P&&P(S);const{props:Z,readOnly:F={}}=yield A.resolveData(S,{changed:H,lastData:V,metadata:__spreadValues$7(__spreadValues$7({},j),A.metadata),trigger:D});R.props=__spreadValues$7(__spreadValues$7({},S.props),Z),Object.keys(F).length&&(R.readOnly=F)}let N=yield mapSlots(R,V=>__async(void 0,null,function*(){return yield Promise.all(V.map(U=>__async(void 0,null,function*(){return(yield resolveComponentData(U,I,j,P,C,D)).node})))}),I);return k&&C&&C(R),cache.lastChange[O]={item:S,resolved:N},{node:N,didChange:!fdeq(S,N)}});init_react_import();init_react_import();init_react_import();init_react_import();function walkTree(m,x,$){var S,I;const j=A=>mapSlots(A,(R,k,O)=>{var N;return(N=$(R,{parentId:k,propName:O}))!=null?N:R},x,!0);if("props"in m)return j(m);const P=m,C=(S=P.zones)!=null?S:{},D=P.content.map(j);return{root:j(P.root),content:(I=$(D,{parentId:"root",propName:"default-zone"}))!=null?I:D,zones:Object.keys(C).reduce((A,R)=>__spreadProps$6(__spreadValues$7({},A),{[R]:C[R].map(j)}),{})}}init_react_import();init_react_import();init_react_import();var defaultViewports=[{width:360,height:"auto",icon:"Smartphone",label:"Small"},{width:768,height:"auto",icon:"Tablet",label:"Medium"},{width:1280,height:"auto",icon:"Monitor",label:"Large"}],defaultAppState={data:{content:[],root:{},zones:{}},ui:{leftSideBarVisible:!0,rightSideBarVisible:!0,arrayState:{},itemSelector:null,componentList:{},isDragging:!1,previewMode:"edit",viewports:{current:{width:defaultViewports[0].width,height:defaultViewports[0].height||"auto"},options:[],controlsVisible:!0},field:{focus:null}},indexes:{nodes:{},zones:{}}};init_react_import();init_react_import();init_react_import();var getZoneId$1=m=>m?m&&m.indexOf(":")>-1?m.split(":"):[rootDroppableId,m]:[];function forRelatedZones(m,x,$,S=[]){Object.entries(x.zones||{}).forEach(([I,j])=>{const[P]=getZoneId$1(I);P===m.props.id&&$(S,I,j)})}init_react_import();init_react_import();var stripSlots=(m,x)=>mapSlots(m,()=>null,x),{flatten:flatten2,unflatten}=flat$1,flattenNode=(m,x)=>__spreadProps$6(__spreadValues$7({},m),{props:flatten2(stripSlots(m,x).props)}),expandNode=m=>{const x=unflatten(m.props);return __spreadProps$6(__spreadValues$7({},m),{props:x})};function walkAppState(m,x,$=I=>I,S=I=>I){var I;let j={};const P={},C={},D=(F,L,z,G,q)=>{var X;const[M]=L.split(":"),W=((X=$(z,L,G))!=null?X:z)||[],[T,K]=L.split(":"),J=`${q||M}:${K}`,ne=W.map((re,te)=>R(re,[...F,J],te));return P[J]={contentIds:ne.map(re=>re.props.id),type:G},[J,ne]},A=(F,L,z)=>{forRelatedZones(F,m.data,(G,q,X)=>{const[M,W]=D(G,q,X,"dropzone",L);j[M]=W},z)},R=(F,L,z)=>{const G=S(F,L,z);if(!G)return F;const q=G.props.id,X=__spreadProps$6(__spreadValues$7({},mapSlots(G,(ne,re,te)=>{const ee=`${re}:${te}`,[ue,pe]=D(L,ee,ne,"slot",re);return pe},x).props),{id:q});A(F,q,L);const M=__spreadProps$6(__spreadValues$7({},F),{props:X}),W=L[L.length-1],[T,K]=W?W.split(":"):[null,""];C[q]={data:M,flatData:flattenNode(M,x),path:L,parentId:T,zone:K};const J=__spreadProps$6(__spreadValues$7({},M),{props:__spreadValues$7({},M.props)});return X.id==="root"&&(delete J.type,delete J.props.id),J},k=m.data.zones||{},[O,N]=D([],rootDroppableId,m.data.content,"root"),V=N,U=Object.keys(j);Object.keys(k||{}).forEach(F=>{const[L]=F.split(":");if(U.includes(F))return;const[z,G]=D([rootDroppableId],F,k[F],"dropzone",L);j[F]=G},j);const H=R({type:"root",props:__spreadProps$6(__spreadValues$7({},(I=m.data.root.props)!=null?I:m.data.root),{id:"root"})},[],-1),Z=__spreadProps$6(__spreadValues$7({},m.data.root),{props:H.props});return __spreadProps$6(__spreadValues$7({},m),{data:{root:Z,content:V,zones:__spreadValues$7(__spreadValues$7({},m.data.zones),j)},indexes:{nodes:__spreadValues$7(__spreadValues$7({},m.indexes.nodes),C),zones:__spreadValues$7(__spreadValues$7({},m.indexes.zones),P)}})}const createStoreImpl=m=>{let x;const $=new Set,S=(A,R)=>{const k=typeof A=="function"?A(x):A;if(!Object.is(k,x)){const O=x;x=R??(typeof k!="object"||k===null)?k:Object.assign({},x,k),$.forEach(N=>N(x,O))}},I=()=>x,C={setState:S,getState:I,getInitialState:()=>D,subscribe:A=>($.add(A),()=>$.delete(A))},D=x=m(S,I,C);return C},createStore=m=>m?createStoreImpl(m):createStoreImpl,identity=m=>m;function useStore(m,x=identity){const $=React.useSyncExternalStore(m.subscribe,()=>x(m.getState()),()=>x(m.getInitialState()));return React.useDebugValue($),$}const createImpl=m=>{const x=createStore(m),$=S=>useStore(x,S);return Object.assign($,x),$},create=m=>m?createImpl(m):createImpl,subscribeWithSelectorImpl=m=>(x,$,S)=>{const I=S.subscribe;return S.subscribe=(P,C,D)=>{let A=P;if(C){const R=(D==null?void 0:D.equalityFn)||Object.is;let k=P(S.getState());A=O=>{const N=P(O);if(!R(k,N)){const V=k;C(k=N,V)}},D!=null&&D.fireImmediately&&C(k,k)}return I(A)},m(x,$,S)},subscribeWithSelector=subscribeWithSelectorImpl;var i=Symbol.for("preact-signals");function t(){if(s>1)s--;else{for(var m,x=!1;h!==void 0;){var $=h;for(h=void 0,f++;$!==void 0;){var S=$.o;if($.o=void 0,$.f&=-3,!(8&$.f)&&c$1($))try{$.c()}catch(I){x||(m=I,x=!0)}$=S}}if(f=0,s--,x)throw m}}function r(m){if(s>0)return m();s++;try{return m()}finally{t()}}var o=void 0;function n(m){var x=o;o=void 0;try{return m()}finally{o=x}}var h=void 0,s=0,f=0,v=0;function e(m){if(o!==void 0){var x=m.n;if(x===void 0||x.t!==o)return x={i:0,S:m,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:x},o.s!==void 0&&(o.s.n=x),o.s=x,m.n=x,32&o.f&&m.S(x),x;if(x.i===-1)return x.i=0,x.n!==void 0&&(x.n.p=x.p,x.p!==void 0&&(x.p.n=x.n),x.p=o.s,x.n=void 0,o.s.n=x,o.s=x),x}}function u(m,x){this.v=m,this.i=0,this.n=void 0,this.t=void 0,this.W=x==null?void 0:x.watched,this.Z=x==null?void 0:x.unwatched}u.prototype.brand=i;u.prototype.h=function(){return!0};u.prototype.S=function(m){var x=this,$=this.t;$!==m&&m.e===void 0&&(m.x=$,this.t=m,$!==void 0?$.e=m:n(function(){var S;(S=x.W)==null||S.call(x)}))};u.prototype.U=function(m){var x=this;if(this.t!==void 0){var $=m.e,S=m.x;$!==void 0&&($.x=S,m.e=void 0),S!==void 0&&(S.e=$,m.x=void 0),m===this.t&&(this.t=S,S===void 0&&n(function(){var I;(I=x.Z)==null||I.call(x)}))}};u.prototype.subscribe=function(m){var x=this;return E(function(){var $=x.value,S=o;o=void 0;try{m($)}finally{o=S}})};u.prototype.valueOf=function(){return this.value};u.prototype.toString=function(){return this.value+""};u.prototype.toJSON=function(){return this.value};u.prototype.peek=function(){var m=o;o=void 0;try{return this.value}finally{o=m}};Object.defineProperty(u.prototype,"value",{get:function(){var m=e(this);return m!==void 0&&(m.i=this.i),this.v},set:function(m){if(m!==this.v){if(f>100)throw new Error("Cycle detected");this.v=m,this.i++,v++,s++;try{for(var x=this.t;x!==void 0;x=x.x)x.t.N()}finally{t()}}}});function d(m,x){return new u(m,x)}function c$1(m){for(var x=m.s;x!==void 0;x=x.n)if(x.S.i!==x.i||!x.S.h()||x.S.i!==x.i)return!0;return!1}function a(m){for(var x=m.s;x!==void 0;x=x.n){var $=x.S.n;if($!==void 0&&(x.r=$),x.S.n=x,x.i=-1,x.n===void 0){m.s=x;break}}}function l(m){for(var x=m.s,$=void 0;x!==void 0;){var S=x.p;x.i===-1?(x.S.U(x),S!==void 0&&(S.n=x.n),x.n!==void 0&&(x.n.p=S)):$=x,x.S.n=x.r,x.r!==void 0&&(x.r=void 0),x=S}m.s=$}function y(m,x){u.call(this,void 0),this.x=m,this.s=void 0,this.g=v-1,this.f=4,this.W=x==null?void 0:x.watched,this.Z=x==null?void 0:x.unwatched}y.prototype=new u;y.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===v))return!0;if(this.g=v,this.f|=1,this.i>0&&!c$1(this))return this.f&=-2,!0;var m=o;try{a(this),o=this;var x=this.x();(16&this.f||this.v!==x||this.i===0)&&(this.v=x,this.f&=-17,this.i++)}catch($){this.v=$,this.f|=16,this.i++}return o=m,l(this),this.f&=-2,!0};y.prototype.S=function(m){if(this.t===void 0){this.f|=36;for(var x=this.s;x!==void 0;x=x.n)x.S.S(x)}u.prototype.S.call(this,m)};y.prototype.U=function(m){if(this.t!==void 0&&(u.prototype.U.call(this,m),this.t===void 0)){this.f&=-33;for(var x=this.s;x!==void 0;x=x.n)x.S.U(x)}};y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var m=this.t;m!==void 0;m=m.x)m.t.N()}};Object.defineProperty(y.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var m=e(this);if(this.h(),m!==void 0&&(m.i=this.i),16&this.f)throw this.v;return this.v}});function w(m,x){return new y(m,x)}function _(m){var x=m.u;if(m.u=void 0,typeof x=="function"){s++;var $=o;o=void 0;try{x()}catch(S){throw m.f&=-2,m.f|=8,b(m),S}finally{o=$,t()}}}function b(m){for(var x=m.s;x!==void 0;x=x.n)x.S.U(x);m.x=void 0,m.s=void 0,_(m)}function g(m){if(o!==this)throw new Error("Out-of-order effect");l(this),o=m,this.f&=-2,8&this.f&&b(this),t()}function p(m){this.x=m,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}p.prototype.c=function(){var m=this.S();try{if(8&this.f||this.x===void 0)return;var x=this.x();typeof x=="function"&&(this.u=x)}finally{m()}};p.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,_(this),a(this),s++;var m=o;return o=this,g.bind(this,m)};p.prototype.N=function(){2&this.f||(this.f|=2,this.o=h,h=this)};p.prototype.d=function(){this.f|=8,1&this.f||b(this)};p.prototype.dispose=function(){this.d()};function E(m){var x=new p(m);try{x.c()}catch(S){throw x.d(),S}var $=x.d.bind(x);return $[Symbol.dispose]=$,$}var __create$5=Object.create,__defProp$6=Object.defineProperty,__defProps$5=Object.defineProperties,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropDescs$5=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__knownSymbol$5=(m,x)=>(x=Symbol[m])?x:Symbol.for("Symbol."+m),__typeError$6=m=>{throw TypeError(m)},__defNormalProp$6=(m,x,$)=>x in m?__defProp$6(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$6=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$6.call(x,$)&&__defNormalProp$6(m,$,x[$]);if(__getOwnPropSymbols$6)for(var $ of __getOwnPropSymbols$6(x))__propIsEnum$6.call(x,$)&&__defNormalProp$6(m,$,x[$]);return m},__spreadProps$5=(m,x)=>__defProps$5(m,__getOwnPropDescs$5(x)),__name$2=(m,x)=>__defProp$6(m,"name",{value:x,configurable:!0}),__decoratorStart$5=m=>{var x;return[,,,__create$5((x=void 0)!=null?x:null)]},__decoratorStrings$5=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn$5=m=>m!==void 0&&typeof m!="function"?__typeError$6("Function expected"):m,__decoratorContext$5=(m,x,$,S,I)=>({kind:__decoratorStrings$5[m],name:x,metadata:S,addInitializer:j=>$._?__typeError$6("Already initialized"):I.push(__expectFn$5(j||null))}),__decoratorMetadata$5=(m,x)=>__defNormalProp$6(x,__knownSymbol$5("metadata"),m[3]),__runInitializers$5=(m,x,$,S)=>{for(var I=0,j=m[x>>1],P=j&&j.length;I<P;I++)x&1?j[I].call($):S=j[I].call($,S);return S},__decorateElement$5=(m,x,$,S,I,j)=>{var P,C,D,A,R,k=x&7,O=!!(x&8),N=!!(x&16),V=k>3?m.length+1:k?O?1:2:0,U=__decoratorStrings$5[k+5],H=k>3&&(m[V-1]=[]),Z=m[V]||(m[V]=[]),F=k&&(!N&&!O&&(I=I.prototype),k<5&&(k>3||!N)&&__getOwnPropDesc$5(k<4?I:{get[$](){return __privateGet$6(this,j)},set[$](z){return __privateSet$6(this,j,z)}},$));k?N&&k<4&&__name$2(j,(k>2?"set ":k>1?"get ":"")+$):__name$2(I,$);for(var L=S.length-1;L>=0;L--)A=__decoratorContext$5(k,$,D={},m[3],Z),k&&(A.static=O,A.private=N,R=A.access={has:N?z=>__privateIn$2(I,z):z=>$ in z},k^3&&(R.get=N?z=>(k^1?__privateGet$6:__privateMethod$3)(z,I,k^4?j:F.get):z=>z[$]),k>2&&(R.set=N?(z,G)=>__privateSet$6(z,I,G,k^4?j:F.set):(z,G)=>z[$]=G)),C=(0,S[L])(k?k<4?N?j:F[U]:k>4?void 0:{get:F.get,set:F.set}:I,A),D._=1,k^4||C===void 0?__expectFn$5(C)&&(k>4?H.unshift(C):k?N?j=C:F[U]=C:I=C):typeof C!="object"||C===null?__typeError$6("Object expected"):(__expectFn$5(P=C.get)&&(F.get=P),__expectFn$5(P=C.set)&&(F.set=P),__expectFn$5(P=C.init)&&H.unshift(P));return k||__decoratorMetadata$5(m,I),F&&__defProp$6(I,$,F),N?k^4?j:F:I},__accessCheck$6=(m,x,$)=>x.has(m)||__typeError$6("Cannot "+$),__privateIn$2=(m,x)=>Object(x)!==x?__typeError$6('Cannot use the "in" operator on this value'):m.has(x),__privateGet$6=(m,x,$)=>(__accessCheck$6(m,x,"read from private field"),$?$.call(m):x.get(m)),__privateAdd$6=(m,x,$)=>x.has(m)?__typeError$6("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet$6=(m,x,$,S)=>(__accessCheck$6(m,x,"write to private field"),S?S.call(m,$):x.set(m,$),$),__privateMethod$3=(m,x,$)=>(__accessCheck$6(m,x,"access private method"),$);function computed(m,x){if(x){let $;return w(()=>{const S=m();return S&&$&&x($,S)?$:($=S,S)})}return w(m)}function deepEqual(m,x){if(Object.is(m,x))return!0;if(m===null||x===null)return!1;if(typeof m=="function"&&typeof x=="function")return m===x;if(m instanceof Set&&x instanceof Set){if(m.size!==x.size)return!1;for(const $ of m)if(!x.has($))return!1;return!0}if(Array.isArray(m))return!Array.isArray(x)||m.length!==x.length?!1:!m.some((S,I)=>!deepEqual(S,x[I]));if(typeof m=="object"&&typeof x=="object"){const $=Object.keys(m),S=Object.keys(x);return $.length!==S.length?!1:!$.some(j=>!deepEqual(m[j],x[j]))}return!1}function reactive({get:m},x){return{init($){return d($)},get(){return m.call(this).value},set($){const S=m.call(this);S.peek()!==$&&(S.value=$)}}}function derived(m,x){const $=new WeakMap;return function(){let S=$.get(this);return S||(S=computed(m.bind(this)),$.set(this,S)),S.value}}function enumerable(m=!0){return function(x,$){$.addInitializer(function(){const S=$.kind==="field"?this:$.static?this:Object.getPrototypeOf(this),I=Object.getOwnPropertyDescriptor(S,$.name);I&&Object.defineProperty(S,$.name,__spreadProps$5(__spreadValues$6({},I),{enumerable:m}))})}}function effects(...m){const x=m.map(E);return()=>x.forEach($=>$())}var _previous_dec,_initial_dec,_current_dec$1,_current_dec2,_previous_dec2,_initial_dec2,_init$5,_initial,_a$3,initial_get,initial_set,_ValueHistory_instances,_previous,_b$1,previous_get,previous_set,_current,_c$2,current_get,current_set;_initial_dec2=[reactive],_previous_dec2=[reactive],_current_dec2=[reactive],_current_dec$1=[enumerable()],_initial_dec=[enumerable()],_previous_dec=[enumerable()];var ValueHistory=class{constructor(m,x=Object.is){this.defaultValue=m,this.equals=x,__runInitializers$5(_init$5,5,this),__privateAdd$6(this,_ValueHistory_instances),__privateAdd$6(this,_initial,__runInitializers$5(_init$5,8,this)),__runInitializers$5(_init$5,11,this),__privateAdd$6(this,_previous,__runInitializers$5(_init$5,12,this)),__runInitializers$5(_init$5,15,this),__privateAdd$6(this,_current,__runInitializers$5(_init$5,16,this)),__runInitializers$5(_init$5,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return __privateGet$6(this,_ValueHistory_instances,current_get)}get initial(){return __privateGet$6(this,_ValueHistory_instances,initial_get)}get previous(){return __privateGet$6(this,_ValueHistory_instances,previous_get)}set current(m){const x=n(()=>__privateGet$6(this,_ValueHistory_instances,current_get));m&&x&&this.equals(x,m)||r(()=>{__privateGet$6(this,_ValueHistory_instances,initial_get)||__privateSet$6(this,_ValueHistory_instances,m,initial_set),__privateSet$6(this,_ValueHistory_instances,x,previous_set),__privateSet$6(this,_ValueHistory_instances,m,current_set)})}reset(m=this.defaultValue){r(()=>{__privateSet$6(this,_ValueHistory_instances,void 0,previous_set),__privateSet$6(this,_ValueHistory_instances,m,initial_set),__privateSet$6(this,_ValueHistory_instances,m,current_set)})}};_init$5=__decoratorStart$5();_initial=new WeakMap;_ValueHistory_instances=new WeakSet;_previous=new WeakMap;_current=new WeakMap;_a$3=__decorateElement$5(_init$5,20,"#initial",_initial_dec2,_ValueHistory_instances,_initial),initial_get=_a$3.get,initial_set=_a$3.set;_b$1=__decorateElement$5(_init$5,20,"#previous",_previous_dec2,_ValueHistory_instances,_previous),previous_get=_b$1.get,previous_set=_b$1.set;_c$2=__decorateElement$5(_init$5,20,"#current",_current_dec2,_ValueHistory_instances,_current),current_get=_c$2.get,current_set=_c$2.set;__decorateElement$5(_init$5,2,"current",_current_dec$1,ValueHistory);__decorateElement$5(_init$5,2,"initial",_initial_dec,ValueHistory);__decorateElement$5(_init$5,2,"previous",_previous_dec,ValueHistory);__decoratorMetadata$5(_init$5,ValueHistory);function snapshot(m){return n(()=>{const x={};for(const $ in m)x[$]=m[$];return x})}var _store,WeakStore=class{constructor(){__privateAdd$6(this,_store,new WeakMap)}get(m,x){var $;return m?($=__privateGet$6(this,_store).get(m))==null?void 0:$.get(x):void 0}set(m,x,$){var S;if(m)return __privateGet$6(this,_store).has(m)||__privateGet$6(this,_store).set(m,new Map),(S=__privateGet$6(this,_store).get(m))==null?void 0:S.set(x,$)}clear(m){var x;return m?(x=__privateGet$6(this,_store).get(m))==null?void 0:x.clear():void 0}};_store=new WeakMap;var __create$4=Object.create,__defProp$5=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropSymbols$5=Object.getOwnPropertySymbols,__hasOwnProp$5=Object.prototype.hasOwnProperty,__propIsEnum$5=Object.prototype.propertyIsEnumerable,__knownSymbol$4=(m,x)=>(x=Symbol[m])?x:Symbol.for("Symbol."+m),__typeError$5=m=>{throw TypeError(m)},__pow=Math.pow,__defNormalProp$5=(m,x,$)=>x in m?__defProp$5(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$5=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$5.call(x,$)&&__defNormalProp$5(m,$,x[$]);if(__getOwnPropSymbols$5)for(var $ of __getOwnPropSymbols$5(x))__propIsEnum$5.call(x,$)&&__defNormalProp$5(m,$,x[$]);return m},__decoratorStart$4=m=>{var x;return[,,,__create$4((x=m==null?void 0:m[__knownSymbol$4("metadata")])!=null?x:null)]},__decoratorStrings$4=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn$4=m=>m!==void 0&&typeof m!="function"?__typeError$5("Function expected"):m,__decoratorContext$4=(m,x,$,S,I)=>({kind:__decoratorStrings$4[m],name:x,metadata:S,addInitializer:j=>$._?__typeError$5("Already initialized"):I.push(__expectFn$4(j||null))}),__decoratorMetadata$4=(m,x)=>__defNormalProp$5(x,__knownSymbol$4("metadata"),m[3]),__runInitializers$4=(m,x,$,S)=>{for(var I=0,j=m[x>>1],P=j&&j.length;I<P;I++)j[I].call($);return S},__decorateElement$4=(m,x,$,S,I,j)=>{for(var P,C,D,A,R=x&7,k=!1,O=!1,N=2,V=__decoratorStrings$4[R+5],U=m[N]||(m[N]=[]),H=(I=I.prototype,__getOwnPropDesc$4(I,$)),Z=S.length-1;Z>=0;Z--)D=__decoratorContext$4(R,$,C={},m[3],U),D.static=k,D.private=O,A=D.access={has:F=>$ in F},A.get=F=>F[$],P=(0,S[Z])(H[V],D),C._=1,__expectFn$4(P)&&(H[V]=P);return H&&__defProp$5(I,$,H),I},__accessCheck$5=(m,x,$)=>x.has(m)||__typeError$5("Cannot "+$),__privateGet$5=(m,x,$)=>(__accessCheck$5(m,x,"read from private field"),x.get(m)),__privateAdd$5=(m,x,$)=>x.has(m)?__typeError$5("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet$5=(m,x,$,S)=>(__accessCheck$5(m,x,"write to private field"),x.set(m,$),$),Point$1=class Ze{constructor(x,$){this.x=x,this.y=$}static delta(x,$){return new Ze(x.x-$.x,x.y-$.y)}static distance(x,$){return Math.hypot(x.x-$.x,x.y-$.y)}static equals(x,$){return x.x===$.x&&x.y===$.y}static from({x,y:$}){return new Ze(x,$)}},Rectangle=class Fe{constructor(x,$,S,I){this.left=x,this.top=$,this.width=S,this.height=I,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(x,$){const{top:S,left:I,width:j,height:P,scale:C}=this,D=new Fe(I+x,S+$,j,P);return D.scale=__spreadValues$5({},C),D}get boundingRectangle(){const{width:x,height:$,left:S,top:I,right:j,bottom:P}=this;return{width:x,height:$,left:S,top:I,right:j,bottom:P}}get center(){const{left:x,top:$,right:S,bottom:I}=this;return new Point$1((x+S)/2,($+I)/2)}get area(){const{width:x,height:$}=this;return x*$}equals(x){if(!(x instanceof Fe))return!1;const{left:$,top:S,width:I,height:j}=this;return $===x.left&&S===x.top&&I===x.width&&j===x.height}containsPoint(x){const{top:$,left:S,bottom:I,right:j}=this;return $<=x.y&&x.y<=I&&S<=x.x&&x.x<=j}intersectionArea(x){return x instanceof Fe?rectangleRectangleIntersection(this,x):0}intersectionRatio(x){const{area:$}=this,S=this.intersectionArea(x);return S/(x.area+$-S)}get bottom(){const{top:x,height:$}=this;return x+$}get right(){const{left:x,width:$}=this;return x+$}get aspectRatio(){const{width:x,height:$}=this;return x/$}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:x,left:$,width:S,height:I}){return new Fe($,x,S,I)}static delta(x,$,S={x:"center",y:"center"}){const I=(j,P)=>{const C=S[P],D=P==="x"?j.left:j.top,A=P==="x"?j.width:j.height;return C=="start"?D:C=="end"?D+A:D+A/2};return Point$1.delta({x:I(x,"x"),y:I(x,"y")},{x:I($,"x"),y:I($,"y")})}static intersectionRatio(x,$){return Fe.from(x).intersectionRatio(Fe.from($))}};function rectangleRectangleIntersection(m,x){const $=Math.max(x.top,m.top),S=Math.max(x.left,m.left),I=Math.min(x.left+x.width,m.left+m.width),j=Math.min(x.top+x.height,m.top+m.height),P=I-S,C=j-$;return S<I&&$<j?P*C:0}var _direction_dec$1,_delta_dec$1,_a$2,_timestamp$1,_init$4,Position$1=class extends(_a$2=ValueHistory,_delta_dec$1=[derived],_direction_dec$1=[derived],_a$2){constructor(x){const $=Point$1.from(x);super($,(S,I)=>Point$1.equals(S,I)),__runInitializers$4(_init$4,5,this),__privateAdd$5(this,_timestamp$1,0),this.velocity={x:0,y:0}}get delta(){return Point$1.delta(this.current,this.initial)}get direction(){const{current:x,previous:$}=this;if(!$)return null;const S={x:x.x-$.x,y:x.y-$.y};return!S.x&&!S.y?null:Math.abs(S.x)>Math.abs(S.y)?S.x>0?"right":"left":S.y>0?"down":"up"}get current(){return super.current}set current(x){const{current:$}=this,S=Point$1.from(x),I={x:S.x-$.x,y:S.y-$.y},j=Date.now(),P=j-__privateGet$5(this,_timestamp$1),C=D=>Math.round(D/P*100);r(()=>{__privateSet$5(this,_timestamp$1,j),this.velocity={x:C(I.x),y:C(I.y)},super.current=S})}reset(x=this.defaultValue){super.reset(Point$1.from(x)),this.velocity={x:0,y:0}}};_init$4=__decoratorStart$4(_a$2);_timestamp$1=new WeakMap;__decorateElement$4(_init$4,2,"delta",_delta_dec$1,Position$1);__decorateElement$4(_init$4,2,"direction",_direction_dec$1,Position$1);__decoratorMetadata$4(_init$4,Position$1);function exceedsDistance({x:m,y:x},$){const S=Math.abs(m),I=Math.abs(x);return typeof $=="number"?Math.sqrt(__pow(S,2)+__pow(I,2))>$:"x"in $&&"y"in $?S>$.x&&I>$.y:"x"in $?S>$.x:"y"in $?I>$.y:!1}var Axis$1=(m=>(m.Horizontal="x",m.Vertical="y",m))(Axis$1||{}),Axes=Object.values(Axis$1),__create$3=Object.create,__defProp$4=Object.defineProperty,__defProps$4=Object.defineProperties,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropDescs$4=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$4=Object.getOwnPropertySymbols,__hasOwnProp$4=Object.prototype.hasOwnProperty,__propIsEnum$4=Object.prototype.propertyIsEnumerable,__knownSymbol$3=(m,x)=>(x=Symbol[m])?x:Symbol.for("Symbol."+m),__typeError$4=m=>{throw TypeError(m)},__defNormalProp$4=(m,x,$)=>x in m?__defProp$4(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$4=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$4.call(x,$)&&__defNormalProp$4(m,$,x[$]);if(__getOwnPropSymbols$4)for(var $ of __getOwnPropSymbols$4(x))__propIsEnum$4.call(x,$)&&__defNormalProp$4(m,$,x[$]);return m},__spreadProps$4=(m,x)=>__defProps$4(m,__getOwnPropDescs$4(x)),__name$1=(m,x)=>__defProp$4(m,"name",{value:x,configurable:!0}),__objRest$3=(m,x)=>{var $={};for(var S in m)__hasOwnProp$4.call(m,S)&&x.indexOf(S)<0&&($[S]=m[S]);if(m!=null&&__getOwnPropSymbols$4)for(var S of __getOwnPropSymbols$4(m))x.indexOf(S)<0&&__propIsEnum$4.call(m,S)&&($[S]=m[S]);return $},__decoratorStart$3=m=>{var x;return[,,,__create$3((x=m==null?void 0:m[__knownSymbol$3("metadata")])!=null?x:null)]},__decoratorStrings$3=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn$3=m=>m!==void 0&&typeof m!="function"?__typeError$4("Function expected"):m,__decoratorContext$3=(m,x,$,S,I)=>({kind:__decoratorStrings$3[m],name:x,metadata:S,addInitializer:j=>$._?__typeError$4("Already initialized"):I.push(__expectFn$3(j||null))}),__decoratorMetadata$3=(m,x)=>__defNormalProp$4(x,__knownSymbol$3("metadata"),m[3]),__runInitializers$3=(m,x,$,S)=>{for(var I=0,j=m[x>>1],P=j&&j.length;I<P;I++)x&1?j[I].call($):S=j[I].call($,S);return S},__decorateElement$3=(m,x,$,S,I,j)=>{var P,C,D,A,R,k=x&7,O=!!(x&8),N=!!(x&16),V=k>3?m.length+1:k?O?1:2:0,U=__decoratorStrings$3[k+5],H=k>3&&(m[V-1]=[]),Z=m[V]||(m[V]=[]),F=k&&(!N&&!O&&(I=I.prototype),k<5&&(k>3||!N)&&__getOwnPropDesc$3(k<4?I:{get[$](){return __privateGet$4(this,j)},set[$](z){return __privateSet$4(this,j,z)}},$));k?N&&k<4&&__name$1(j,(k>2?"set ":k>1?"get ":"")+$):__name$1(I,$);for(var L=S.length-1;L>=0;L--)A=__decoratorContext$3(k,$,D={},m[3],Z),k&&(A.static=O,A.private=N,R=A.access={has:N?z=>__privateIn$1(I,z):z=>$ in z},k^3&&(R.get=N?z=>(k^1?__privateGet$4:__privateMethod$2)(z,I,k^4?j:F.get):z=>z[$]),k>2&&(R.set=N?(z,G)=>__privateSet$4(z,I,G,k^4?j:F.set):(z,G)=>z[$]=G)),C=(0,S[L])(k?k<4?N?j:F[U]:k>4?void 0:{get:F.get,set:F.set}:I,A),D._=1,k^4||C===void 0?__expectFn$3(C)&&(k>4?H.unshift(C):k?N?j=C:F[U]=C:I=C):typeof C!="object"||C===null?__typeError$4("Object expected"):(__expectFn$3(P=C.get)&&(F.get=P),__expectFn$3(P=C.set)&&(F.set=P),__expectFn$3(P=C.init)&&H.unshift(P));return k||__decoratorMetadata$3(m,I),F&&__defProp$4(I,$,F),N?k^4?j:F:I},__accessCheck$4=(m,x,$)=>x.has(m)||__typeError$4("Cannot "+$),__privateIn$1=(m,x)=>Object(x)!==x?__typeError$4('Cannot use the "in" operator on this value'):m.has(x),__privateGet$4=(m,x,$)=>(__accessCheck$4(m,x,"read from private field"),$?$.call(m):x.get(m)),__privateAdd$4=(m,x,$)=>x.has(m)?__typeError$4("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet$4=(m,x,$,S)=>(__accessCheck$4(m,x,"write to private field"),S?S.call(m,$):x.set(m,$),$),__privateMethod$2=(m,x,$)=>(__accessCheck$4(m,x,"access private method"),$);function configure(m,x){return{plugin:m,options:x}}function configurator(m){return x=>configure(m,x)}function descriptor(m){return typeof m=="function"?{plugin:m,options:void 0}:m}var _disabled_dec,_init$3,_disabled,_cleanupFunctions$1;_disabled_dec=[reactive];var Plugin=class{constructor(m,x){this.manager=m,this.options=x,__privateAdd$4(this,_disabled,__runInitializers$3(_init$3,8,this,!1)),__runInitializers$3(_init$3,11,this),__privateAdd$4(this,_cleanupFunctions$1,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return n(()=>this.disabled)}configure(m){this.options=m}registerEffect(m){const x=E(m.bind(this));return __privateGet$4(this,_cleanupFunctions$1).add(x),x}destroy(){__privateGet$4(this,_cleanupFunctions$1).forEach(m=>m())}static configure(m){return configure(this,m)}};_init$3=__decoratorStart$3(null);_disabled=new WeakMap;_cleanupFunctions$1=new WeakMap;__decorateElement$3(_init$3,4,"disabled",_disabled_dec,Plugin,_disabled);__decoratorMetadata$3(_init$3,Plugin);var CorePlugin=class extends Plugin{},_previousValues,PluginRegistry=class{constructor(m){this.manager=m,this.instances=new Map,__privateAdd$4(this,_previousValues,[])}get values(){return Array.from(this.instances.values())}set values(m){const x=m.map(descriptor).reduceRight((S,I)=>S.some(({plugin:j})=>j===I.plugin)?S:[I,...S],[]),$=x.map(({plugin:S})=>S);for(const S of __privateGet$4(this,_previousValues))if(!$.includes(S)){if(S.prototype instanceof CorePlugin)continue;this.unregister(S)}for(const{plugin:S,options:I}of x)this.register(S,I);__privateSet$4(this,_previousValues,$)}get(m){return this.instances.get(m)}register(m,x){const $=this.instances.get(m);if($)return $.options!==x&&($.options=x),$;const S=new m(this.manager,x);return this.instances.set(m,S),S}unregister(m){const x=this.instances.get(m);x&&(x.destroy(),this.instances.delete(m))}destroy(){for(const m of this.instances.values())m.destroy();this.instances.clear()}};_previousValues=new WeakMap;function sortCollisions(m,x){return m.priority===x.priority?m.type===x.type?x.value-m.value:x.type-m.type:x.priority-m.priority}var DEFAULT_VALUE=[],_previousCoordinates,_collisions,CollisionObserver=class extends Plugin{constructor(m){super(m),__privateAdd$4(this,_previousCoordinates),__privateAdd$4(this,_collisions),this.computeCollisions=this.computeCollisions.bind(this),__privateSet$4(this,_collisions,d(DEFAULT_VALUE)),this.destroy=effects(()=>{const x=this.computeCollisions(),$=n(()=>this.manager.dragOperation.position.current);if(x!==DEFAULT_VALUE){const S=__privateGet$4(this,_previousCoordinates);if(__privateSet$4(this,_previousCoordinates,$),S&&$.x==S.x&&$.y==S.y)return}else __privateSet$4(this,_previousCoordinates,void 0);__privateGet$4(this,_collisions).value=x},()=>{const{dragOperation:x}=this.manager;x.status.initialized&&this.forceUpdate()})}forceUpdate(m=!0){n(()=>{m?__privateGet$4(this,_collisions).value=this.computeCollisions():__privateSet$4(this,_previousCoordinates,void 0)})}computeCollisions(m,x){const{registry:$,dragOperation:S}=this.manager,{source:I,shape:j,status:P}=S;if(!P.initialized||!j)return DEFAULT_VALUE;const C=[],D=[];for(const A of m??$.droppables){if(A.disabled||I&&!A.accepts(I))continue;const R=x??A.collisionDetector;if(!R)continue;D.push(A),A.shape;const k=n(()=>R({droppable:A,dragOperation:S}));k&&(A.collisionPriority!=null&&(k.priority=A.collisionPriority),C.push(k))}return D.length===0?DEFAULT_VALUE:(C.sort(sortCollisions),C)}get collisions(){return __privateGet$4(this,_collisions).value}};_previousCoordinates=new WeakMap;_collisions=new WeakMap;var Monitor$1=class{constructor(){this.registry=new Map}addEventListener(x,$){const{registry:S}=this,I=new Set(S.get(x));return I.add($),S.set(x,I),()=>this.removeEventListener(x,$)}removeEventListener(x,$){const{registry:S}=this,I=new Set(S.get(x));I.delete($),S.set(x,I)}dispatch(x,...$){const{registry:S}=this,I=S.get(x);if(I)for(const j of I)j(...$)}},DragDropMonitor=class extends Monitor$1{constructor(m){super(),this.manager=m}dispatch(m,x){const $=[x,this.manager];super.dispatch(m,...$)}};function defaultPreventable(m,x=!0){let $=!1;return __spreadProps$4(__spreadValues$4({},m),{cancelable:x,get defaultPrevented(){return $},preventDefault(){x&&($=!0)}})}var CollisionNotifier=class extends CorePlugin{constructor(m){super(m);const x=(S,I)=>S.map(({id:j})=>j).join("")===I.map(({id:j})=>j).join("");let $=[];this.destroy=effects(()=>{const{dragOperation:S,collisionObserver:I}=m;S.status.initializing&&($=[],I.enable())},()=>{const{collisionObserver:S,monitor:I}=m,{collisions:j}=S;if(S.isDisabled())return;const P=defaultPreventable({collisions:j});if(I.dispatch("collision",P),P.defaultPrevented||x(j,$))return;$=j;const[C]=j;n(()=>{var D;(C==null?void 0:C.id)!==((D=m.dragOperation.target)==null?void 0:D.id)&&(S.disable(),m.actions.setDropTarget(C==null?void 0:C.id).then(()=>{S.enable()}))})})}},CollisionPriority=(m=>(m[m.Lowest=0]="Lowest",m[m.Low=1]="Low",m[m.Normal=2]="Normal",m[m.High=3]="High",m[m.Highest=4]="Highest",m))(CollisionPriority||{}),CollisionType=(m=>(m[m.Collision=0]="Collision",m[m.ShapeIntersection=1]="ShapeIntersection",m[m.PointerIntersection=2]="PointerIntersection",m))(CollisionType||{}),_dropped_dec,_dragging_dec,_initialized_dec,_initializing_dec,_idle_dec,_current_dec,_value_dec,_init2$1,_value;_value_dec=[reactive],_current_dec=[derived],_idle_dec=[derived],_initializing_dec=[derived],_initialized_dec=[derived],_dragging_dec=[derived],_dropped_dec=[derived];var Status=class{constructor(){__runInitializers$3(_init2$1,5,this),__privateAdd$4(this,_value,__runInitializers$3(_init2$1,8,this,"idle")),__runInitializers$3(_init2$1,11,this)}get current(){return this.value}get idle(){return this.value==="idle"}get initializing(){return this.value==="initializing"}get initialized(){const{value:m}=this;return m!=="idle"&&m!=="initialization-pending"}get dragging(){return this.value==="dragging"}get dropped(){return this.value==="dropped"}set(m){this.value=m}};_init2$1=__decoratorStart$3(null);_value=new WeakMap;__decorateElement$3(_init2$1,4,"value",_value_dec,Status,_value);__decorateElement$3(_init2$1,2,"current",_current_dec,Status);__decorateElement$3(_init2$1,2,"idle",_idle_dec,Status);__decorateElement$3(_init2$1,2,"initializing",_initializing_dec,Status);__decorateElement$3(_init2$1,2,"initialized",_initialized_dec,Status);__decorateElement$3(_init2$1,2,"dragging",_dragging_dec,Status);__decorateElement$3(_init2$1,2,"dropped",_dropped_dec,Status);__decoratorMetadata$3(_init2$1,Status);var DragActions=class{constructor(m){this.manager=m}setDragSource(m){const{dragOperation:x}=this.manager;x.sourceIdentifier=typeof m=="string"||typeof m=="number"?m:m.id}setDropTarget(m){return n(()=>{const{dragOperation:x}=this.manager,$=m??null;if(x.targetIdentifier===$)return Promise.resolve(!1);x.targetIdentifier=$;const S=defaultPreventable({operation:x.snapshot()});return x.status.dragging&&this.manager.monitor.dispatch("dragover",S),this.manager.renderer.rendering.then(()=>S.defaultPrevented)})}start(m){return n(()=>{const{dragOperation:x}=this.manager;if(m.source!=null&&this.setDragSource(m.source),!x.source)throw new Error("Cannot start a drag operation without a drag source");if(!x.status.idle)throw new Error("Cannot start a drag operation while another is active");const S=new AbortController,{event:I,coordinates:j}=m;r(()=>{x.status.set("initialization-pending"),x.shape=null,x.canceled=!1,x.activatorEvent=I??null,x.position.reset(j)});const P=defaultPreventable({operation:x.snapshot()});return this.manager.monitor.dispatch("beforedragstart",P),P.defaultPrevented?(x.reset(),S.abort(),S):(x.status.set("initializing"),x.controller=S,this.manager.renderer.rendering.then(()=>{if(S.signal.aborted)return;const{status:C}=x;C.current==="initializing"&&(x.status.set("dragging"),this.manager.monitor.dispatch("dragstart",{nativeEvent:I,operation:x.snapshot(),cancelable:!1}))}),S)})}move(m){return n(()=>{var x,$;const{dragOperation:S}=this.manager,{status:I,controller:j}=S;if(!I.dragging||!j||j.signal.aborted)return;const P=defaultPreventable({nativeEvent:m.event,operation:S.snapshot(),by:m.by,to:m.to},(x=m.cancelable)!=null?x:!0);(($=m.propagate)==null||$)&&this.manager.monitor.dispatch("dragmove",P),queueMicrotask(()=>{var C,D,A,R,k;if(P.defaultPrevented)return;const O=(k=m.to)!=null?k:{x:S.position.current.x+((D=(C=m.by)==null?void 0:C.x)!=null?D:0),y:S.position.current.y+((R=(A=m.by)==null?void 0:A.y)!=null?R:0)};S.position.current=O})})}stop(m={}){return n(()=>{var x,$;const{dragOperation:S}=this.manager,{controller:I}=S;if(!I||I.signal.aborted)return;let j;const P=()=>{const D={resume:()=>{},abort:()=>{}};return j=new Promise((A,R)=>{D.resume=A,D.abort=R}),D};I.abort();const C=()=>{this.manager.renderer.rendering.then(()=>{S.status.set("dropped");const D=n(()=>{var R;return((R=S.source)==null?void 0:R.status)==="dropping"}),A=()=>{S.controller===I&&(S.controller=void 0),S.reset()};if(D){const{source:R}=S,k=E(()=>{(R==null?void 0:R.status)==="idle"&&(k(),A())})}else this.manager.renderer.rendering.then(A)})};S.canceled=(x=m.canceled)!=null?x:!1,this.manager.monitor.dispatch("dragend",{nativeEvent:m.event,operation:S.snapshot(),canceled:($=m.canceled)!=null?$:!1,suspend:P}),j?j.then(C).catch(()=>S.reset()):C()})}},_disabled_dec2,_data_dec,_id_dec,_manager_dec,_init3$1,_manager,_id,_data,_disabled2;_manager_dec=[reactive],_id_dec=[reactive],_data_dec=[reactive],_disabled_dec2=[reactive];var Entity=class{constructor(m,x){__privateAdd$4(this,_manager,__runInitializers$3(_init3$1,8,this)),__runInitializers$3(_init3$1,11,this),__privateAdd$4(this,_id,__runInitializers$3(_init3$1,12,this)),__runInitializers$3(_init3$1,15,this),__privateAdd$4(this,_data,__runInitializers$3(_init3$1,16,this)),__runInitializers$3(_init3$1,19,this),__privateAdd$4(this,_disabled2,__runInitializers$3(_init3$1,20,this)),__runInitializers$3(_init3$1,23,this);const{effects:$,id:S,data:I={},disabled:j=!1,register:P=!0}=m;let C=S;this.manager=x,this.id=S,this.data=I,this.disabled=j,this.effects=()=>{var D;return[()=>{const{id:A,manager:R}=this;if(A!==C)return R==null||R.registry.register(this),()=>R==null?void 0:R.registry.unregister(this)},...(D=$==null?void 0:$())!=null?D:[]]},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),x&&P&&queueMicrotask(this.register)}register(){var m;return(m=this.manager)==null?void 0:m.registry.register(this)}unregister(){var m;(m=this.manager)==null||m.registry.unregister(this)}destroy(){var m;(m=this.manager)==null||m.registry.unregister(this)}};_init3$1=__decoratorStart$3(null);_manager=new WeakMap;_id=new WeakMap;_data=new WeakMap;_disabled2=new WeakMap;__decorateElement$3(_init3$1,4,"manager",_manager_dec,Entity,_manager);__decorateElement$3(_init3$1,4,"id",_id_dec,Entity,_id);__decorateElement$3(_init3$1,4,"data",_data_dec,Entity,_data);__decorateElement$3(_init3$1,4,"disabled",_disabled_dec2,Entity,_disabled2);__decoratorMetadata$3(_init3$1,Entity);var EntityRegistry=class{constructor(){this.map=d(new Map),this.cleanupFunctions=new WeakMap,this.register=(m,x)=>{const $=this.map.peek(),S=$.get(m),I=()=>this.unregister(m,x);if(S===x)return I;if(S){const C=this.cleanupFunctions.get(S);C==null||C(),this.cleanupFunctions.delete(S)}const j=new Map($);j.set(m,x),this.map.value=j;const P=effects(...x.effects());return this.cleanupFunctions.set(x,P),I},this.unregister=(m,x)=>{const $=this.map.peek();if($.get(m)!==x)return;const S=this.cleanupFunctions.get(x);S==null||S(),this.cleanupFunctions.delete(x);const I=new Map($);I.delete(m),this.map.value=I}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(m){return this.map.value.has(m)}get(m){return this.map.value.get(m)}destroy(){for(const m of this){const x=this.cleanupFunctions.get(m);x==null||x(),m.destroy()}this.map.value=new Map}},_isDragSource_dec,_isDragging_dec,_isDropping_dec,_status_dec,_modifiers_dec,_type_dec,_c$1,_init4$1,_type,_modifiers,_status,Draggable$1=class extends(_c$1=Entity,_type_dec=[reactive],_modifiers_dec=[reactive],_status_dec=[reactive],_isDropping_dec=[derived],_isDragging_dec=[derived],_isDragSource_dec=[derived],_c$1){constructor(x,$){var S=x,{modifiers:I,type:j,sensors:P}=S,C=__objRest$3(S,["modifiers","type","sensors"]);super(C,$),__runInitializers$3(_init4$1,5,this),__privateAdd$4(this,_type,__runInitializers$3(_init4$1,8,this)),__runInitializers$3(_init4$1,11,this),__privateAdd$4(this,_modifiers,__runInitializers$3(_init4$1,12,this)),__runInitializers$3(_init4$1,15,this),__privateAdd$4(this,_status,__runInitializers$3(_init4$1,16,this,this.isDragSource?"dragging":"idle")),__runInitializers$3(_init4$1,19,this),this.type=j,this.sensors=P,this.modifiers=I,this.alignment=C.alignment}get isDropping(){return this.status==="dropping"&&this.isDragSource}get isDragging(){return this.status==="dragging"&&this.isDragSource}get isDragSource(){var x,$;return(($=(x=this.manager)==null?void 0:x.dragOperation.source)==null?void 0:$.id)===this.id}};_init4$1=__decoratorStart$3(_c$1);_type=new WeakMap;_modifiers=new WeakMap;_status=new WeakMap;__decorateElement$3(_init4$1,4,"type",_type_dec,Draggable$1,_type);__decorateElement$3(_init4$1,4,"modifiers",_modifiers_dec,Draggable$1,_modifiers);__decorateElement$3(_init4$1,4,"status",_status_dec,Draggable$1,_status);__decorateElement$3(_init4$1,2,"isDropping",_isDropping_dec,Draggable$1);__decorateElement$3(_init4$1,2,"isDragging",_isDragging_dec,Draggable$1);__decorateElement$3(_init4$1,2,"isDragSource",_isDragSource_dec,Draggable$1);__decoratorMetadata$3(_init4$1,Draggable$1);var _isDropTarget_dec,_shape_dec,_collisionPriority_dec,_collisionDetector_dec,_type_dec2,_accept_dec,_c2$1,_init5$1,_accept,_type2,_collisionDetector,_collisionPriority,_shape,Droppable$1=class extends(_c2$1=Entity,_accept_dec=[reactive],_type_dec2=[reactive],_collisionDetector_dec=[reactive],_collisionPriority_dec=[reactive],_shape_dec=[reactive],_isDropTarget_dec=[derived],_c2$1){constructor(x,$){var S=x,{accept:I,collisionDetector:j,collisionPriority:P,type:C}=S,D=__objRest$3(S,["accept","collisionDetector","collisionPriority","type"]);super(D,$),__runInitializers$3(_init5$1,5,this),__privateAdd$4(this,_accept,__runInitializers$3(_init5$1,8,this)),__runInitializers$3(_init5$1,11,this),__privateAdd$4(this,_type2,__runInitializers$3(_init5$1,12,this)),__runInitializers$3(_init5$1,15,this),__privateAdd$4(this,_collisionDetector,__runInitializers$3(_init5$1,16,this)),__runInitializers$3(_init5$1,19,this),__privateAdd$4(this,_collisionPriority,__runInitializers$3(_init5$1,20,this)),__runInitializers$3(_init5$1,23,this),__privateAdd$4(this,_shape,__runInitializers$3(_init5$1,24,this)),__runInitializers$3(_init5$1,27,this),this.accept=I,this.collisionDetector=j,this.collisionPriority=P,this.type=C}accepts(x){const{accept:$}=this;return $?typeof $=="function"?$(x):x.type?Array.isArray($)?$.includes(x.type):x.type===$:!1:!0}get isDropTarget(){var x,$;return(($=(x=this.manager)==null?void 0:x.dragOperation.target)==null?void 0:$.id)===this.id}};_init5$1=__decoratorStart$3(_c2$1);_accept=new WeakMap;_type2=new WeakMap;_collisionDetector=new WeakMap;_collisionPriority=new WeakMap;_shape=new WeakMap;__decorateElement$3(_init5$1,4,"accept",_accept_dec,Droppable$1,_accept);__decorateElement$3(_init5$1,4,"type",_type_dec2,Droppable$1,_type2);__decorateElement$3(_init5$1,4,"collisionDetector",_collisionDetector_dec,Droppable$1,_collisionDetector);__decorateElement$3(_init5$1,4,"collisionPriority",_collisionPriority_dec,Droppable$1,_collisionPriority);__decorateElement$3(_init5$1,4,"shape",_shape_dec,Droppable$1,_shape);__decorateElement$3(_init5$1,2,"isDropTarget",_isDropTarget_dec,Droppable$1);__decoratorMetadata$3(_init5$1,Droppable$1);var Sensor=class extends Plugin{constructor(m,x){super(m,x),this.manager=m,this.options=x}},Modifier=class extends Plugin{constructor(m,x){super(m,x),this.manager=m,this.options=x}apply(m){return m.transform}},DragDropRegistry=class{constructor(m){this.draggables=new EntityRegistry,this.droppables=new EntityRegistry,this.plugins=new PluginRegistry(m),this.sensors=new PluginRegistry(m),this.modifiers=new PluginRegistry(m)}register(m,x){if(m instanceof Draggable$1)return this.draggables.register(m.id,m);if(m instanceof Droppable$1)return this.droppables.register(m.id,m);if(m.prototype instanceof Modifier)return this.modifiers.register(m,x);if(m.prototype instanceof Sensor)return this.sensors.register(m,x);if(m.prototype instanceof Plugin)return this.plugins.register(m,x);throw new Error("Invalid instance type")}unregister(m){if(m instanceof Entity)return m instanceof Draggable$1?this.draggables.unregister(m.id,m):m instanceof Droppable$1?this.droppables.unregister(m.id,m):()=>{};if(m.prototype instanceof Modifier)return this.modifiers.unregister(m);if(m.prototype instanceof Sensor)return this.sensors.unregister(m);if(m.prototype instanceof Plugin)return this.plugins.unregister(m);throw new Error("Invalid instance type")}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},_transform_dec,_target_dec,_source_dec,_modifiers_dec2,_targetIdentifier_dec,_sourceIdentifier_dec,_activatorEvent_dec,_canceled_dec,_shape_dec2,_manager2,_previousSource,_shape2,_init6,_canceled,_activatorEvent,_sourceIdentifier,_targetIdentifier,_modifiers2,_transform;_shape_dec2=[derived],_canceled_dec=[reactive],_activatorEvent_dec=[reactive],_sourceIdentifier_dec=[reactive],_targetIdentifier_dec=[reactive],_modifiers_dec2=[reactive],_source_dec=[derived],_target_dec=[derived],_transform_dec=[derived];var DragOperation=class{constructor(m){__runInitializers$3(_init6,5,this),__privateAdd$4(this,_manager2),__privateAdd$4(this,_previousSource),__privateAdd$4(this,_shape2,new ValueHistory(void 0,(x,$)=>x&&$?x.equals($):x===$)),this.status=new Status,__privateAdd$4(this,_canceled,__runInitializers$3(_init6,8,this,!1)),__runInitializers$3(_init6,11,this),__privateAdd$4(this,_activatorEvent,__runInitializers$3(_init6,12,this,null)),__runInitializers$3(_init6,15,this),__privateAdd$4(this,_sourceIdentifier,__runInitializers$3(_init6,16,this,null)),__runInitializers$3(_init6,19,this),__privateAdd$4(this,_targetIdentifier,__runInitializers$3(_init6,20,this,null)),__runInitializers$3(_init6,23,this),__privateAdd$4(this,_modifiers2,__runInitializers$3(_init6,24,this,[])),__runInitializers$3(_init6,27,this),this.position=new Position$1({x:0,y:0}),__privateAdd$4(this,_transform,{x:0,y:0}),__privateSet$4(this,_manager2,m)}get shape(){const{current:m,initial:x,previous:$}=__privateGet$4(this,_shape2);return!m||!x?null:{current:m,initial:x,previous:$}}set shape(m){m?__privateGet$4(this,_shape2).current=m:__privateGet$4(this,_shape2).reset()}get source(){var m;const x=this.sourceIdentifier;if(x==null)return null;const $=__privateGet$4(this,_manager2).registry.draggables.get(x);return $&&__privateSet$4(this,_previousSource,$),(m=$??__privateGet$4(this,_previousSource))!=null?m:null}get target(){var m;const x=this.targetIdentifier;return x!=null&&(m=__privateGet$4(this,_manager2).registry.droppables.get(x))!=null?m:null}get transform(){const{x:m,y:x}=this.position.delta;let $={x:m,y:x};for(const S of this.modifiers)$=S.apply(__spreadProps$4(__spreadValues$4({},this.snapshot()),{transform:$}));return __privateSet$4(this,_transform,$),$}snapshot(){return n(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:__privateGet$4(this,_transform),shape:this.shape?snapshot(this.shape):null,position:snapshot(this.position),status:snapshot(this.status),canceled:this.canceled}))}reset(){r(()=>{this.status.set("idle"),this.sourceIdentifier=null,this.targetIdentifier=null,__privateGet$4(this,_shape2).reset(),this.position.reset({x:0,y:0}),__privateSet$4(this,_transform,{x:0,y:0}),this.modifiers=[]})}};_init6=__decoratorStart$3(null);_manager2=new WeakMap;_previousSource=new WeakMap;_shape2=new WeakMap;_canceled=new WeakMap;_activatorEvent=new WeakMap;_sourceIdentifier=new WeakMap;_targetIdentifier=new WeakMap;_modifiers2=new WeakMap;_transform=new WeakMap;__decorateElement$3(_init6,2,"shape",_shape_dec2,DragOperation);__decorateElement$3(_init6,4,"canceled",_canceled_dec,DragOperation,_canceled);__decorateElement$3(_init6,4,"activatorEvent",_activatorEvent_dec,DragOperation,_activatorEvent);__decorateElement$3(_init6,4,"sourceIdentifier",_sourceIdentifier_dec,DragOperation,_sourceIdentifier);__decorateElement$3(_init6,4,"targetIdentifier",_targetIdentifier_dec,DragOperation,_targetIdentifier);__decorateElement$3(_init6,4,"modifiers",_modifiers_dec2,DragOperation,_modifiers2);__decorateElement$3(_init6,2,"source",_source_dec,DragOperation);__decorateElement$3(_init6,2,"target",_target_dec,DragOperation);__decorateElement$3(_init6,2,"transform",_transform_dec,DragOperation);__decoratorMetadata$3(_init6,DragOperation);var defaultRenderer={get rendering(){return Promise.resolve()}},DragDropManager$1=class{constructor(x){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(R=>R.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};const{plugins:$=[],sensors:S=[],modifiers:I=[],renderer:j=defaultRenderer}=x??{},P=new DragDropMonitor(this),C=new DragDropRegistry(this);this.registry=C,this.monitor=P,this.renderer=j,this.actions=new DragActions(this),this.dragOperation=new DragOperation(this),this.collisionObserver=new CollisionObserver(this),this.plugins=[CollisionNotifier,...$],this.modifiers=I,this.sensors=S;const{destroy:D}=this,A=effects(()=>{var R,k,O;const N=n(()=>this.dragOperation.modifiers),V=this.modifiers;N!==V&&N.forEach(U=>U.destroy()),this.dragOperation.modifiers=(O=(k=(R=this.dragOperation.source)==null?void 0:R.modifiers)==null?void 0:k.map(U=>{const{plugin:H,options:Z}=descriptor(U);return new H(this,Z)}))!=null?O:V});this.destroy=()=>{A(),D()}}get plugins(){return this.registry.plugins.values}set plugins(x){this.registry.plugins.values=x}get modifiers(){return this.registry.modifiers.values}set modifiers(x){this.registry.modifiers.values=x}get sensors(){return this.registry.sensors.values}set sensors(x){this.registry.sensors.values=x}},__typeError$3=m=>{throw TypeError(m)},__accessCheck$3=(m,x,$)=>x.has(m)||__typeError$3("Cannot "+$),__privateGet$3=(m,x,$)=>(__accessCheck$3(m,x,"read from private field"),x.get(m)),__privateAdd$3=(m,x,$)=>x.has(m)?__typeError$3("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet$3=(m,x,$,S)=>(__accessCheck$3(m,x,"write to private field"),x.set(m,$),$),__privateMethod$1=(m,x,$)=>(__accessCheck$3(m,x,"access private method"),$);function isKeyframeEffect(m){return m?m instanceof KeyframeEffect?!0:"getKeyframes"in m&&typeof m.getKeyframes=="function":!1}function getFinalKeyframe(m,x){const $=m.getAnimations();if($.length>0)for(const S of $){if(S.playState!=="running")continue;const{effect:I}=S,P=(isKeyframeEffect(I)?I.getKeyframes():[]).filter(x);if(P.length>0)return[P[P.length-1],S]}return null}function getBoundingRectangle(m){const{width:x,height:$,top:S,left:I,bottom:j,right:P}=m.getBoundingClientRect();return{width:x,height:$,top:S,left:I,bottom:j,right:P}}var canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(m){const x=Object.prototype.toString.call(m);return x==="[object Window]"||x==="[object global]"}function isNode(m){return"nodeType"in m}function getWindow(m){var x,$,S;return m?isWindow(m)?m:isNode(m)?"defaultView"in m?(x=m.defaultView)!=null?x:window:(S=($=m.ownerDocument)==null?void 0:$.defaultView)!=null?S:window:window:window}function isDocument(m){const{Document:x}=getWindow(m);return m instanceof x||"nodeType"in m&&m.nodeType===Node.DOCUMENT_NODE}function isHTMLElement(m){return!m||isWindow(m)?!1:m instanceof getWindow(m).HTMLElement||"namespaceURI"in m&&typeof m.namespaceURI=="string"&&m.namespaceURI.endsWith("html")}function isSVGElement(m){return m instanceof getWindow(m).SVGElement||"namespaceURI"in m&&typeof m.namespaceURI=="string"&&m.namespaceURI.endsWith("svg")}function getDocument(m){return m?isWindow(m)?m.document:isNode(m)?isDocument(m)?m:isHTMLElement(m)||isSVGElement(m)?m.ownerDocument:document:document:document}function getViewportBoundingRectangle(m){const{documentElement:x}=getDocument(m),$=x.clientWidth,S=x.clientHeight;return{top:0,left:0,right:$,bottom:S,width:$,height:S}}function isOverflowVisible(m,x){if(isDetailsElement(m)&&m.open===!1)return!1;const{overflow:$,overflowX:S,overflowY:I}=getComputedStyle(m);return $==="visible"&&S==="visible"&&I==="visible"}function isDetailsElement(m){return m.tagName==="DETAILS"}function getVisibleBoundingRectangle(m,x=m.getBoundingClientRect(),$=0){var S;let I=x;const{ownerDocument:j}=m,P=(S=j.defaultView)!=null?S:window;let C=m.parentElement;for(;C&&C!==j.documentElement;){if(!isOverflowVisible(C)){const O=C.getBoundingClientRect(),N=$*(O.bottom-O.top),V=$*(O.right-O.left),U=$*(O.bottom-O.top),H=$*(O.right-O.left);I={top:Math.max(I.top,O.top-N),right:Math.min(I.right,O.right+V),bottom:Math.min(I.bottom,O.bottom+U),left:Math.max(I.left,O.left-H),width:0,height:0},I.width=I.right-I.left,I.height=I.bottom-I.top}C=C.parentElement}const D=P.innerWidth,A=P.innerHeight,R=$*A,k=$*D;return I={top:Math.max(I.top,0-R),right:Math.min(I.right,D+k),bottom:Math.min(I.bottom,A+R),left:Math.max(I.left,0-k),width:0,height:0},I.width=I.right-I.left,I.height=I.bottom-I.top,I.width<0&&(I.width=0),I.height<0&&(I.height=0),I}function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function cloneElement(m){const x="input, textarea, select, canvas, [contenteditable]",$=m.cloneNode(!0),S=Array.from(m.querySelectorAll(x));return Array.from($.querySelectorAll(x)).forEach((j,P)=>{const C=S[P];if(isField(j)&&isField(C)&&(j.type!=="file"&&(j.value=C.value),j.type==="radio"&&j.name&&(j.name=`Cloned__${j.name}`)),isCanvasElement(j)&&isCanvasElement(C)&&C.width>0&&C.height>0){const D=j.getContext("2d");D==null||D.drawImage(C,0,0)}}),$}function isField(m){return"value"in m}function isCanvasElement(m){return m.tagName==="CANVAS"}function getElementFromPoint(m,{x,y:$}){const S=m.elementFromPoint(x,$);if(isIFrameElement(S)){const{contentDocument:I}=S;if(I){const{left:j,top:P}=S.getBoundingClientRect();return getElementFromPoint(I,{x:x-j,y:$-P})}}return S}function isIFrameElement(m){return(m==null?void 0:m.tagName)==="IFRAME"}var ProxiedElements=new WeakMap,Listeners=class{constructor(){this.entries=new Set,this.clear=()=>{for(const m of this.entries){const[x,{type:$,listener:S,options:I}]=m;x.removeEventListener($,S,I)}this.entries.clear()}}bind(m,x){const $=Array.isArray(x)?x:[x],S=[];for(const I of $){const{type:j,listener:P,options:C}=I,D=[m,I];m.addEventListener(j,P,C),this.entries.add(D),S.push(D)}return function(){for(const[j,{type:P,listener:C,options:D}]of S)j.removeEventListener(P,C,D)}}};function getFrameElement(m){const x=m==null?void 0:m.ownerDocument.defaultView;if(x&&x.self!==x.parent)return x.frameElement}function getFrameElements(m){const x=new Set;let $=getFrameElement(m);for(;$;)x.add($),$=getFrameElement($);return x}function timeout(m,x){const $=setTimeout(m,x);return()=>clearTimeout($)}function throttle$1(m,x){const $=()=>performance.now();let S,I;return function(...j){const P=this;I?(S==null||S(),S=timeout(()=>{m.apply(P,j),I=$()},x-($()-I))):(m.apply(P,j),I=$())}}function isRectEqual(m,x){return m===x?!0:!m||!x?!1:m.top==x.top&&m.left==x.left&&m.right==x.right&&m.bottom==x.bottom}function isVisible(m,x=m.getBoundingClientRect()){const{width:$,height:S}=getVisibleBoundingRectangle(m,x);return $>0&&S>0}var Observer=canUseDOM$1?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},_initialized,ResizeNotifier=class extends Observer{constructor(m){super(x=>{if(!__privateGet$3(this,_initialized)){__privateSet$3(this,_initialized,!0);return}m(x,this)}),__privateAdd$3(this,_initialized,!1)}};_initialized=new WeakMap;var threshold=Array.from({length:100},(m,x)=>x/100),THROTTLE_INTERVAL=75,_visible,_previousBoundingClientRect,_resizeObserver,_positionObserver,_visibilityObserver,_debug,_disconnected,_observePosition,_PositionObserver_instances,notify_fn,updateDebug_fn,PositionObserver=class{constructor(m,x,$={debug:!1,skipInitial:!1}){this.element=m,this.callback=x,__privateAdd$3(this,_PositionObserver_instances),this.disconnect=()=>{var j,P,C;__privateSet$3(this,_disconnected,!0),(j=__privateGet$3(this,_resizeObserver))==null||j.disconnect(),(P=__privateGet$3(this,_positionObserver))==null||P.disconnect(),__privateGet$3(this,_visibilityObserver).disconnect(),(C=__privateGet$3(this,_debug))==null||C.remove()},__privateAdd$3(this,_visible,!0),__privateAdd$3(this,_previousBoundingClientRect),__privateAdd$3(this,_resizeObserver),__privateAdd$3(this,_positionObserver),__privateAdd$3(this,_visibilityObserver),__privateAdd$3(this,_debug),__privateAdd$3(this,_disconnected,!1),__privateAdd$3(this,_observePosition,throttle$1(()=>{var j,P,C;const{element:D}=this;if((j=__privateGet$3(this,_positionObserver))==null||j.disconnect(),__privateGet$3(this,_disconnected)||!__privateGet$3(this,_visible)||!D.isConnected)return;const A=(P=D.ownerDocument)!=null?P:document,{innerHeight:R,innerWidth:k}=(C=A.defaultView)!=null?C:window,O=D.getBoundingClientRect(),N=getVisibleBoundingRectangle(D,O),{top:V,left:U,bottom:H,right:Z}=N,F=-Math.floor(V),L=-Math.floor(U),z=-Math.floor(k-Z),G=-Math.floor(R-H),q=`${F}px ${z}px ${G}px ${L}px`;this.boundingClientRect=O,__privateSet$3(this,_positionObserver,new IntersectionObserver(X=>{const[M]=X,{intersectionRect:W}=M;(M.intersectionRatio!==1?M.intersectionRatio:Rectangle.intersectionRatio(W,getVisibleBoundingRectangle(D)))!==1&&__privateGet$3(this,_observePosition).call(this)},{threshold,rootMargin:q,root:A})),__privateGet$3(this,_positionObserver).observe(D),__privateMethod$1(this,_PositionObserver_instances,notify_fn).call(this)},THROTTLE_INTERVAL)),this.boundingClientRect=m.getBoundingClientRect(),__privateSet$3(this,_visible,isVisible(m,this.boundingClientRect));let S=!0;this.callback=j=>{S&&(S=!1,$.skipInitial)||x(j)};const I=m.ownerDocument;$!=null&&$.debug&&(__privateSet$3(this,_debug,document.createElement("div")),__privateGet$3(this,_debug).style.background="rgba(0,0,0,0.15)",__privateGet$3(this,_debug).style.position="fixed",__privateGet$3(this,_debug).style.pointerEvents="none",I.body.appendChild(__privateGet$3(this,_debug))),__privateSet$3(this,_visibilityObserver,new IntersectionObserver(j=>{var P,C;const D=j[j.length-1],{boundingClientRect:A,isIntersecting:R}=D,{width:k,height:O}=A,N=__privateGet$3(this,_visible);__privateSet$3(this,_visible,R),!(!k&&!O)&&(N&&!R?((P=__privateGet$3(this,_positionObserver))==null||P.disconnect(),this.callback(null),(C=__privateGet$3(this,_resizeObserver))==null||C.disconnect(),__privateSet$3(this,_resizeObserver,void 0),__privateGet$3(this,_debug)&&(__privateGet$3(this,_debug).style.visibility="hidden")):__privateGet$3(this,_observePosition).call(this),R&&!__privateGet$3(this,_resizeObserver)&&(__privateSet$3(this,_resizeObserver,new ResizeNotifier(__privateGet$3(this,_observePosition))),__privateGet$3(this,_resizeObserver).observe(m)))},{threshold,root:I})),__privateGet$3(this,_visible)&&!$.skipInitial&&this.callback(this.boundingClientRect),__privateGet$3(this,_visibilityObserver).observe(m)}};_visible=new WeakMap;_previousBoundingClientRect=new WeakMap;_resizeObserver=new WeakMap;_positionObserver=new WeakMap;_visibilityObserver=new WeakMap;_debug=new WeakMap;_disconnected=new WeakMap;_observePosition=new WeakMap;_PositionObserver_instances=new WeakSet;notify_fn=function(){__privateGet$3(this,_disconnected)||(__privateMethod$1(this,_PositionObserver_instances,updateDebug_fn).call(this),!isRectEqual(this.boundingClientRect,__privateGet$3(this,_previousBoundingClientRect))&&(this.callback(this.boundingClientRect),__privateSet$3(this,_previousBoundingClientRect,this.boundingClientRect)))};updateDebug_fn=function(){if(__privateGet$3(this,_debug)){const{top:m,left:x,width:$,height:S}=getVisibleBoundingRectangle(this.element);__privateGet$3(this,_debug).style.overflow="hidden",__privateGet$3(this,_debug).style.visibility="visible",__privateGet$3(this,_debug).style.top=`${Math.floor(m)}px`,__privateGet$3(this,_debug).style.left=`${Math.floor(x)}px`,__privateGet$3(this,_debug).style.width=`${Math.floor($)}px`,__privateGet$3(this,_debug).style.height=`${Math.floor(S)}px`}};var framePositionObservers=new WeakMap,scrollListeners=new WeakMap;function addFrameListener(m,x){let $=framePositionObservers.get(m);return $||($={disconnect:new PositionObserver(m,I=>{const j=framePositionObservers.get(m);j&&j.callbacks.forEach(P=>P(I))},{skipInitial:!0}).disconnect,callbacks:new Set}),$.callbacks.add(x),framePositionObservers.set(m,$),()=>{$.callbacks.delete(x),$.callbacks.size===0&&(framePositionObservers.delete(m),$.disconnect())}}function observeParentFrames(m,x){const $=new Set;for(const S of m){const I=addFrameListener(S,x);$.add(I)}return()=>$.forEach(S=>S())}function addScrollListener(m,x){var $;const S=m.ownerDocument;if(!scrollListeners.has(S)){const P=new AbortController,C=new Set;document.addEventListener("scroll",D=>C.forEach(A=>A(D)),{capture:!0,passive:!0,signal:P.signal}),scrollListeners.set(S,{disconnect:()=>P.abort(),listeners:C})}const{listeners:I,disconnect:j}=($=scrollListeners.get(S))!=null?$:{};return!I||!j?()=>{}:(I.add(x),()=>{I.delete(x),I.size===0&&(j(),scrollListeners.delete(S))})}var _elementObserver,_disconnected2,_frames,_handleScroll,FrameObserver=class{constructor(m,x,$){this.callback=x,__privateAdd$3(this,_elementObserver),__privateAdd$3(this,_disconnected2,!1),__privateAdd$3(this,_frames),__privateAdd$3(this,_handleScroll,throttle$1(P=>{if(!__privateGet$3(this,_disconnected2)&&P.target&&"contains"in P.target&&typeof P.target.contains=="function"){for(const C of __privateGet$3(this,_frames))if(P.target.contains(C)){this.callback(__privateGet$3(this,_elementObserver).boundingClientRect);break}}},THROTTLE_INTERVAL));const S=getFrameElements(m),I=observeParentFrames(S,x),j=addScrollListener(m,__privateGet$3(this,_handleScroll));__privateSet$3(this,_frames,S),__privateSet$3(this,_elementObserver,new PositionObserver(m,x,$)),this.disconnect=()=>{__privateGet$3(this,_disconnected2)||(__privateSet$3(this,_disconnected2,!0),I(),j(),__privateGet$3(this,_elementObserver).disconnect())}}};_elementObserver=new WeakMap;_disconnected2=new WeakMap;_frames=new WeakMap;_handleScroll=new WeakMap;function supportsPopover(m){return"showPopover"in m&&"hidePopover"in m&&typeof m.showPopover=="function"&&typeof m.hidePopover=="function"}function showPopover(m){try{supportsPopover(m)&&m.isConnected&&m.hasAttribute("popover")&&!m.matches(":popover-open")&&m.showPopover()}catch{}}function isDocumentScrollingElement(m){return!canUseDOM$1||!m?!1:m===getDocument(m).scrollingElement}function getScrollPosition(m){const x=getWindow(m),$=isDocumentScrollingElement(m)?getViewportBoundingRectangle(m):getBoundingRectangle(m),S=isDocumentScrollingElement(m)?{height:x.innerHeight,width:x.innerWidth}:{height:m.clientHeight,width:m.clientWidth},I={current:{x:m.scrollLeft,y:m.scrollTop},max:{x:m.scrollWidth-S.width,y:m.scrollHeight-S.height}},j=I.current.y<=0,P=I.current.x<=0,C=I.current.y>=I.max.y,D=I.current.x>=I.max.x;return{rect:$,position:I,isTop:j,isLeft:P,isBottom:C,isRight:D}}function canScroll(m,x){const{isTop:$,isBottom:S,isLeft:I,isRight:j,position:P}=getScrollPosition(m),{x:C,y:D}=x??{x:0,y:0},A=!$&&P.current.y+D>0,R=!S&&P.current.y+D<P.max.y,k=!I&&P.current.x+C>0,O=!j&&P.current.x+C<P.max.x;return{top:A,bottom:R,left:k,right:O,x:k||O,y:A||R}}var Scheduler$1=class{constructor(x){this.scheduler=x,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:$,resolvers:S}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const I of $)I();for(const I of S)I()}}schedule(x){return this.tasks.add(x),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise($=>this.resolvers.add($))}},scheduler=new Scheduler$1(m=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(m):m()}),scheduler2=new Scheduler$1(m=>setTimeout(m,50)),cachedStyles=new Map,clear=cachedStyles.clear.bind(cachedStyles);function getComputedStyles(m,x=!1){if(!x)return computeStyles(m);let $=cachedStyles.get(m);return $||($=computeStyles(m),cachedStyles.set(m,$),scheduler2.schedule(clear),$)}function computeStyles(m){return getWindow(m).getComputedStyle(m)}function isFixed(m,x=getComputedStyles(m,!0)){return x.position==="fixed"||x.position==="sticky"}function isScrollable(m,x=getComputedStyles(m,!0)){const $=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(I=>{const j=x[I];return typeof j=="string"?$.test(j):!1})}var defaultOptions={excludeElement:!0};function getScrollableAncestors(m,x=defaultOptions){const{limit:$,excludeElement:S}=x,I=new Set;function j(P){if($!=null&&I.size>=$||!P)return I;if(isDocument(P)&&P.scrollingElement!=null&&!I.has(P.scrollingElement))return I.add(P.scrollingElement),I;if(!isHTMLElement(P))return isSVGElement(P)?j(P.parentElement):I;if(I.has(P))return I;const C=getComputedStyles(P,!0);if(S&&P===m||isScrollable(P,C)&&I.add(P),isFixed(P,C)){const{scrollingElement:D}=P.ownerDocument;return D&&I.add(D),I}return j(P.parentNode)}return m?j(m):I}function getFirstScrollableAncestor(m){const[x]=getScrollableAncestors(m,{limit:1});return x??null}function getFrameTransform(m,x=window.frameElement){const $={x:0,y:0,scaleX:1,scaleY:1};if(!m)return $;let S=getFrameElement(m);for(;S;){if(S===x)return $;const I=getBoundingRectangle(S),{x:j,y:P}=getScale(S,I);$.x=$.x+I.left,$.y=$.y+I.top,$.scaleX=$.scaleX*j,$.scaleY=$.scaleY*P,S=getFrameElement(S)}return $}function getScale(m,x=getBoundingRectangle(m)){const $=Math.round(x.width),S=Math.round(x.height);if(isHTMLElement(m))return{x:$/m.offsetWidth,y:S/m.offsetHeight};const I=getComputedStyles(m,!0);return{x:(parseFloat(I.width)||$)/$,y:(parseFloat(I.height)||S)/S}}function parseScale(m){if(m==="none")return null;const x=m.split(" "),$=parseFloat(x[0]),S=parseFloat(x[1]);return isNaN($)&&isNaN(S)?null:{x:isNaN($)?S:$,y:isNaN(S)?$:S}}function parseTranslate(m){if(m==="none")return null;const[x,$,S="0"]=m.split(" "),I={x:parseFloat(x),y:parseFloat($),z:parseInt(S,10)};return isNaN(I.x)&&isNaN(I.y)?null:{x:isNaN(I.x)?0:I.x,y:isNaN(I.y)?0:I.y,z:isNaN(I.z)?0:I.z}}function parseTransform(m){var x,$,S,I,j,P,C,D,A;const{scale:R,transform:k,translate:O}=m,N=parseScale(R),V=parseTranslate(O),U=parseTransformMatrix(k);if(!U&&!N&&!V)return null;const H={x:(x=N==null?void 0:N.x)!=null?x:1,y:($=N==null?void 0:N.y)!=null?$:1},Z={x:(S=V==null?void 0:V.x)!=null?S:0,y:(I=V==null?void 0:V.y)!=null?I:0},F={x:(j=U==null?void 0:U.x)!=null?j:0,y:(P=U==null?void 0:U.y)!=null?P:0,scaleX:(C=U==null?void 0:U.scaleX)!=null?C:1,scaleY:(D=U==null?void 0:U.scaleY)!=null?D:1};return{x:Z.x+F.x,y:Z.y+F.y,z:(A=V==null?void 0:V.z)!=null?A:0,scaleX:H.x*F.scaleX,scaleY:H.y*F.scaleY}}function parseTransformMatrix(m){if(m.startsWith("matrix3d(")){const x=m.slice(9,-1).split(/, /);return{x:+x[12],y:+x[13],scaleX:+x[0],scaleY:+x[5]}}else if(m.startsWith("matrix(")){const x=m.slice(7,-1).split(/, /);return{x:+x[4],y:+x[5],scaleX:+x[0],scaleY:+x[3]}}return null}var ScrollDirection=(m=>(m[m.Idle=0]="Idle",m[m.Forward=1]="Forward",m[m.Reverse=-1]="Reverse",m))(ScrollDirection||{}),defaultThreshold={x:.2,y:.2},defaultTolerance={x:10,y:10};function detectScrollIntent(m,x,$,S=25,I=defaultThreshold,j=defaultTolerance){const{x:P,y:C}=x,{rect:D,isTop:A,isBottom:R,isLeft:k,isRight:O}=getScrollPosition(m),N=getFrameTransform(m),V=getComputedStyles(m,!0),U=parseTransform(V),H=U!==null?(U==null?void 0:U.scaleX)<0:!1,Z=U!==null?(U==null?void 0:U.scaleY)<0:!1,F=new Rectangle(D.left*N.scaleX+N.x,D.top*N.scaleY+N.y,D.width*N.scaleX,D.height*N.scaleY),L={x:0,y:0},z={x:0,y:0},G={height:F.height*I.y,width:F.width*I.x};return(!A||Z&&!R)&&C<=F.top+G.height&&($==null?void 0:$.y)!==1&&P>=F.left-j.x&&P<=F.right+j.x?(L.y=Z?1:-1,z.y=S*Math.abs((F.top+G.height-C)/G.height)):(!R||Z&&!A)&&C>=F.bottom-G.height&&($==null?void 0:$.y)!==-1&&P>=F.left-j.x&&P<=F.right+j.x&&(L.y=Z?-1:1,z.y=S*Math.abs((F.bottom-G.height-C)/G.height)),(!O||H&&!k)&&P>=F.right-G.width&&($==null?void 0:$.x)!==-1&&C>=F.top-j.y&&C<=F.bottom+j.y?(L.x=H?-1:1,z.x=S*Math.abs((F.right-G.width-P)/G.width)):(!k||H&&!O)&&P<=F.left+G.width&&($==null?void 0:$.x)!==1&&C>=F.top-j.y&&C<=F.bottom+j.y&&(L.x=H?1:-1,z.x=S*Math.abs((F.left+G.width-P)/G.width)),{direction:L,speed:z}}function supportsScrollIntoViewIfNeeded(m){return"scrollIntoViewIfNeeded"in m&&typeof m.scrollIntoViewIfNeeded=="function"}function scrollIntoViewIfNeeded(m,x=!1){if(supportsScrollIntoViewIfNeeded(m)){m.scrollIntoViewIfNeeded(x);return}if(!isHTMLElement(m))return m.scrollIntoView();var $=getFirstScrollableAncestor(m);if(!isHTMLElement($))return;const S=getComputedStyles($,!0),I=parseInt(S.getPropertyValue("border-top-width")),j=parseInt(S.getPropertyValue("border-left-width")),P=m.offsetTop-$.offsetTop<$.scrollTop,C=m.offsetTop-$.offsetTop+m.clientHeight-I>$.scrollTop+$.clientHeight,D=m.offsetLeft-$.offsetLeft<$.scrollLeft,A=m.offsetLeft-$.offsetLeft+m.clientWidth-j>$.scrollLeft+$.clientWidth,R=P&&!C;(P||C)&&x&&($.scrollTop=m.offsetTop-$.offsetTop-$.clientHeight/2-I+m.clientHeight/2),(D||A)&&x&&($.scrollLeft=m.offsetLeft-$.offsetLeft-$.clientWidth/2-j+m.clientWidth/2),(P||C||D||A)&&!x&&m.scrollIntoView(R)}function applyTransform(m,x,$){const{scaleX:S,scaleY:I,x:j,y:P}=x,C=m.left+j+(1-S)*parseFloat($),D=m.top+P+(1-I)*parseFloat($.slice($.indexOf(" ")+1)),A=S?m.width*S:m.width,R=I?m.height*I:m.height;return{width:A,height:R,top:D,right:C+A,bottom:D+R,left:C}}function inverseTransform(m,x,$){const{scaleX:S,scaleY:I,x:j,y:P}=x,C=m.left-j-(1-S)*parseFloat($),D=m.top-P-(1-I)*parseFloat($.slice($.indexOf(" ")+1)),A=S?m.width/S:m.width,R=I?m.height/I:m.height;return{width:A,height:R,top:D,right:C+A,bottom:D+R,left:C}}function animateTransform({element:m,keyframes:x,options:$}){return m.animate(x,$).finished}function computeTranslate(m,x=getComputedStyles(m).translate,$=!0){if($){const S=getFinalKeyframe(m,I=>"translate"in I);if(S){const{translate:I=""}=S[0];if(typeof I=="string"){const j=parseTranslate(I);if(j)return j}}}if(x){const S=parseTranslate(x);if(S)return S}return{x:0,y:0,z:0}}var scheduler3$1=new Scheduler$1(m=>setTimeout(m,0)),animations=new Map,clear2=animations.clear.bind(animations);function getDocumentAnimations(m){const x=m.ownerDocument;let $=animations.get(x);if($)return $;$=x.getAnimations(),animations.set(x,$),scheduler3$1.schedule(clear2);const S=$.filter(I=>isKeyframeEffect(I.effect)&&I.effect.target===m);return animations.set(m,S),$}function forceFinishAnimations(m,x){const $=getDocumentAnimations(m).filter(S=>{var I,j;if(isKeyframeEffect(S.effect)){const{target:P}=S.effect;if((j=P&&((I=x.isValidTarget)==null?void 0:I.call(x,P)))!=null?j:!0)return S.effect.getKeyframes().some(D=>{for(const A of x.properties)if(D[A])return!0})}}).map(S=>{const{effect:I,currentTime:j}=S,P=I==null?void 0:I.getComputedTiming().duration;if(!(S.pending||S.playState==="finished")&&typeof P=="number"&&typeof j=="number"&&j<P)return S.currentTime=P,()=>{S.currentTime=j}});if($.length>0)return()=>$.forEach(S=>S==null?void 0:S())}var DOMRectangle=class extends Rectangle{constructor(m,x={}){var $,S,I,j;const{frameTransform:P=getFrameTransform(m),ignoreTransforms:C,getBoundingClientRect:D=getBoundingRectangle}=x,A=forceFinishAnimations(m,{properties:["transform","translate","scale","width","height"],isValidTarget:G=>(G!==m||isSafari())&&G.contains(m)}),R=D(m);let{top:k,left:O,width:N,height:V}=R,U;const H=getComputedStyles(m),Z=parseTransform(H),F={x:($=Z==null?void 0:Z.scaleX)!=null?$:1,y:(S=Z==null?void 0:Z.scaleY)!=null?S:1},L=getProjectedTransform(m,H);A==null||A(),Z&&(U=inverseTransform(R,Z,H.transformOrigin),(C||L)&&(k=U.top,O=U.left,N=U.width,V=U.height));const z={width:(I=U==null?void 0:U.width)!=null?I:N,height:(j=U==null?void 0:U.height)!=null?j:V};if(L&&!C&&U){const G=applyTransform(U,L,H.transformOrigin);k=G.top,O=G.left,N=G.width,V=G.height,F.x=L.scaleX,F.y=L.scaleY}P&&(C||(O*=P.scaleX,N*=P.scaleX,k*=P.scaleY,V*=P.scaleY),O+=P.x,k+=P.y),super(O,k,N,V),this.scale=F,this.intrinsicWidth=z.width,this.intrinsicHeight=z.height}};function getProjectedTransform(m,x){var $;const S=m.getAnimations();let I=null;if(!S.length)return null;for(const j of S){if(j.playState!=="running")continue;const P=isKeyframeEffect(j.effect)?j.effect.getKeyframes():[],C=P[P.length-1];if(!C)continue;const{transform:D,translate:A,scale:R}=C;if(D||A||R){const k=parseTransform({transform:typeof D=="string"&&D?D:x.transform,translate:typeof A=="string"&&A?A:x.translate,scale:typeof R=="string"&&R?R:x.scale});k&&(I=I?{x:I.x+k.x,y:I.y+k.y,z:($=I.z)!=null?$:k.z,scaleX:I.scaleX*k.scaleX,scaleY:I.scaleY*k.scaleY}:k)}}return I}function supportsStyle(m){return"style"in m&&typeof m.style=="object"&&m.style!==null&&"setProperty"in m.style&&"removeProperty"in m.style&&typeof m.style.setProperty=="function"&&typeof m.style.removeProperty=="function"}var Styles=class{constructor(m){this.element=m,this.initial=new Map}set(m,x=""){const{element:$}=this;if(supportsStyle($))for(const[S,I]of Object.entries(m)){const j=`${x}${S}`;this.initial.has(j)||this.initial.set(j,$.style.getPropertyValue(j)),$.style.setProperty(j,typeof I=="string"?I:`${I}px`)}}remove(m,x=""){const{element:$}=this;if(supportsStyle($))for(const S of m){const I=`${x}${S}`;$.style.removeProperty(I)}}reset(){const{element:m}=this;if(supportsStyle(m)){for(const[x,$]of this.initial)m.style.setProperty(x,$);m.getAttribute("style")===""&&m.removeAttribute("style")}}};function isElement(m){return m?m instanceof getWindow(m).Element||isNode(m)&&m.nodeType===Node.ELEMENT_NODE:!1}function isKeyboardEvent(m){if(!m)return!1;const{KeyboardEvent:x}=getWindow(m.target);return m instanceof x}function isPointerEvent(m){if(!m)return!1;const{PointerEvent:x}=getWindow(m.target);return m instanceof x}function isTextInput(m){if(!isElement(m))return!1;const{tagName:x}=m;return x==="INPUT"||x==="TEXTAREA"||isContentEditable(m)}function isContentEditable(m){return m.hasAttribute("contenteditable")&&m.getAttribute("contenteditable")!=="false"}var ids={};function generateUniqueId(m){const x=ids[m]==null?0:ids[m]+1;return ids[m]=x,`${m}-${x}`}var pointerIntersection$2=({dragOperation:m,droppable:x})=>{const $=m.position.current;if(!$)return null;const{id:S}=x;if(!x.shape)return null;if(x.shape.containsPoint($)){const I=Point$1.distance(x.shape.center,$);return{id:S,value:1/I,type:CollisionType.PointerIntersection,priority:CollisionPriority.High}}return null},shapeIntersection$1=({dragOperation:m,droppable:x})=>{const{shape:$}=m;if(!x.shape||!($!=null&&$.current))return null;const S=$.current.intersectionArea(x.shape);if(S){const{position:I}=m,j=Point$1.distance(x.shape.center,I.current),C=S/($.current.area+x.shape.area-S)/j;return{id:x.id,value:C,type:CollisionType.ShapeIntersection,priority:CollisionPriority.Normal}}return null},defaultCollisionDetection$1=m=>{var x;return(x=pointerIntersection$2(m))!=null?x:shapeIntersection$1(m)},closestCorners$1=m=>{const{dragOperation:x,droppable:$}=m,{shape:S,position:I}=x;if(!$.shape)return null;const j=S?Rectangle.from(S.current.boundingRectangle).corners:void 0,C=Rectangle.from($.shape.boundingRectangle).corners.reduce((D,A,R)=>{var k;return D+Point$1.distance(Point$1.from(A),(k=j==null?void 0:j[R])!=null?k:I.current)},0)/4;return{id:$.id,value:1/C,type:CollisionType.Collision,priority:CollisionPriority.Normal}},__create$2=Object.create,__defProp$3=Object.defineProperty,__defProps$3=Object.defineProperties,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropDescs$3=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__knownSymbol$2=(m,x)=>(x=Symbol[m])?x:Symbol.for("Symbol."+m),__typeError$2=m=>{throw TypeError(m)},__defNormalProp$3=(m,x,$)=>x in m?__defProp$3(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$3=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$3.call(x,$)&&__defNormalProp$3(m,$,x[$]);if(__getOwnPropSymbols$3)for(var $ of __getOwnPropSymbols$3(x))__propIsEnum$3.call(x,$)&&__defNormalProp$3(m,$,x[$]);return m},__spreadProps$3=(m,x)=>__defProps$3(m,__getOwnPropDescs$3(x)),__name=(m,x)=>__defProp$3(m,"name",{value:x,configurable:!0}),__objRest$2=(m,x)=>{var $={};for(var S in m)__hasOwnProp$3.call(m,S)&&x.indexOf(S)<0&&($[S]=m[S]);if(m!=null&&__getOwnPropSymbols$3)for(var S of __getOwnPropSymbols$3(m))x.indexOf(S)<0&&__propIsEnum$3.call(m,S)&&($[S]=m[S]);return $},__decoratorStart$2=m=>{var x;return[,,,__create$2((x=m==null?void 0:m[__knownSymbol$2("metadata")])!=null?x:null)]},__decoratorStrings$2=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn$2=m=>m!==void 0&&typeof m!="function"?__typeError$2("Function expected"):m,__decoratorContext$2=(m,x,$,S,I)=>({kind:__decoratorStrings$2[m],name:x,metadata:S,addInitializer:j=>$._?__typeError$2("Already initialized"):I.push(__expectFn$2(j||null))}),__decoratorMetadata$2=(m,x)=>__defNormalProp$3(x,__knownSymbol$2("metadata"),m[3]),__runInitializers$2=(m,x,$,S)=>{for(var I=0,j=m[x>>1],P=j&&j.length;I<P;I++)x&1?j[I].call($):S=j[I].call($,S);return S},__decorateElement$2=(m,x,$,S,I,j)=>{var P,C,D,A,R,k=x&7,O=!!(x&8),N=!!(x&16),V=k>3?m.length+1:k?O?1:2:0,U=__decoratorStrings$2[k+5],H=k>3&&(m[V-1]=[]),Z=m[V]||(m[V]=[]),F=k&&(!N&&!O&&(I=I.prototype),k<5&&(k>3||!N)&&__getOwnPropDesc$2(k<4?I:{get[$](){return __privateGet$2(this,j)},set[$](z){return __privateSet$2(this,j,z)}},$));k?N&&k<4&&__name(j,(k>2?"set ":k>1?"get ":"")+$):__name(I,$);for(var L=S.length-1;L>=0;L--)A=__decoratorContext$2(k,$,D={},m[3],Z),k&&(A.static=O,A.private=N,R=A.access={has:N?z=>__privateIn(I,z):z=>$ in z},k^3&&(R.get=N?z=>(k^1?__privateGet$2:__privateMethod)(z,I,k^4?j:F.get):z=>z[$]),k>2&&(R.set=N?(z,G)=>__privateSet$2(z,I,G,k^4?j:F.set):(z,G)=>z[$]=G)),C=(0,S[L])(k?k<4?N?j:F[U]:k>4?void 0:{get:F.get,set:F.set}:I,A),D._=1,k^4||C===void 0?__expectFn$2(C)&&(k>4?H.unshift(C):k?N?j=C:F[U]=C:I=C):typeof C!="object"||C===null?__typeError$2("Object expected"):(__expectFn$2(P=C.get)&&(F.get=P),__expectFn$2(P=C.set)&&(F.set=P),__expectFn$2(P=C.init)&&H.unshift(P));return k||__decoratorMetadata$2(m,I),F&&__defProp$3(I,$,F),N?k^4?j:F:I},__accessCheck$2=(m,x,$)=>x.has(m)||__typeError$2("Cannot "+$),__privateIn=(m,x)=>Object(x)!==x?__typeError$2('Cannot use the "in" operator on this value'):m.has(x),__privateGet$2=(m,x,$)=>(__accessCheck$2(m,x,"read from private field"),$?$.call(m):x.get(m)),__privateAdd$2=(m,x,$)=>x.has(m)?__typeError$2("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet$2=(m,x,$,S)=>(__accessCheck$2(m,x,"write to private field"),S?S.call(m,$):x.set(m,$),$),__privateMethod=(m,x,$)=>(__accessCheck$2(m,x,"access private method"),$),defaultAttributes$1={role:"button",roleDescription:"draggable"},defaultDescriptionIdPrefix="dnd-kit-description",defaultAnnouncementIdPrefix="dnd-kit-announcement",defaultScreenReaderInstructions={draggable:"To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel."},defaultAnnouncements={dragstart({operation:{source:m}}){if(m)return`Picked up draggable item ${m.id}.`},dragover({operation:{source:m,target:x}}){if(!(!m||m.id===(x==null?void 0:x.id)))return x?`Draggable item ${m.id} was moved over droppable target ${x.id}.`:`Draggable item ${m.id} is no longer over a droppable target.`},dragend({operation:{source:m,target:x},canceled:$}){if(m)return $?`Dragging was cancelled. Draggable item ${m.id} was dropped.`:x?`Draggable item ${m.id} was dropped over droppable target ${x.id}`:`Draggable item ${m.id} was dropped.`}};function isFocusable(m){const x=m.tagName.toLowerCase();return["input","select","textarea","a","button"].includes(x)}function createHiddenText(m,x){const $=document.createElement("div");return $.id=m,$.style.setProperty("display","none"),$.textContent=x,$}function createLiveRegion(m){const x=document.createElement("div");return x.id=m,x.setAttribute("role","status"),x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true"),x.style.setProperty("position","fixed"),x.style.setProperty("width","1px"),x.style.setProperty("height","1px"),x.style.setProperty("margin","-1px"),x.style.setProperty("border","0"),x.style.setProperty("padding","0"),x.style.setProperty("overflow","hidden"),x.style.setProperty("clip","rect(0 0 0 0)"),x.style.setProperty("clip-path","inset(100%)"),x.style.setProperty("white-space","nowrap"),x}var debouncedEvents=["dragover","dragmove"],Accessibility=class extends Plugin{constructor(m,x){super(m);const{id:$,idPrefix:{description:S=defaultDescriptionIdPrefix,announcement:I=defaultAnnouncementIdPrefix}={},announcements:j=defaultAnnouncements,screenReaderInstructions:P=defaultScreenReaderInstructions,debounce:C=500}=x??{},D=$?`${S}-${$}`:generateUniqueId(S),A=$?`${I}-${$}`:generateUniqueId(I);let R,k,O,N;const V=(G=N)=>{!O||!G||(O==null?void 0:O.nodeValue)!==G&&(O.nodeValue=G)},U=()=>scheduler.schedule(V),H=debounce$1(U,C),Z=Object.entries(j).map(([G,q])=>this.manager.monitor.addEventListener(G,(X,M)=>{const W=O;if(!W)return;const T=q==null?void 0:q(X,M);T&&W.nodeValue!==T&&(N=T,debouncedEvents.includes(G)?H():(U(),H.cancel()))})),F=()=>{let G=[];R!=null&&R.isConnected||(R=createHiddenText(D,P.draggable),G.push(R)),k!=null&&k.isConnected||(k=createLiveRegion(A),O=document.createTextNode(""),k.appendChild(O),G.push(k)),G.length>0&&document.body.append(...G)},L=new Set;function z(){for(const G of L)G()}this.registerEffect(()=>{var G;L.clear();for(const q of this.manager.registry.draggables.value){const X=(G=q.handle)!=null?G:q.element;if(X){(!R||!k)&&L.add(F),(!isFocusable(X)||isSafari())&&!X.hasAttribute("tabindex")&&L.add(()=>X.setAttribute("tabindex","0")),!X.hasAttribute("role")&&X.tagName.toLowerCase()!=="button"&&L.add(()=>X.setAttribute("role",defaultAttributes$1.role)),X.hasAttribute("aria-roledescription")||L.add(()=>X.setAttribute("aria-roledescription",defaultAttributes$1.roleDescription)),X.hasAttribute("aria-describedby")||L.add(()=>X.setAttribute("aria-describedby",D));for(const W of["aria-pressed","aria-grabbed"]){const T=String(q.isDragging);X.getAttribute(W)!==T&&L.add(()=>X.setAttribute(W,T))}const M=String(q.disabled);X.getAttribute("aria-disabled")!==M&&L.add(()=>X.setAttribute("aria-disabled",M))}}L.size>0&&scheduler.schedule(z)}),this.destroy=()=>{super.destroy(),R==null||R.remove(),k==null||k.remove(),Z.forEach(G=>G())}}};function debounce$1(m,x){let $;const S=()=>{clearTimeout($),$=setTimeout(m,x)};return S.cancel=()=>clearTimeout($),S}var Cursor=class extends Plugin{constructor(m,x){super(m,x),this.manager=m;const $=computed(()=>{var S;return getDocument((S=this.manager.dragOperation.source)==null?void 0:S.element)});this.destroy=E(()=>{var S;const{dragOperation:I}=this.manager,{cursor:j="grabbing"}=(S=this.options)!=null?S:{};if(I.status.initialized){const P=$.value,C=P.createElement("style");return C.textContent=`* { cursor: ${j} !important; }`,P.head.appendChild(C),()=>C.remove()}})}},ATTR_PREFIX="data-dnd-",DROPPING_ATTRIBUTE=`${ATTR_PREFIX}dropping`,CSS_PREFIX="--dnd-",ATTRIBUTE=`${ATTR_PREFIX}dragging`,PLACEHOLDER_ATTRIBUTE=`${ATTR_PREFIX}placeholder`,IGNORED_ATTRIBUTES=[ATTRIBUTE,PLACEHOLDER_ATTRIBUTE,"popover","aria-pressed","aria-grabbing"],IGNORED_STYLES=["view-transition-name"],CSS_RULES=`
  :root [${ATTRIBUTE}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${CSS_PREFIX}top, 0px) !important;
    left: var(${CSS_PREFIX}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${CSS_PREFIX}width, auto);
    max-width: var(${CSS_PREFIX}width, auto);
    height: var(${CSS_PREFIX}height, auto);
    max-height: var(${CSS_PREFIX}height, auto);
    transition: var(${CSS_PREFIX}transition) !important;
  }

  :root [${PLACEHOLDER_ATTRIBUTE}] {
    transition: none;
  }

  :root [${PLACEHOLDER_ATTRIBUTE}='hidden'] {
    visibility: hidden;
  }

  [${ATTRIBUTE}] * {
    pointer-events: none !important;
  }

  [${ATTRIBUTE}]:not([${DROPPING_ATTRIBUTE}]) {
    translate: var(${CSS_PREFIX}translate) !important;
  }

  [${ATTRIBUTE}][style*='${CSS_PREFIX}scale'] {
    scale: var(${CSS_PREFIX}scale) !important;
    transform-origin: var(${CSS_PREFIX}transform-origin) !important;
  }

  @layer {
    :where([${ATTRIBUTE}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${ATTRIBUTE}]::backdrop, [${ATTR_PREFIX}overlay]:not([${ATTRIBUTE}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g," ").replace(/\s+/g," ").trim();function createPlaceholder(m,x="hidden"){return n(()=>{const{element:$,manager:S}=m;if(!$||!S)return;const I=findContainedDroppables($,S.registry.droppables),j=[],P=cloneElement($),{remove:C}=P;return proxyDroppableElements(I,P,j),configurePlaceholder(P,x),P.remove=()=>{j.forEach(D=>D()),C.call(P)},P})}function findContainedDroppables(m,x){const $=new Map;for(const S of x)if(S.element&&(m===S.element||m.contains(S.element))){const I=`${ATTR_PREFIX}${generateUniqueId("dom-id")}`;S.element.setAttribute(I,""),$.set(S,I)}return $}function proxyDroppableElements(m,x,$){for(const[S,I]of m){if(!S.element)continue;const j=`[${I}]`,P=x.matches(j)?x:x.querySelector(j);if(S.element.removeAttribute(I),!P)continue;const C=S.element;S.proxy=P,P.removeAttribute(I),ProxiedElements.set(C,P),$.push(()=>{ProxiedElements.delete(C),S.proxy=void 0})}}function configurePlaceholder(m,x="hidden"){m.setAttribute("inert","true"),m.setAttribute("tab-index","-1"),m.setAttribute("aria-hidden","true"),m.setAttribute(PLACEHOLDER_ATTRIBUTE,x)}function isSameFrame(m,x){return m===x?!0:getFrameElement(m)===getFrameElement(x)}function preventPopoverClose(m){const{target:x}=m;"newState"in m&&m.newState==="closed"&&isElement(x)&&x.hasAttribute("popover")&&requestAnimationFrame(()=>showPopover(x))}function isTableRow(m){return m.tagName==="TR"}var styleSheetRegistry=new Map,_overlay_dec,_a$1,_init$2,_overlay,_Feedback_instances,render_fn,injectStyles_fn,_Feedback=class extends(_a$1=Plugin,_overlay_dec=[reactive],_a$1){constructor(x,$){super(x,$),__privateAdd$2(this,_Feedback_instances),__privateAdd$2(this,_overlay,__runInitializers$2(_init$2,8,this)),__runInitializers$2(_init$2,11,this),this.state={initial:{},current:{}},this.registerEffect(__privateMethod(this,_Feedback_instances,injectStyles_fn)),this.registerEffect(__privateMethod(this,_Feedback_instances,render_fn))}destroy(){super.destroy();for(const[x,$]of styleSheetRegistry.entries())$.instances.has(this)&&($.instances.delete(this),$.instances.size===0&&($.cleanup(),styleSheetRegistry.delete(x)))}};_init$2=__decoratorStart$2(_a$1);_overlay=new WeakMap;_Feedback_instances=new WeakSet;render_fn=function(){var m,x,$;const{state:S,manager:I,options:j}=this,{dragOperation:P}=I,{position:C,source:D,status:A}=P;if(A.idle){S.current={},S.initial={};return}if(!D)return;const{element:R,feedback:k}=D;if(!R||k==="none"||!A.initialized||A.initializing)return;const{initial:O}=S,N=(m=this.overlay)!=null?m:R,V=getFrameTransform(N),U=getFrameTransform(R),H=!isSameFrame(R,N),Z=new DOMRectangle(R,{frameTransform:H?U:null,ignoreTransforms:!H}),F={x:U.scaleX/V.scaleX,y:U.scaleY/V.scaleY};let{width:L,height:z,top:G,left:q}=Z;H&&(L=L/F.x,z=z/F.y);let X,M;const W=new Styles(N),{transition:T,translate:K,boxSizing:J,paddingBlockStart:ne,paddingBlockEnd:re,paddingInlineStart:te,paddingInlineEnd:ee,borderInlineStartWidth:ue,borderInlineEndWidth:pe,borderBlockStartWidth:ge,borderBlockEndWidth:ce}=getComputedStyles(R),de=k==="clone",ve=J==="content-box",ye=ve?parseInt(te)+parseInt(ee)+parseInt(ue)+parseInt(pe):0,Ie=ve?parseInt(ne)+parseInt(re)+parseInt(ge)+parseInt(ce):0,he=k!=="move"&&!this.overlay?createPlaceholder(D,de?"clone":"hidden"):null,De=n(()=>isKeyboardEvent(I.dragOperation.activatorEvent));if(K!=="none"){const se=parseTranslate(K);se&&!O.translate&&(O.translate=se)}if(!O.transformOrigin){const se=n(()=>C.current);O.transformOrigin={x:(se.x-q*V.scaleX-V.x)/(L*V.scaleX),y:(se.y-G*V.scaleY-V.y)/(z*V.scaleY)}}const{transformOrigin:Ae}=O,ae=G*V.scaleY+V.y,B=q*V.scaleX+V.x;if(!O.coordinates&&(O.coordinates={x:B,y:ae},F.x!==1||F.y!==1)){const{scaleX:se,scaleY:_e}=U,{x:fe,y:xe}=Ae;O.coordinates.x+=(L*se-L)*fe,O.coordinates.y+=(z*_e-z)*xe}O.dimensions||(O.dimensions={width:L,height:z}),O.frameTransform||(O.frameTransform=V);const Y={x:O.coordinates.x-B,y:O.coordinates.y-ae},Q={width:(O.dimensions.width*O.frameTransform.scaleX-L*V.scaleX)*Ae.x,height:(O.dimensions.height*O.frameTransform.scaleY-z*V.scaleY)*Ae.y},oe={x:Y.x/V.scaleX+Q.width,y:Y.y/V.scaleY+Q.height},ie={left:q+oe.x,top:G+oe.y};N.setAttribute(ATTRIBUTE,"true");const le=n(()=>P.transform),me=(x=O.translate)!=null?x:{x:0,y:0},be=le.x*V.scaleX+me.x,$e=le.y*V.scaleY+me.y,ke=`${be}px ${$e}px 0`,Ce=T?`${T}, translate 0ms linear`:"";W.set({width:L-ye,height:z-Ie,top:ie.top,left:ie.left,translate:ke,transition:Ce,scale:H?`${F.x} ${F.y}`:"","transform-origin":`${Ae.x*100}% ${Ae.y*100}%`},CSS_PREFIX),he&&(R.insertAdjacentElement("afterend",he),j!=null&&j.rootElement&&(typeof j.rootElement=="function"?j.rootElement(D):j.rootElement).appendChild(R)),supportsPopover(N)&&(N.hasAttribute("popover")||N.setAttribute("popover","manual"),showPopover(N),N.addEventListener("beforetoggle",preventPopoverClose));const Re=new ResizeObserver(()=>{if(!he)return;const se=new DOMRectangle(he,{frameTransform:V,ignoreTransforms:!0}),_e=Ae??{x:1,y:1},fe=(L-se.width)*_e.x+oe.x,xe=(z-se.height)*_e.y+oe.y;if(W.set({width:se.width-ye,height:se.height-Ie,top:G+xe,left:q+fe},CSS_PREFIX),X==null||X.takeRecords(),isTableRow(R)&&isTableRow(he)){const we=Array.from(R.cells),je=Array.from(he.cells);for(const[Pe,Te]of we.entries()){const Oe=je[Pe];Te.style.width=`${Oe.offsetWidth}px`}}P.shape=new DOMRectangle(N)}),Se=new DOMRectangle(N);n(()=>P.shape=Se);const Ee=getWindow(N),Le=se=>{this.manager.actions.stop({event:se})};De&&Ee.addEventListener("resize",Le),n(()=>D.status)==="idle"&&requestAnimationFrame(()=>D.status="dragging"),he&&(Re.observe(he),X=new MutationObserver(se=>{let _e=!1;for(const fe of se){if(fe.target!==R){_e=!0;continue}if(fe.type!=="attributes")continue;const xe=fe.attributeName;if(xe.startsWith("aria-")||IGNORED_ATTRIBUTES.includes(xe))continue;const we=R.getAttribute(xe);if(xe==="style"){if(supportsStyle(R)&&supportsStyle(he)){const je=R.style;for(const Pe of Array.from(he.style))je.getPropertyValue(Pe)===""&&he.style.removeProperty(Pe);for(const Pe of Array.from(je)){if(IGNORED_STYLES.includes(Pe)||Pe.startsWith(CSS_PREFIX))continue;const Te=je.getPropertyValue(Pe);he.style.setProperty(Pe,Te)}}}else we!==null?he.setAttribute(xe,we):he.removeAttribute(xe)}_e&&de&&(he.innerHTML=R.innerHTML)}),X.observe(R,{attributes:!0,subtree:!0,childList:!0}),M=new MutationObserver(se=>{for(const _e of se)if(_e.addedNodes.length!==0)for(const fe of Array.from(_e.addedNodes)){if(fe.contains(R)&&R.nextElementSibling!==he){R.insertAdjacentElement("afterend",he),showPopover(N);return}if(fe.contains(he)&&he.previousElementSibling!==R){he.insertAdjacentElement("beforebegin",R),showPopover(N);return}}}),M.observe(R.ownerDocument.body,{childList:!0,subtree:!0}));const Ve=($=I.dragOperation.source)==null?void 0:$.id,Be=()=>{var se;if(!De||Ve==null)return;const _e=I.registry.draggables.get(Ve),fe=(se=_e==null?void 0:_e.handle)!=null?se:_e==null?void 0:_e.element;isHTMLElement(fe)&&fe.focus()},ze=()=>{X==null||X.disconnect(),M==null||M.disconnect(),Re.disconnect(),Ee.removeEventListener("resize",Le),supportsPopover(N)&&(N.removeEventListener("beforetoggle",preventPopoverClose),N.removeAttribute("popover")),N.removeAttribute(ATTRIBUTE),W.reset(),D.status="idle";const se=S.current.translate!=null;he&&(se||he.parentElement!==N.parentElement)&&N.isConnected&&he.replaceWith(N),he==null||he.remove()},He=effects(()=>{var se;const{transform:_e,status:fe}=P;if(!(!_e.x&&!_e.y&&!S.current.translate)&&fe.dragging){const xe=(se=O.translate)!=null?se:{x:0,y:0},we={x:_e.x/V.scaleX+xe.x,y:_e.y/V.scaleY+xe.y},je=S.current.translate,Pe=n(()=>P.modifiers),Te=n(()=>{var Ne;return(Ne=P.shape)==null?void 0:Ne.current}),Oe=De?"250ms cubic-bezier(0.25, 1, 0.5, 1)":"0ms linear";if(W.set({transition:`${T}, translate ${Oe}`,translate:`${we.x}px ${we.y}px 0`},CSS_PREFIX),X==null||X.takeRecords(),Te&&Te!==Se&&je&&!Pe.length){const Ne=Point$1.delta(we,je);P.shape=Rectangle.from(Te.boundingRectangle).translate(Ne.x*V.scaleX,Ne.y*V.scaleY)}else P.shape=new DOMRectangle(N);S.current.translate=we}},function(){if(P.status.dropped){this.dispose(),D.status="dropping";let se=S.current.translate;const _e=se!=null;if(!se&&R!==N&&(se={x:0,y:0}),!se){ze();return}const fe=()=>{var xe,we;{showPopover(N);const[,je]=(xe=getFinalKeyframe(N,dt=>"translate"in dt))!=null?xe:[];je==null||je.pause();const Pe=he??R,Te={frameTransform:isSameFrame(N,Pe)?null:void 0},Oe=new DOMRectangle(N,Te),Ne=(we=parseTranslate(getComputedStyles(N).translate))!=null?we:se,Me=new DOMRectangle(Pe,Te),We=Rectangle.delta(Oe,Me,D.alignment),Ge={x:Ne.x-We.x,y:Ne.y-We.y},ct=Math.round(Oe.intrinsicHeight)!==Math.round(Me.intrinsicHeight)?{minHeight:[`${Oe.intrinsicHeight}px`,`${Me.intrinsicHeight}px`],maxHeight:[`${Oe.intrinsicHeight}px`,`${Me.intrinsicHeight}px`]}:{},ut=Math.round(Oe.intrinsicWidth)!==Math.round(Me.intrinsicWidth)?{minWidth:[`${Oe.intrinsicWidth}px`,`${Me.intrinsicWidth}px`],maxWidth:[`${Oe.intrinsicWidth}px`,`${Me.intrinsicWidth}px`]}:{};W.set({transition:T},CSS_PREFIX),N.setAttribute(DROPPING_ATTRIBUTE,""),X==null||X.takeRecords(),animateTransform({element:N,keyframes:__spreadProps$3(__spreadValues$3(__spreadValues$3({},ct),ut),{translate:[`${Ne.x}px ${Ne.y}px 0`,`${Ge.x}px ${Ge.y}px 0`]}),options:{duration:_e||N!==R?250:0,easing:"ease"}}).then(()=>{N.removeAttribute(DROPPING_ATTRIBUTE),je==null||je.finish(),ze(),requestAnimationFrame(Be)})}};I.renderer.rendering.then(fe)}});return()=>{ze(),He()}};injectStyles_fn=function(){var m,x;const{status:$,source:S,target:I}=this.manager.dragOperation;if($.initializing){const j=getDocument((m=S==null?void 0:S.element)!=null?m:null),P=getDocument((x=I==null?void 0:I.element)!=null?x:null),C=new Set([j,P]);for(const D of C){let A=styleSheetRegistry.get(D);if(!A){const R=document.createElement("style");R.textContent=CSS_RULES,D.head.prepend(R);const k=new MutationObserver(O=>{for(const N of O)if(N.type==="childList"){const V=Array.from(N.removedNodes);V.length>0&&V.includes(R)&&D.head.prepend(R)}});k.observe(D.head,{childList:!0}),A={cleanup:()=>{k.disconnect(),R.remove()},instances:new Set},styleSheetRegistry.set(D,A)}A.instances.add(this)}}};__decorateElement$2(_init$2,4,"overlay",_overlay_dec,_Feedback,_overlay);__decoratorMetadata$2(_init$2,_Feedback);_Feedback.configure=configurator(_Feedback);var Feedback=_Feedback,LOCKED=!0,UNLOCKED=!1,_dec,_a2,_dec2,_b,_init2,__b,__a;_b=(_dec2=[reactive],ScrollDirection.Forward),_a2=(_dec=[reactive],ScrollDirection.Reverse);var ScrollLock=class{constructor(){__privateAdd$2(this,__b,__runInitializers$2(_init2,8,this,LOCKED)),__runInitializers$2(_init2,11,this),__privateAdd$2(this,__a,__runInitializers$2(_init2,12,this,LOCKED)),__runInitializers$2(_init2,15,this)}isLocked(m){return m===ScrollDirection.Idle?!1:m==null?this[ScrollDirection.Forward]===LOCKED&&this[ScrollDirection.Reverse]===LOCKED:this[m]===LOCKED}unlock(m){m!==ScrollDirection.Idle&&(this[m]=UNLOCKED)}};_init2=__decoratorStart$2(null);__b=new WeakMap;__a=new WeakMap;__decorateElement$2(_init2,4,_b,_dec2,ScrollLock,__b);__decorateElement$2(_init2,4,_a2,_dec,ScrollLock,__a);__decoratorMetadata$2(_init2,ScrollLock);var DIRECTIONS=[ScrollDirection.Forward,ScrollDirection.Reverse],ScrollIntent=class{constructor(){this.x=new ScrollLock,this.y=new ScrollLock}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},ScrollIntentTracker=class extends Plugin{constructor(m){super(m);const x=d(new ScrollIntent);let $=null;this.signal=x,E(()=>{const{status:S}=m.dragOperation;if(!S.initialized){$=null,x.value=new ScrollIntent;return}const{delta:I}=m.dragOperation.position;if($){const j={x:getDirection$2(I.x,$.x),y:getDirection$2(I.y,$.y)},P=x.peek();r(()=>{for(const C of Axes)for(const D of DIRECTIONS)j[C]===D&&P[C].unlock(D);x.value=P})}$=I})}get current(){return this.signal.peek()}};function getDirection$2(m,x){return Math.sign(m-x)}var _autoScrolling_dec,_a3,_init3,_autoScrolling,_meta,_scroll,Scroller=class extends(_a3=CorePlugin,_autoScrolling_dec=[reactive],_a3){constructor(m){super(m),__privateAdd$2(this,_autoScrolling,__runInitializers$2(_init3,8,this,!1)),__runInitializers$2(_init3,11,this),__privateAdd$2(this,_meta),__privateAdd$2(this,_scroll,()=>{if(!__privateGet$2(this,_meta))return;const{element:j,by:P}=__privateGet$2(this,_meta);P.y&&(j.scrollTop+=P.y),P.x&&(j.scrollLeft+=P.x)}),this.scroll=j=>{var P;if(this.disabled)return!1;const C=this.getScrollableElements();if(!C)return __privateSet$2(this,_meta,void 0),!1;const{position:D}=this.manager.dragOperation,A=D==null?void 0:D.current;if(A){const{by:R}=j??{},k=R?{x:getScrollIntent(R.x),y:getScrollIntent(R.y)}:void 0,O=k?void 0:this.scrollIntentTracker.current;if(O!=null&&O.isLocked())return!1;for(const N of C){const V=canScroll(N,R);if(V.x||V.y){const{speed:U,direction:H}=detectScrollIntent(N,A,k);if(O)for(const Z of Axes)O[Z].isLocked(H[Z])&&(U[Z]=0,H[Z]=0);if(H.x||H.y){const{x:Z,y:F}=R??H,L=Z*U.x,z=F*U.y;if(L||z){const G=(P=__privateGet$2(this,_meta))==null?void 0:P.by;if(this.autoScrolling&&G&&(G.x&&!L||G.y&&!z))continue;return __privateSet$2(this,_meta,{element:N,by:{x:L,y:z}}),scheduler.schedule(__privateGet$2(this,_scroll)),!0}}}}}return __privateSet$2(this,_meta,void 0),!1};let x=null,$=null;const S=computed(()=>{const{position:j,source:P}=m.dragOperation;if(!j)return null;const C=getElementFromPoint(getDocument(P==null?void 0:P.element),j.current);return C&&(x=C),C??x}),I=computed(()=>{const j=S.value,{documentElement:P}=getDocument(j);if(!j||j===P){const{target:C}=m.dragOperation,D=C==null?void 0:C.element;if(D){const A=getScrollableAncestors(D,{excludeElement:!1});return $=A,A}}if(j){const C=getScrollableAncestors(j,{excludeElement:!1});return this.autoScrolling&&$&&C.size<($==null?void 0:$.size)?$:($=C,C)}return $=null,null},deepEqual);this.getScrollableElements=()=>I.value,this.scrollIntentTracker=new ScrollIntentTracker(m),this.destroy=m.monitor.addEventListener("dragmove",j=>{this.disabled||j.defaultPrevented||!isKeyboardEvent(m.dragOperation.activatorEvent)||!j.by||this.scroll({by:j.by})&&j.preventDefault()})}};_init3=__decoratorStart$2(_a3);_autoScrolling=new WeakMap;_meta=new WeakMap;_scroll=new WeakMap;__decorateElement$2(_init3,4,"autoScrolling",_autoScrolling_dec,Scroller,_autoScrolling);__decoratorMetadata$2(_init3,Scroller);function getScrollIntent(m){return m>0?ScrollDirection.Forward:m<0?ScrollDirection.Reverse:ScrollDirection.Idle}var Scheduler=class{constructor(m){this.scheduler=m,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:x,resolvers:$}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const S of x)S();for(const S of $)S()}}schedule(m){return this.tasks.add(m),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(x=>this.resolvers.add(x))}},scheduler3=new Scheduler(m=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(m):m()}),AUTOSCROLL_INTERVAL=10,AutoScroller=class extends Plugin{constructor(m,x){super(m);const $=m.registry.plugins.get(Scroller);if(!$)throw new Error("AutoScroller plugin depends on Scroller plugin");this.destroy=E(()=>{if(this.disabled)return;const{position:S,status:I}=m.dragOperation;if(I.dragging)if($.scroll()){$.autoScrolling=!0;const P=setInterval(()=>scheduler3.schedule($.scroll),AUTOSCROLL_INTERVAL);return()=>{clearInterval(P)}}else $.autoScrolling=!1})}},listenerOptions={capture:!0,passive:!0},_timeout,ScrollListener=class extends CorePlugin{constructor(m){super(m),__privateAdd$2(this,_timeout),this.handleScroll=()=>{__privateGet$2(this,_timeout)==null&&__privateSet$2(this,_timeout,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),__privateSet$2(this,_timeout,void 0)},50))};const{dragOperation:x}=this.manager;this.destroy=E(()=>{var $,S,I;if(x.status.dragging){const P=(I=(S=($=x.source)==null?void 0:$.element)==null?void 0:S.ownerDocument)!=null?I:document;return P.addEventListener("scroll",this.handleScroll,listenerOptions),()=>{P.removeEventListener("scroll",this.handleScroll,listenerOptions)}}})}};_timeout=new WeakMap;var PreventSelection=class extends Plugin{constructor(m){super(m),this.manager=m,this.destroy=E(()=>{const{dragOperation:x}=this.manager;if(x.status.initialized){const $=document.createElement("style");return $.textContent="* { user-select: none !important; -webkit-user-select: none !important; }",document.head.appendChild($),removeSelection(),document.addEventListener("selectionchange",removeSelection,{capture:!0}),()=>{document.removeEventListener("selectionchange",removeSelection,{capture:!0}),$.remove()}}})}};function removeSelection(){var m;(m=document.getSelection())==null||m.removeAllRanges()}var defaults=Object.freeze({offset:10,keyboardCodes:{start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"],up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},shouldActivate(m){var x;const{event:$,source:S}=m,I=(x=S.handle)!=null?x:S.element;return $.target===I}}),_cleanupFunctions,_KeyboardSensor=class extends Sensor{constructor(x,$){super(x),this.manager=x,this.options=$,__privateAdd$2(this,_cleanupFunctions,[]),this.listeners=new Listeners,this.handleSourceKeyDown=(S,I,j)=>{if(this.disabled||S.defaultPrevented||!isElement(S.target)||I.disabled)return;const{keyboardCodes:P=defaults.keyboardCodes,shouldActivate:C=defaults.shouldActivate}=j??{};P.start.includes(S.code)&&this.manager.dragOperation.status.idle&&C({event:S,source:I,manager:this.manager})&&this.handleStart(S,I,j)}}bind(x,$=this.options){return E(()=>{var I;const j=(I=x.handle)!=null?I:x.element,P=C=>{isKeyboardEvent(C)&&this.handleSourceKeyDown(C,x,$)};if(j)return j.addEventListener("keydown",P),()=>{j.removeEventListener("keydown",P)}})}handleStart(x,$,S){const{element:I}=$;if(!I)throw new Error("Source draggable does not have an associated element");x.preventDefault(),x.stopImmediatePropagation(),scrollIntoViewIfNeeded(I);const{center:j}=new DOMRectangle(I);if(this.manager.actions.start({event:x,coordinates:{x:j.x,y:j.y},source:$}).signal.aborted)return this.cleanup();this.sideEffects();const C=getDocument(I),D=[this.listeners.bind(C,[{type:"keydown",listener:A=>this.handleKeyDown(A,$,S),options:{capture:!0}}])];__privateGet$2(this,_cleanupFunctions).push(...D)}handleKeyDown(x,$,S){const{keyboardCodes:I=defaults.keyboardCodes}=S??{};if(isKeycode(x,[...I.end,...I.cancel])){x.preventDefault();const j=isKeycode(x,I.cancel);this.handleEnd(x,j);return}isKeycode(x,I.up)?this.handleMove("up",x):isKeycode(x,I.down)&&this.handleMove("down",x),isKeycode(x,I.left)?this.handleMove("left",x):isKeycode(x,I.right)&&this.handleMove("right",x)}handleEnd(x,$){this.manager.actions.stop({event:x,canceled:$}),this.cleanup()}handleMove(x,$){var S,I;const{shape:j}=this.manager.dragOperation,P=$.shiftKey?5:1;let C={x:0,y:0},D=(I=(S=this.options)==null?void 0:S.offset)!=null?I:defaults.offset;if(typeof D=="number"&&(D={x:D,y:D}),!!j){switch(x){case"up":C={x:0,y:-D.y*P};break;case"down":C={x:0,y:D.y*P};break;case"left":C={x:-D.x*P,y:0};break;case"right":C={x:D.x*P,y:0};break}(C.x||C.y)&&($.preventDefault(),this.manager.actions.move({event:$,by:C}))}}sideEffects(){const x=this.manager.registry.plugins.get(AutoScroller);(x==null?void 0:x.disabled)===!1&&(x.disable(),__privateGet$2(this,_cleanupFunctions).push(()=>{x.enable()}))}cleanup(){__privateGet$2(this,_cleanupFunctions).forEach(x=>x()),__privateSet$2(this,_cleanupFunctions,[])}destroy(){this.cleanup(),this.listeners.clear()}};_cleanupFunctions=new WeakMap;_KeyboardSensor.configure=configurator(_KeyboardSensor);_KeyboardSensor.defaults=defaults;var KeyboardSensor=_KeyboardSensor;function isKeycode(m,x){return x.includes(m.code)}var defaults2=Object.freeze({activationConstraints(m,x){var $;const{pointerType:S,target:I}=m;if(!(S==="mouse"&&isElement(I)&&(x.handle===I||($=x.handle)!=null&&$.contains(I))))return S==="touch"?{delay:{value:250,tolerance:5}}:isTextInput(I)&&!m.defaultPrevented?{delay:{value:200,tolerance:0}}:{delay:{value:200,tolerance:10},distance:{value:5}}}}),_cleanup,_clearTimeout,_PointerSensor=class extends Sensor{constructor(x,$){super(x),this.manager=x,this.options=$,__privateAdd$2(this,_cleanup,new Set),__privateAdd$2(this,_clearTimeout),this.listeners=new Listeners,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{const{event:S,coordinates:I}=this.latest;!S||!I||this.manager.actions.move({event:S,to:I})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(x,$){var S;const{activationConstraints:I=defaults2.activationConstraints}=(S=this.options)!=null?S:{};return typeof I=="function"?I(x,$):I}bind(x,$=this.options){return E(()=>{var I;const j=new AbortController,{signal:P}=j,C=A=>{isPointerEvent(A)&&this.handlePointerDown(A,x,$)};let D=[(I=x.handle)!=null?I:x.element];$!=null&&$.activatorElements&&(Array.isArray($.activatorElements)?D=$.activatorElements:D=$.activatorElements(x));for(const A of D)A&&(patchWindow(A.ownerDocument.defaultView),A.addEventListener("pointerdown",C,{signal:P}));return()=>j.abort()})}handlePointerDown(x,$,S={}){if(this.disabled||!x.isPrimary||x.button!==0||!isElement(x.target)||$.disabled||isCapturedBySensor(x)||!this.manager.dragOperation.status.idle)return;const{target:I}=x,j=isHTMLElement(I)&&I.draggable&&I.getAttribute("draggable")==="true",P=getFrameTransform($.element);this.initialCoordinates={x:x.clientX*P.scaleX+P.x,y:x.clientY*P.scaleY+P.y};const C=this.activationConstraints(x,$);if(x.sensor=this,!(C!=null&&C.delay)&&!(C!=null&&C.distance))this.handleStart($,x);else{const{delay:k}=C;if(k){const O=setTimeout(()=>this.handleStart($,x),k.value);__privateSet$2(this,_clearTimeout,()=>{clearTimeout(O),__privateSet$2(this,_clearTimeout,void 0)})}}const D=getDocument(x.target),A=this.listeners.bind(D,[{type:"pointermove",listener:k=>this.handlePointerMove(k,$)},{type:"pointerup",listener:this.handlePointerUp,options:{capture:!0}},{type:"dragstart",listener:j?this.handleCancel:preventDefault,options:{capture:!0}}]),R=()=>{var k;A(),(k=__privateGet$2(this,_clearTimeout))==null||k.call(this),this.initialCoordinates=void 0};__privateGet$2(this,_cleanup).add(R)}handlePointerMove(x,$){const S={x:x.clientX,y:x.clientY},I=getFrameTransform($.element);if(S.x=S.x*I.scaleX+I.x,S.y=S.y*I.scaleY+I.y,this.manager.dragOperation.status.dragging){x.preventDefault(),x.stopPropagation(),this.latest.event=x,this.latest.coordinates=S,scheduler.schedule(this.handleMove);return}if(!this.initialCoordinates)return;const j={x:S.x-this.initialCoordinates.x,y:S.y-this.initialCoordinates.y},P=this.activationConstraints(x,$),{distance:C,delay:D}=P??{};if(C){if(C.tolerance!=null&&exceedsDistance(j,C.tolerance))return this.handleCancel(x);if(exceedsDistance(j,C.value))return this.handleStart($,x)}if(D&&exceedsDistance(j,D.tolerance))return this.handleCancel(x)}handlePointerUp(x){const{status:$}=this.manager.dragOperation;if(!$.idle){x.preventDefault(),x.stopPropagation();const S=!$.initialized;this.manager.actions.stop({event:x,canceled:S})}this.cleanup()}handleKeyDown(x){x.key==="Escape"&&(x.preventDefault(),this.handleCancel(x))}handleStart(x,$){var S;const{manager:I,initialCoordinates:j}=this;if((S=__privateGet$2(this,_clearTimeout))==null||S.call(this),!j||!I.dragOperation.status.idle||$.defaultPrevented)return;if(I.actions.start({coordinates:j,event:$,source:x}).signal.aborted)return this.cleanup();$.preventDefault();const C=getDocument($.target),D=C.body;D.setPointerCapture($.pointerId);const A=this.listeners.bind(C,[{type:"touchmove",listener:preventDefault,options:{passive:!1}},{type:"click",listener:preventDefault},{type:"contextmenu",listener:preventDefault},{type:"keydown",listener:this.handleKeyDown},{type:"lostpointercapture",listener:R=>{R.target===D&&this.handlePointerUp(R)}}]);__privateGet$2(this,_cleanup).add(A)}handleCancel(x){const{dragOperation:$}=this.manager;$.status.initialized&&this.manager.actions.stop({event:x,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},__privateGet$2(this,_cleanup).forEach(x=>x()),__privateGet$2(this,_cleanup).clear()}destroy(){this.cleanup(),this.listeners.clear()}};_cleanup=new WeakMap;_clearTimeout=new WeakMap;_PointerSensor.configure=configurator(_PointerSensor);_PointerSensor.defaults=defaults2;var PointerSensor=_PointerSensor;function isCapturedBySensor(m){return"sensor"in m}function preventDefault(m){m.preventDefault()}function noop(){}var windows=new WeakSet;function patchWindow(m){!m||windows.has(m)||(m.addEventListener("touchmove",noop,{capture:!1,passive:!1}),windows.add(m))}var defaultPreset={modifiers:[],plugins:[Accessibility,AutoScroller,Cursor,Feedback,PreventSelection],sensors:[PointerSensor,KeyboardSensor]},DragDropManager=class extends DragDropManager$1{constructor(m={}){const{plugins:x=defaultPreset.plugins,sensors:$=defaultPreset.sensors,modifiers:S=[]}=m;super(__spreadProps$3(__spreadValues$3({},m),{plugins:[ScrollListener,Scroller,...x],sensors:$,modifiers:S}))}},_feedback_dec,_element_dec,_handle_dec,_c,_init4,_handle,_element$1,_feedback,Draggable=class extends(_c=Draggable$1,_handle_dec=[reactive],_element_dec=[reactive],_feedback_dec=[reactive],_c){constructor(m,x){var $=m,{element:S,effects:I=()=>[],handle:j,feedback:P="default"}=$,C=__objRest$2($,["element","effects","handle","feedback"]);super(__spreadValues$3({effects:()=>[...I(),()=>{var D,A;const{manager:R}=this;if(!R)return;const O=((A=(D=this.sensors)==null?void 0:D.map(descriptor))!=null?A:[...R.sensors]).map(N=>{const V=N instanceof Sensor?N:R.registry.register(N.plugin),U=N instanceof Sensor?void 0:N.options;return V.bind(this,U)});return function(){O.forEach(V=>V())}}]},C),x),__privateAdd$2(this,_handle,__runInitializers$2(_init4,8,this)),__runInitializers$2(_init4,11,this),__privateAdd$2(this,_element$1,__runInitializers$2(_init4,12,this)),__runInitializers$2(_init4,15,this),__privateAdd$2(this,_feedback,__runInitializers$2(_init4,16,this)),__runInitializers$2(_init4,19,this),this.element=S,this.handle=j,this.feedback=P}};_init4=__decoratorStart$2(_c);_handle=new WeakMap;_element$1=new WeakMap;_feedback=new WeakMap;__decorateElement$2(_init4,4,"handle",_handle_dec,Draggable,_handle);__decorateElement$2(_init4,4,"element",_element_dec,Draggable,_element$1);__decorateElement$2(_init4,4,"feedback",_feedback_dec,Draggable,_feedback);__decoratorMetadata$2(_init4,Draggable);var _proxy_dec,_element_dec2,_c2,_init5,_element2,_d,element_get,element_set,_Droppable_instances,_proxy,Droppable=class extends(_c2=Droppable$1,_element_dec2=[reactive],_proxy_dec=[reactive],_c2){constructor(m,x){var $=m,{element:S,effects:I=()=>[]}=$,j=__objRest$2($,["element","effects"]);const{collisionDetector:P=defaultCollisionDetection$1}=j,C=A=>{const{manager:R,element:k}=this;if(!k||A===null){this.shape=void 0;return}if(!R)return;const O=new DOMRectangle(k),N=n(()=>this.shape);return O&&(N!=null&&N.equals(O))?N:(this.shape=O,O)},D=d(!1);super(__spreadProps$3(__spreadValues$3({},j),{collisionDetector:P,effects:()=>[...I(),()=>{const{element:A,manager:R}=this;if(!R)return;const{dragOperation:k}=R,{source:O}=k;D.value=!!(O&&k.status.initialized&&A&&!this.disabled&&this.accepts(O))},()=>{const{element:A}=this;if(D.value&&A){const R=new FrameObserver(A,C);return()=>{R.disconnect(),this.shape=void 0}}},()=>{var A;if((A=this.manager)!=null&&A.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),x),__privateAdd$2(this,_Droppable_instances),__privateAdd$2(this,_element2,__runInitializers$2(_init5,8,this)),__runInitializers$2(_init5,11,this),__privateAdd$2(this,_proxy,__runInitializers$2(_init5,12,this)),__runInitializers$2(_init5,15,this),this.element=S,this.refreshShape=()=>C()}set element(m){__privateSet$2(this,_Droppable_instances,m,element_set)}get element(){var m;return(m=this.proxy)!=null?m:__privateGet$2(this,_Droppable_instances,element_get)}};_init5=__decoratorStart$2(_c2);_element2=new WeakMap;_Droppable_instances=new WeakSet;_proxy=new WeakMap;_d=__decorateElement$2(_init5,20,"#element",_element_dec2,_Droppable_instances,_element2),element_get=_d.get,element_set=_d.set;__decorateElement$2(_init5,4,"proxy",_proxy_dec,Droppable,_proxy);__decoratorMetadata$2(_init5,Droppable);function isRef(m){return m!=null&&typeof m=="object"&&"current"in m}function currentValue(m){var x;if(m!=null)return isRef(m)?(x=m.current)!=null?x:void 0:m}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useForceUpdate(){const m=reactExports.useState(0)[1];return reactExports.useCallback(()=>{m(x=>x+1)},[m])}function useDeepSignal(m,x){const $=reactExports.useRef(new Map),S=useForceUpdate();return useIsomorphicLayoutEffect(()=>{if(!m){$.current.clear();return}return E(()=>{var I;let j=!1,P=!1;for(const C of $.current){const[D]=C,A=n(()=>C[1]),R=m[D];A!==R&&(j=!0,$.current.set(D,R),P=(I=x==null?void 0:x(D,A,R))!=null?I:!1)}j&&(P?reactDomExports.flushSync(S):S())})},[m]),reactExports.useMemo(()=>m&&new Proxy(m,{get(I,j){const P=I[j];return $.current.set(j,P),P}}),[m])}function useImmediateEffect(m,x){m()}function useLatest(m){const x=reactExports.useRef(m);return useIsomorphicLayoutEffect(()=>{x.current=m},[m]),x}function useOnValueChange(m,x,$=reactExports.useEffect,S=Object.is){const I=reactExports.useRef(m);$(()=>{const j=I.current;S(m,j)||(I.current=m,x(m,j))},[x,m])}function useOnElementChange(m,x){const $=reactExports.useRef(currentValue(m));useIsomorphicLayoutEffect(()=>{const S=currentValue(m);S!==$.current&&($.current=S,x(S))})}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(m,x,$)=>x in m?__defProp$2(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$2=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$2.call(x,$)&&__defNormalProp$2(m,$,x[$]);if(__getOwnPropSymbols$2)for(var $ of __getOwnPropSymbols$2(x))__propIsEnum$2.call(x,$)&&__defNormalProp$2(m,$,x[$]);return m},__spreadProps$2=(m,x)=>__defProps$2(m,__getOwnPropDescs$2(x)),__objRest$1=(m,x)=>{var $={};for(var S in m)__hasOwnProp$2.call(m,S)&&x.indexOf(S)<0&&($[S]=m[S]);if(m!=null&&__getOwnPropSymbols$2)for(var S of __getOwnPropSymbols$2(m))x.indexOf(S)<0&&__propIsEnum$2.call(m,S)&&($[S]=m[S]);return $},defaultManager=new DragDropManager,DragDropContext$1=reactExports.createContext(defaultManager),Renderer=reactExports.memo(reactExports.forwardRef(({children:m},x)=>{const[$,S]=reactExports.useState(0),I=reactExports.useRef(null),j=reactExports.useRef(null),P=reactExports.useMemo(()=>({renderer:{get rendering(){var C;return(C=I.current)!=null?C:Promise.resolve()}},trackRendering(C){I.current||(I.current=new Promise(D=>{j.current=D})),reactExports.startTransition(()=>{C(),S(D=>D+1)})}}),[]);return useIsomorphicLayoutEffect(()=>{var C;(C=j.current)==null||C.call(j),I.current=null},[m,$]),reactExports.useImperativeHandle(x,()=>P),null})),options=[void 0,deepEqual];function DragDropProvider(m){var x=m,{children:$,onCollision:S,onBeforeDragStart:I,onDragStart:j,onDragMove:P,onDragOver:C,onDragEnd:D}=x,A=__objRest$1(x,["children","onCollision","onBeforeDragStart","onDragStart","onDragMove","onDragOver","onDragEnd"]),R;const k=reactExports.useRef(null),[O,N]=reactExports.useState((R=A.manager)!=null?R:null),{plugins:V,modifiers:U,sensors:H}=A,Z=useLatest(I),F=useLatest(j),L=useLatest(C),z=useLatest(P),G=useLatest(D),q=useLatest(S);return reactExports.useEffect(()=>{var X;if(!k.current)throw new Error("Renderer not found");const{renderer:M,trackRendering:W}=k.current,T=(X=A.manager)!=null?X:new DragDropManager(A);return T.renderer=M,T.monitor.addEventListener("beforedragstart",K=>{const J=Z.current;J&&W(()=>J(K,T))}),T.monitor.addEventListener("dragstart",K=>{var J;return(J=F.current)==null?void 0:J.call(F,K,T)}),T.monitor.addEventListener("dragover",K=>{const J=L.current;J&&W(()=>J(K,T))}),T.monitor.addEventListener("dragmove",K=>{const J=z.current;J&&W(()=>J(K,T))}),T.monitor.addEventListener("dragend",K=>{const J=G.current;J&&W(()=>J(K,T))}),T.monitor.addEventListener("collision",K=>{var J;return(J=q.current)==null?void 0:J.call(q,K,T)}),reactExports.startTransition(()=>N(T)),T.destroy},[A.manager]),useOnValueChange(V,()=>O&&(O.plugins=V??defaultPreset.plugins),...options),useOnValueChange(H,()=>O&&(O.sensors=H??defaultPreset.sensors),...options),useOnValueChange(U,()=>O&&(O.modifiers=U??defaultPreset.modifiers),...options),jsxRuntimeExports.jsxs(DragDropContext$1.Provider,{value:O,children:[jsxRuntimeExports.jsx(Renderer,{ref:k,children:$}),$]})}function useDragDropManager(){return reactExports.useContext(DragDropContext$1)}function useInstance(m){var x;const $=(x=useDragDropManager())!=null?x:void 0,[S]=reactExports.useState(()=>m($));return S.manager!==$&&(S.manager=$),useIsomorphicLayoutEffect(S.register,[$,S]),S}function useDraggable(m){const{disabled:x,data:$,element:S,handle:I,id:j,modifiers:P,sensors:C}=m,D=useInstance(R=>new Draggable(__spreadProps$2(__spreadValues$2({},m),{register:!1,handle:currentValue(I),element:currentValue(S)}),R)),A=useDeepSignal(D,shouldUpdateSynchronously$1);return useOnValueChange(j,()=>D.id=j),useOnElementChange(I,R=>D.handle=R),useOnElementChange(S,R=>D.element=R),useOnValueChange($,()=>$&&(D.data=$)),useOnValueChange(x,()=>D.disabled=x===!0),useOnValueChange(C,()=>D.sensors=C),useOnValueChange(P,()=>D.modifiers=P,void 0,deepEqual),useOnValueChange(m.feedback,()=>{var R;return D.feedback=(R=m.feedback)!=null?R:"default"}),useOnValueChange(m.alignment,()=>D.alignment=m.alignment),{draggable:A,get isDragging(){return A.isDragging},get isDropping(){return A.isDropping},get isDragSource(){return A.isDragSource},handleRef:reactExports.useCallback(R=>{D.handle=R??void 0},[D]),ref:reactExports.useCallback(R=>{var k,O;!R&&((k=D.element)!=null&&k.isConnected)&&!((O=D.manager)!=null&&O.dragOperation.status.idle)||(D.element=R??void 0)},[D])}}function shouldUpdateSynchronously$1(m,x,$){return!!(m==="isDragSource"&&!$&&x)}var __create$1=Object.create,__defProp2$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__knownSymbol$1=(m,x)=>(x=Symbol[m])?x:Symbol.for("Symbol."+m),__typeError$1=m=>{throw TypeError(m)},__defNormalProp2$1=(m,x,$)=>x in m?__defProp2$1(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__decoratorStart$1=m=>{var x;return[,,,__create$1((x=m==null?void 0:m[__knownSymbol$1("metadata")])!=null?x:null)]},__decoratorStrings$1=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn$1=m=>m!==void 0&&typeof m!="function"?__typeError$1("Function expected"):m,__decoratorContext$1=(m,x,$,S,I)=>({kind:__decoratorStrings$1[m],name:x,metadata:S,addInitializer:j=>$._?__typeError$1("Already initialized"):I.push(__expectFn$1(j||null))}),__decoratorMetadata$1=(m,x)=>__defNormalProp2$1(x,__knownSymbol$1("metadata"),m[3]),__runInitializers$1=(m,x,$,S)=>{for(var I=0,j=m[x>>1],P=j&&j.length;I<P;I++)j[I].call($);return S},__decorateElement$1=(m,x,$,S,I,j)=>{for(var P,C,D,A,R=x&7,k=!1,O=!1,N=2,V=__decoratorStrings$1[R+5],U=m[N]||(m[N]=[]),H=(I=I.prototype,__getOwnPropDesc$1(I,$)),Z=S.length-1;Z>=0;Z--)D=__decoratorContext$1(R,$,C={},m[3],U),D.static=k,D.private=O,A=D.access={has:F=>$ in F},A.get=F=>F[$],P=(0,S[Z])(H[V],D),C._=1,__expectFn$1(P)&&(H[V]=P);return H&&__defProp2$1(I,$,H),I},__accessCheck$1=(m,x,$)=>x.has(m)||__typeError$1("Cannot "+$),__privateGet$1=(m,x,$)=>(__accessCheck$1(m,x,"read from private field"),x.get(m)),__privateAdd$1=(m,x,$)=>x.has(m)?__typeError$1("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet$1=(m,x,$,S)=>(__accessCheck$1(m,x,"write to private field"),x.set(m,$),$),Point=class Ue{constructor(x,$){this.x=x,this.y=$}static delta(x,$){return new Ue(x.x-$.x,x.y-$.y)}static distance(x,$){return Math.hypot(x.x-$.x,x.y-$.y)}static equals(x,$){return x.x===$.x&&x.y===$.y}static from({x,y:$}){return new Ue(x,$)}},_direction_dec,_delta_dec,_a,_timestamp,_init$1,Position=class extends(_a=ValueHistory,_delta_dec=[derived],_direction_dec=[derived],_a){constructor(m){const x=Point.from(m);super(x,($,S)=>Point.equals($,S)),__runInitializers$1(_init$1,5,this),__privateAdd$1(this,_timestamp,0),this.velocity={x:0,y:0}}get delta(){return Point.delta(this.current,this.initial)}get direction(){const{current:m,previous:x}=this;if(!x)return null;const $={x:m.x-x.x,y:m.y-x.y};return!$.x&&!$.y?null:Math.abs($.x)>Math.abs($.y)?$.x>0?"right":"left":$.y>0?"down":"up"}get current(){return super.current}set current(m){const{current:x}=this,$=Point.from(m),S={x:$.x-x.x,y:$.y-x.y},I=Date.now(),j=I-__privateGet$1(this,_timestamp),P=C=>Math.round(C/j*100);r(()=>{__privateSet$1(this,_timestamp,I),this.velocity={x:P(S.x),y:P(S.y)},super.current=$})}reset(m=this.defaultValue){super.reset(Point.from(m)),this.velocity={x:0,y:0}}};_init$1=__decoratorStart$1(_a);_timestamp=new WeakMap;__decorateElement$1(_init$1,2,"delta",_delta_dec,Position);__decorateElement$1(_init$1,2,"direction",_direction_dec,Position);__decoratorMetadata$1(_init$1,Position);var Axis=(m=>(m.Horizontal="x",m.Vertical="y",m))(Axis||{});Object.values(Axis);var pointerIntersection$1=({dragOperation:m,droppable:x})=>{const $=m.position.current;if(!$)return null;const{id:S}=x;if(!x.shape)return null;if(x.shape.containsPoint($)){const I=Point.distance(x.shape.center,$);return{id:S,value:1/I,type:CollisionType.PointerIntersection,priority:CollisionPriority.High}}return null},shapeIntersection=({dragOperation:m,droppable:x})=>{const{shape:$}=m;if(!x.shape||!($!=null&&$.current))return null;const S=$.current.intersectionArea(x.shape);if(S){const{position:I}=m,j=Point.distance(x.shape.center,I.current),C=S/($.current.area+x.shape.area-S)/j;return{id:x.id,value:C,type:CollisionType.ShapeIntersection,priority:CollisionPriority.Normal}}return null},defaultCollisionDetection=m=>{var x;return(x=pointerIntersection$1(m))!=null?x:shapeIntersection(m)};function useDroppable(m){const{collisionDetector:x,data:$,disabled:S,element:I,id:j,accept:P,type:C}=m,D=useInstance(R=>new Droppable(__spreadProps$2(__spreadValues$2({},m),{register:!1,element:currentValue(I)}),R)),A=useDeepSignal(D);return useOnValueChange(j,()=>D.id=j),useOnElementChange(I,R=>D.element=R),useOnValueChange(P,()=>D.accept=P,void 0,deepEqual),useOnValueChange(x,()=>D.collisionDetector=x??defaultCollisionDetection),useOnValueChange($,()=>$&&(D.data=$)),useOnValueChange(S,()=>D.disabled=S===!0),useOnValueChange(C,()=>D.type=C),{droppable:A,get isDropTarget(){return A.isDropTarget},ref:reactExports.useCallback(R=>{var k,O;!R&&((k=D.element)!=null&&k.isConnected)&&!((O=D.manager)!=null&&O.dragOperation.status.idle)||(D.element=R??void 0)},[D])}}var __create=Object.create,__defProp$1=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__knownSymbol=(m,x)=>(x=Symbol[m])?x:Symbol.for("Symbol."+m),__typeError=m=>{throw TypeError(m)},__defNormalProp$1=(m,x,$)=>x in m?__defProp$1(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues$1=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp$1.call(x,$)&&__defNormalProp$1(m,$,x[$]);if(__getOwnPropSymbols$1)for(var $ of __getOwnPropSymbols$1(x))__propIsEnum$1.call(x,$)&&__defNormalProp$1(m,$,x[$]);return m},__spreadProps$1=(m,x)=>__defProps$1(m,__getOwnPropDescs$1(x)),__objRest=(m,x)=>{var $={};for(var S in m)__hasOwnProp$1.call(m,S)&&x.indexOf(S)<0&&($[S]=m[S]);if(m!=null&&__getOwnPropSymbols$1)for(var S of __getOwnPropSymbols$1(m))x.indexOf(S)<0&&__propIsEnum$1.call(m,S)&&($[S]=m[S]);return $},__decoratorStart=m=>{var x;return[,,,__create((x=void 0)!=null?x:null)]},__decoratorStrings=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn=m=>m!==void 0&&typeof m!="function"?__typeError("Function expected"):m,__decoratorContext=(m,x,$,S,I)=>({kind:__decoratorStrings[m],name:x,metadata:S,addInitializer:j=>$._?__typeError("Already initialized"):I.push(__expectFn(j||null))}),__decoratorMetadata=(m,x)=>__defNormalProp$1(x,__knownSymbol("metadata"),m[3]),__runInitializers=(m,x,$,S)=>{for(var I=0,j=m[x>>1],P=j&&j.length;I<P;I++)x&1?j[I].call($):S=j[I].call($,S);return S},__decorateElement=(m,x,$,S,I,j)=>{for(var P,C,D,A,R,k=x&7,O=!1,N=!1,V=m.length+1,U=__decoratorStrings[k+5],H=m[V-1]=[],Z=m[V]||(m[V]=[]),F=(I=I.prototype,__getOwnPropDesc({get[$](){return __privateGet(this,j)},set[$](z){return __privateSet(this,j,z)}},$)),L=S.length-1;L>=0;L--)A=__decoratorContext(k,$,D={},m[3],Z),A.static=O,A.private=N,R=A.access={has:z=>$ in z},R.get=z=>z[$],R.set=(z,G)=>z[$]=G,C=(0,S[L])({get:F.get,set:F.set},A),D._=1,C===void 0?__expectFn(C)&&(F[U]=C):typeof C!="object"||C===null?__typeError("Object expected"):(__expectFn(P=C.get)&&(F.get=P),__expectFn(P=C.set)&&(F.set=P),__expectFn(P=C.init)&&H.unshift(P));return F&&__defProp$1(I,$,F),I},__accessCheck=(m,x,$)=>x.has(m)||__typeError("Cannot "+$),__privateGet=(m,x,$)=>(__accessCheck(m,x,"read from private field"),x.get(m)),__privateAdd=(m,x,$)=>x.has(m)?__typeError("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(m):x.set(m,$),__privateSet=(m,x,$,S)=>(__accessCheck(m,x,"write to private field"),x.set(m,$),$);function isSortable(m){return m instanceof SortableDroppable||m instanceof SortableDraggable}var TOLERANCE=10,SortableKeyboardPlugin=class extends Plugin{constructor(m){super(m);const x=E(()=>{const{dragOperation:S}=m;if(isKeyboardEvent(S.activatorEvent)&&isSortable(S.source)&&S.status.initialized){const I=m.registry.plugins.get(Scroller);if(I)return I.disable(),()=>I.enable()}}),$=m.monitor.addEventListener("dragmove",(S,I)=>{queueMicrotask(()=>{if(this.disabled||S.defaultPrevented||!S.nativeEvent)return;const{dragOperation:j}=I;if(!isKeyboardEvent(S.nativeEvent)||!isSortable(j.source)||!j.shape)return;const{actions:P,collisionObserver:C,registry:D}=I,{by:A}=S;if(!A)return;const R=getDirection$1(A),{source:k,target:O}=j,{center:N}=j.shape.current,V=[],U=[];r(()=>{for(const G of D.droppables){const{id:q}=G;if(!G.accepts(k)||q===(O==null?void 0:O.id)&&isSortable(G)||!G.element)continue;let X=G.shape;const M=new DOMRectangle(G.element,{getBoundingClientRect:W=>getVisibleBoundingRectangle(W,void 0,.2)});!M.height||!M.width||(R=="down"&&N.y+TOLERANCE<M.center.y||R=="up"&&N.y-TOLERANCE>M.center.y||R=="left"&&N.x-TOLERANCE>M.center.x||R=="right"&&N.x+TOLERANCE<M.center.x)&&(V.push(G),G.shape=M,U.push(()=>G.shape=X))}}),S.preventDefault(),C.disable();const H=C.computeCollisions(V,closestCorners$1);r(()=>U.forEach(G=>G()));const[Z]=H;if(!Z)return;const{id:F}=Z,{index:L,group:z}=k.sortable;P.setDropTarget(F).then(()=>{const{source:G,target:q,shape:X}=j;if(!G||!isSortable(G)||!X)return;const{index:M,group:W,target:T}=G.sortable,K=L!==M||z!==W,J=K?T:q==null?void 0:q.element;if(!J)return;scrollIntoViewIfNeeded(J);const ne=new DOMRectangle(J);if(!ne)return;const re=Rectangle.delta(ne,Rectangle.from(X.current.boundingRectangle),G.alignment);P.move({by:re}),K?P.setDropTarget(G.id).then(()=>C.enable()):C.enable()})})});this.destroy=()=>{$(),x()}}};function getDirection$1(m){const{x,y:$}=m;if(x>0)return"right";if(x<0)return"left";if($>0)return"down";if($<0)return"up"}var __defProp2=Object.defineProperty,__defProps2=Object.defineProperties,__getOwnPropDescs2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp2=(m,x,$)=>x in m?__defProp2(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues2=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp2.call(x,$)&&__defNormalProp2(m,$,x[$]);if(__getOwnPropSymbols2)for(var $ of __getOwnPropSymbols2(x))__propIsEnum2.call(x,$)&&__defNormalProp2(m,$,x[$]);return m},__spreadProps2=(m,x)=>__defProps2(m,__getOwnPropDescs2(x));function arrayMove(m,x,$){if(x===$)return m;const S=m.slice();return S.splice($,0,S.splice(x,1)[0]),S}function mutate(m,x,$){var S,I;const{source:j,target:P,canceled:C}=x.operation;if(!j||!P||C)return"preventDefault"in x&&x.preventDefault(),m;const D=(L,z)=>L===z||typeof L=="object"&&"id"in L&&L.id===z;if(Array.isArray(m)){const L=m.findIndex(G=>D(G,j.id)),z=m.findIndex(G=>D(G,P.id));if(L===-1||z===-1)return m;if(!C&&"index"in j&&typeof j.index=="number"){const G=j.index;if(G!==L)return $(m,L,G)}return $(m,L,z)}const A=Object.entries(m);let R=-1,k,O=-1,N;for(const[L,z]of A)if(R===-1&&(R=z.findIndex(G=>D(G,j.id)),R!==-1&&(k=L)),O===-1&&(O=z.findIndex(G=>D(G,P.id)),O!==-1&&(N=L)),R!==-1&&O!==-1)break;if(!j.manager)return m;const{dragOperation:V}=j.manager,U=(I=(S=V.shape)==null?void 0:S.current.center)!=null?I:V.position.current;if(N==null&&P.id in m){const L=P.shape&&U.y>P.shape.center.y?m[P.id].length:0;N=P.id,O=L}if(k==null||N==null||k===N&&R===O)return"preventDefault"in x&&x.preventDefault(),m;if(k===N)return __spreadProps2(__spreadValues2({},m),{[k]:$(m[k],R,O)});const Z=P.shape&&Math.round(U.y)>Math.round(P.shape.center.y)?1:0,F=m[k][R];return __spreadProps2(__spreadValues2({},m),{[k]:[...m[k].slice(0,R),...m[k].slice(R+1)],[N]:[...m[N].slice(0,O+Z),F,...m[N].slice(O+Z)]})}function move(m,x){return mutate(m,x,arrayMove)}var defaultGroup="__default__",OptimisticSortingPlugin=class extends Plugin{constructor(m){super(m);const x=()=>{const S=new Map;for(const I of m.registry.droppables)if(I instanceof SortableDroppable){const{sortable:j}=I,{group:P}=j;let C=S.get(P);C||(C=new Set,S.set(P,C)),C.add(j)}for(const[I,j]of S)S.set(I,new Set(sort(j)));return S},$=[m.monitor.addEventListener("dragover",(S,I)=>{if(this.disabled)return;const{dragOperation:j}=I,{source:P,target:C}=j;if(!isSortable(P)||!isSortable(C)||P.sortable===C.sortable)return;const D=x(),A=P.sortable.group===C.sortable.group,R=D.get(P.sortable.group),k=A?R:D.get(C.sortable.group);!R||!k||queueMicrotask(()=>{S.defaultPrevented||I.renderer.rendering.then(()=>{var O,N,V;const U=x();for(const[T,K]of D.entries()){const J=Array.from(K).entries();for(const[ne,re]of J)if(re.index!==ne||re.group!==T||!((O=U.get(T))!=null&&O.has(re)))return}const H=P.sortable.element,Z=C.sortable.element;if(!Z||!H||!A&&C.id===P.sortable.group)return;const F=sort(R),L=A?F:sort(k),z=(N=P.sortable.group)!=null?N:defaultGroup,G=(V=C.sortable.group)!=null?V:defaultGroup,q={[z]:F,[G]:L},X=move(q,S);if(q===X)return;const M=X[G].indexOf(P.sortable),W=X[G].indexOf(C.sortable);I.collisionObserver.disable(),reorder$1(H,M,Z,W),r(()=>{for(const[T,K]of X[z].entries())K.index=T;if(!A)for(const[T,K]of X[G].entries())K.group=C.sortable.group,K.index=T}),I.actions.setDropTarget(P.id).then(()=>I.collisionObserver.enable())})})}),m.monitor.addEventListener("dragend",(S,I)=>{if(!S.canceled)return;const{dragOperation:j}=I,{source:P}=j;isSortable(P)&&(P.sortable.initialIndex===P.sortable.index&&P.sortable.initialGroup===P.sortable.group||queueMicrotask(()=>{const C=x(),D=C.get(P.sortable.initialGroup);D&&I.renderer.rendering.then(()=>{for(const[N,V]of C.entries()){const U=Array.from(V).entries();for(const[H,Z]of U)if(Z.index!==H||Z.group!==N)return}const A=sort(D),R=P.sortable.element,k=A[P.sortable.initialIndex],O=k==null?void 0:k.element;!k||!O||!R||(reorder$1(R,k.index,O,P.index),r(()=>{for(const[N,V]of C.entries()){const U=Array.from(V).values();for(const H of U)H.index=H.initialIndex,H.group=H.initialGroup}}))})}))})];this.destroy=()=>{for(const S of $)S()}}};function reorder$1(m,x,$,S){const I=S<x?"afterend":"beforebegin";$.insertAdjacentElement(I,m)}function sortByIndex(m,x){return m.index-x.index}function sort(m){return Array.from(m).sort(sortByIndex)}var defaultPlugins=[SortableKeyboardPlugin,OptimisticSortingPlugin],defaultSortableTransition={duration:250,easing:"cubic-bezier(0.25, 1, 0.5, 1)",idle:!1},store=new WeakStore,_group_dec,_index_dec,_init,_index,_previousGroup,_previousIndex,_group,_element;_index_dec=[reactive],_group_dec=[reactive];var Sortable2=class{constructor(m,x){__privateAdd(this,_index,__runInitializers(_init,8,this)),__runInitializers(_init,11,this),__privateAdd(this,_previousGroup),__privateAdd(this,_previousIndex),__privateAdd(this,_group,__runInitializers(_init,12,this)),__runInitializers(_init,15,this),__privateAdd(this,_element),this.register=()=>(r(()=>{var k,O;(k=this.manager)==null||k.registry.register(this.droppable),(O=this.manager)==null||O.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{r(()=>{var k,O;(k=this.manager)==null||k.registry.unregister(this.droppable),(O=this.manager)==null||O.registry.unregister(this.draggable)})},this.destroy=()=>{r(()=>{this.droppable.destroy(),this.draggable.destroy()})};var $=m,{effects:S=()=>[],group:I,index:j,sensors:P,type:C,transition:D=defaultSortableTransition,plugins:A=defaultPlugins}=$,R=__objRest($,["effects","group","index","sensors","type","transition","plugins"]);this.droppable=new SortableDroppable(R,x,this),this.draggable=new SortableDraggable(__spreadProps$1(__spreadValues$1({},R),{effects:()=>[()=>{var k,O,N;const V=(k=this.manager)==null?void 0:k.dragOperation.status;V!=null&&V.initializing&&this.id===((N=(O=this.manager)==null?void 0:O.dragOperation.source)==null?void 0:N.id)&&store.clear(this.manager),V!=null&&V.dragging&&store.set(this.manager,this.id,n(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{const{index:k,group:O,manager:N}=this,V=__privateGet(this,_previousIndex),U=__privateGet(this,_previousGroup);(k!==V||O!==U)&&(__privateSet(this,_previousIndex,k),__privateSet(this,_previousGroup,O),this.animate())},()=>{const{target:k}=this,{feedback:O,isDragSource:N}=this.draggable;O=="move"&&N&&(this.droppable.disabled=!k)},()=>{const{manager:k}=this;for(const O of A)k==null||k.registry.register(O)},...S()],type:C,sensors:P}),x,this),__privateSet(this,_element,R.element),this.manager=x,this.index=j,__privateSet(this,_previousIndex,j),this.group=I,__privateSet(this,_previousGroup,I),this.type=C,this.transition=D}get initialIndex(){var m,x;return(x=(m=store.get(this.manager,this.id))==null?void 0:m.initialIndex)!=null?x:this.index}get initialGroup(){var m,x;return(x=(m=store.get(this.manager,this.id))==null?void 0:m.initialGroup)!=null?x:this.group}animate(){n(()=>{const{manager:m,transition:x}=this,{shape:$}=this.droppable;if(!m)return;const{idle:S}=m.dragOperation.status;!$||!x||S&&!x.idle||m.renderer.rendering.then(()=>{const{element:I}=this;if(!I)return;const j=this.refreshShape();if(!j)return;const P={x:$.boundingRectangle.left-j.boundingRectangle.left,y:$.boundingRectangle.top-j.boundingRectangle.top},{translate:C}=getComputedStyles(I),D=computeTranslate(I,C,!1),A=computeTranslate(I,C);(P.x||P.y)&&animateTransform({element:I,keyframes:{translate:[`${D.x+P.x}px ${D.y+P.y}px ${D.z}`,`${A.x}px ${A.y}px ${A.z}`]},options:x}).then(()=>{m.dragOperation.status.dragging||(this.droppable.shape=void 0)})})})}get manager(){return this.draggable.manager}set manager(m){r(()=>{this.draggable.manager=m,this.droppable.manager=m})}set element(m){r(()=>{const x=__privateGet(this,_element),$=this.droppable.element,S=this.draggable.element;(!$||$===x)&&(this.droppable.element=m),(!S||S===x)&&(this.draggable.element=m),__privateSet(this,_element,m)})}get element(){var m,x;const $=__privateGet(this,_element);if($)return(x=(m=ProxiedElements.get($))!=null?m:$)!=null?x:this.droppable.element}set target(m){this.droppable.element=m}get target(){return this.droppable.element}set source(m){this.draggable.element=m}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(m){this.draggable.feedback=m}set disabled(m){r(()=>{this.droppable.disabled=m,this.draggable.disabled=m})}set data(m){r(()=>{this.droppable.data=m,this.draggable.data=m})}set handle(m){this.draggable.handle=m}set id(m){r(()=>{this.droppable.id=m,this.draggable.id=m})}get id(){return this.droppable.id}set sensors(m){this.draggable.sensors=m}set modifiers(m){this.draggable.modifiers=m}set collisionPriority(m){this.droppable.collisionPriority=m}set collisionDetector(m){this.droppable.collisionDetector=m??defaultCollisionDetection$1}set alignment(m){this.draggable.alignment=m}get alignment(){return this.draggable.alignment}set type(m){r(()=>{this.droppable.type=m,this.draggable.type=m})}get type(){return this.draggable.type}set accept(m){this.droppable.accept=m}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(m){return this.droppable.accepts(m)}};_init=__decoratorStart();_index=new WeakMap;_previousGroup=new WeakMap;_previousIndex=new WeakMap;_group=new WeakMap;_element=new WeakMap;__decorateElement(_init,4,"index",_index_dec,Sortable2,_index);__decorateElement(_init,4,"group",_group_dec,Sortable2,_group);__decoratorMetadata(_init,Sortable2);var SortableDraggable=class extends Draggable{constructor(m,x,$){super(m,x),this.sortable=$}get index(){return this.sortable.index}},SortableDroppable=class extends Droppable{constructor(m,x,$){super(m,x),this.sortable=$}},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(m,x,$)=>x in m?__defProp(m,x,{enumerable:!0,configurable:!0,writable:!0,value:$}):m[x]=$,__spreadValues=(m,x)=>{for(var $ in x||(x={}))__hasOwnProp.call(x,$)&&__defNormalProp(m,$,x[$]);if(__getOwnPropSymbols)for(var $ of __getOwnPropSymbols(x))__propIsEnum.call(x,$)&&__defNormalProp(m,$,x[$]);return m},__spreadProps=(m,x)=>__defProps(m,__getOwnPropDescs(x));function useSortable(m){const{accept:x,collisionDetector:$,collisionPriority:S,id:I,data:j,element:P,handle:C,index:D,group:A,disabled:R,feedback:k,modifiers:O,sensors:N,target:V,type:U}=m,H=__spreadValues(__spreadValues({},defaultSortableTransition),m.transition),Z=useInstance(L=>new Sortable2(__spreadProps(__spreadValues({},m),{transition:H,register:!1,handle:currentValue(C),element:currentValue(P),target:currentValue(V),feedback:k}),L)),F=useDeepSignal(Z,shouldUpdateSynchronously);return useOnValueChange(I,()=>Z.id=I),useIsomorphicLayoutEffect(()=>{r(()=>{Z.group=A,Z.index=D})},[Z,A,D]),useOnValueChange(U,()=>Z.type=U),useOnValueChange(x,()=>Z.accept=x,void 0,deepEqual),useOnValueChange(j,()=>j&&(Z.data=j)),useOnValueChange(D,()=>{var L;(L=Z.manager)!=null&&L.dragOperation.status.idle&&(H!=null&&H.idle)&&Z.refreshShape()},useImmediateEffect),useOnElementChange(C,L=>Z.handle=L),useOnElementChange(P,L=>Z.element=L),useOnElementChange(V,L=>Z.target=L),useOnValueChange(R,()=>Z.disabled=R===!0),useOnValueChange(N,()=>Z.sensors=N),useOnValueChange($,()=>Z.collisionDetector=$),useOnValueChange(S,()=>Z.collisionPriority=S),useOnValueChange(k,()=>Z.feedback=k??"default"),useOnValueChange(H,()=>Z.transition=H,void 0,deepEqual),useOnValueChange(O,()=>Z.modifiers=O,void 0,deepEqual),useOnValueChange(m.alignment,()=>Z.alignment=m.alignment),{sortable:F,get isDragging(){return F.isDragging},get isDropping(){return F.isDropping},get isDragSource(){return F.isDragSource},get isDropTarget(){return F.isDropTarget},handleRef:reactExports.useCallback(L=>{Z.handle=L??void 0},[Z]),ref:reactExports.useCallback(L=>{var z,G;!L&&((z=Z.element)!=null&&z.isConnected)&&!((G=Z.manager)!=null&&G.dragOperation.status.idle)||(Z.element=L??void 0)},[Z]),sourceRef:reactExports.useCallback(L=>{var z,G;!L&&((z=Z.source)!=null&&z.isConnected)&&!((G=Z.manager)!=null&&G.dragOperation.status.idle)||(Z.source=L??void 0)},[Z]),targetRef:reactExports.useCallback(L=>{var z,G;!L&&((z=Z.target)!=null&&z.isConnected)&&!((G=Z.manager)!=null&&G.dragOperation.status.idle)||(Z.target=L??void 0)},[Z])}}function shouldUpdateSynchronously(m,x,$){return!!(m==="isDragSource"&&!$&&x)}const isIterable=m=>Symbol.iterator in m,hasIterableEntries=m=>"entries"in m,compareEntries=(m,x)=>{const $=m instanceof Map?m:new Map(m.entries()),S=x instanceof Map?x:new Map(x.entries());if($.size!==S.size)return!1;for(const[I,j]of $)if(!Object.is(j,S.get(I)))return!1;return!0},compareIterables=(m,x)=>{const $=m[Symbol.iterator](),S=x[Symbol.iterator]();let I=$.next(),j=S.next();for(;!I.done&&!j.done;){if(!Object.is(I.value,j.value))return!1;I=$.next(),j=S.next()}return!!I.done&&!!j.done};function shallow(m,x){return Object.is(m,x)?!0:typeof m!="object"||m===null||typeof x!="object"||x===null||Object.getPrototypeOf(m)!==Object.getPrototypeOf(x)?!1:isIterable(m)&&isIterable(x)?hasIterableEntries(m)&&hasIterableEntries(x)?compareEntries(m,x):compareIterables(m,x):compareEntries({entries:()=>Object.entries(m)},{entries:()=>Object.entries(x)})}function useShallow(m){const x=React.useRef(void 0);return $=>{const S=m($);return shallow(x.current,S)?x.current:x.current=S}}function c(m,x,$){var S=this,I=reactExports.useRef(null),j=reactExports.useRef(0),P=reactExports.useRef(null),C=reactExports.useRef([]),D=reactExports.useRef(),A=reactExports.useRef(),R=reactExports.useRef(m),k=reactExports.useRef(!0);reactExports.useEffect(function(){R.current=m},[m]);var O=!x&&x!==0&&typeof window<"u";if(typeof m!="function")throw new TypeError("Expected a function");x=+x||0;var N=!!($=$||{}).leading,V=!("trailing"in $)||!!$.trailing,U="maxWait"in $,H=U?Math.max(+$.maxWait||0,x):null;reactExports.useEffect(function(){return k.current=!0,function(){k.current=!1}},[]);var Z=reactExports.useMemo(function(){var F=function(M){var W=C.current,T=D.current;return C.current=D.current=null,j.current=M,A.current=R.current.apply(T,W)},L=function(M,W){O&&cancelAnimationFrame(P.current),P.current=O?requestAnimationFrame(M):setTimeout(M,W)},z=function(M){if(!k.current)return!1;var W=M-I.current;return!I.current||W>=x||W<0||U&&M-j.current>=H},G=function(M){return P.current=null,V&&C.current?F(M):(C.current=D.current=null,A.current)},q=function M(){var W=Date.now();if(z(W))return G(W);if(k.current){var T=x-(W-I.current),K=U?Math.min(T,H-(W-j.current)):T;L(M,K)}},X=function(){var M=Date.now(),W=z(M);if(C.current=[].slice.call(arguments),D.current=S,I.current=M,W){if(!P.current&&k.current)return j.current=I.current,L(q,x),N?F(I.current):A.current;if(U)return L(q,x),F(I.current)}return P.current||L(q,x),A.current};return X.cancel=function(){P.current&&(O?cancelAnimationFrame(P.current):clearTimeout(P.current)),j.current=0,C.current=I.current=D.current=P.current=null},X.isPending=function(){return!!P.current},X.flush=function(){return P.current?G(Date.now()):A.current},X},[N,U,x,H,V,O]);return Z}function commonjsRequire(m){throw new Error('Could not dynamically require "'+m+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var object_hash={exports:{}};(function(m,x){(function($){m.exports=$()})(function(){return function $(S,I,j){function P(A,R){if(!I[A]){if(!S[A]){var k=typeof commonjsRequire=="function"&&commonjsRequire;if(!R&&k)return k(A,!0);if(C)return C(A,!0);throw new Error("Cannot find module '"+A+"'")}R=I[A]={exports:{}},S[A][0].call(R.exports,function(O){var N=S[A][1][O];return P(N||O)},R,R.exports,$,S,I,j)}return I[A].exports}for(var C=typeof commonjsRequire=="function"&&commonjsRequire,D=0;D<j.length;D++)P(j[D]);return P}({1:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){var V=$("crypto");function U(q,X){X=F(q,X);var M;return(M=X.algorithm!=="passthrough"?V.createHash(X.algorithm):new G).write===void 0&&(M.write=M.update,M.end=M.update),z(X,M).dispatch(q),M.update||M.end(""),M.digest?M.digest(X.encoding==="buffer"?void 0:X.encoding):(q=M.read(),X.encoding!=="buffer"?q.toString(X.encoding):q)}(I=S.exports=U).sha1=function(q){return U(q)},I.keys=function(q){return U(q,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},I.MD5=function(q){return U(q,{algorithm:"md5",encoding:"hex"})},I.keysMD5=function(q){return U(q,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var H=V.getHashes?V.getHashes().slice():["sha1","md5"],Z=(H.push("passthrough"),["buffer","hex","binary","base64"]);function F(q,X){var M={};if(M.algorithm=(X=X||{}).algorithm||"sha1",M.encoding=X.encoding||"hex",M.excludeValues=!!X.excludeValues,M.algorithm=M.algorithm.toLowerCase(),M.encoding=M.encoding.toLowerCase(),M.ignoreUnknown=X.ignoreUnknown===!0,M.respectType=X.respectType!==!1,M.respectFunctionNames=X.respectFunctionNames!==!1,M.respectFunctionProperties=X.respectFunctionProperties!==!1,M.unorderedArrays=X.unorderedArrays===!0,M.unorderedSets=X.unorderedSets!==!1,M.unorderedObjects=X.unorderedObjects!==!1,M.replacer=X.replacer||void 0,M.excludeKeys=X.excludeKeys||void 0,q===void 0)throw new Error("Object argument required.");for(var W=0;W<H.length;++W)H[W].toLowerCase()===M.algorithm.toLowerCase()&&(M.algorithm=H[W]);if(H.indexOf(M.algorithm)===-1)throw new Error('Algorithm "'+M.algorithm+'"  not supported. supported values: '+H.join(", "));if(Z.indexOf(M.encoding)===-1&&M.algorithm!=="passthrough")throw new Error('Encoding "'+M.encoding+'"  not supported. supported values: '+Z.join(", "));return M}function L(q){if(typeof q=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(q))!=null}function z(q,X,M){M=M||[];function W(T){return X.update?X.update(T,"utf8"):X.write(T,"utf8")}return{dispatch:function(T){return this["_"+((T=q.replacer?q.replacer(T):T)===null?"null":typeof T)](T)},_object:function(T){var K,J=Object.prototype.toString.call(T),ne=/\[object (.*)\]/i.exec(J);if(ne=(ne=ne?ne[1]:"unknown:["+J+"]").toLowerCase(),0<=(J=M.indexOf(T)))return this.dispatch("[CIRCULAR:"+J+"]");if(M.push(T),C!==void 0&&C.isBuffer&&C.isBuffer(T))return W("buffer:"),W(T);if(ne==="object"||ne==="function"||ne==="asyncfunction")return J=Object.keys(T),q.unorderedObjects&&(J=J.sort()),q.respectType===!1||L(T)||J.splice(0,0,"prototype","__proto__","constructor"),q.excludeKeys&&(J=J.filter(function(re){return!q.excludeKeys(re)})),W("object:"+J.length+":"),K=this,J.forEach(function(re){K.dispatch(re),W(":"),q.excludeValues||K.dispatch(T[re]),W(",")});if(!this["_"+ne]){if(q.ignoreUnknown)return W("["+ne+"]");throw new Error('Unknown object type "'+ne+'"')}this["_"+ne](T)},_array:function(T,re){re=re!==void 0?re:q.unorderedArrays!==!1;var J=this;if(W("array:"+T.length+":"),!re||T.length<=1)return T.forEach(function(te){return J.dispatch(te)});var ne=[],re=T.map(function(te){var ee=new G,ue=M.slice();return z(q,ee,ue).dispatch(te),ne=ne.concat(ue.slice(M.length)),ee.read().toString()});return M=M.concat(ne),re.sort(),this._array(re,!1)},_date:function(T){return W("date:"+T.toJSON())},_symbol:function(T){return W("symbol:"+T.toString())},_error:function(T){return W("error:"+T.toString())},_boolean:function(T){return W("bool:"+T.toString())},_string:function(T){W("string:"+T.length+":"),W(T.toString())},_function:function(T){W("fn:"),L(T)?this.dispatch("[native]"):this.dispatch(T.toString()),q.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(T.name)),q.respectFunctionProperties&&this._object(T)},_number:function(T){return W("number:"+T.toString())},_xml:function(T){return W("xml:"+T.toString())},_null:function(){return W("Null")},_undefined:function(){return W("Undefined")},_regexp:function(T){return W("regex:"+T.toString())},_uint8array:function(T){return W("uint8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint8clampedarray:function(T){return W("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(T))},_int8array:function(T){return W("int8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint16array:function(T){return W("uint16array:"),this.dispatch(Array.prototype.slice.call(T))},_int16array:function(T){return W("int16array:"),this.dispatch(Array.prototype.slice.call(T))},_uint32array:function(T){return W("uint32array:"),this.dispatch(Array.prototype.slice.call(T))},_int32array:function(T){return W("int32array:"),this.dispatch(Array.prototype.slice.call(T))},_float32array:function(T){return W("float32array:"),this.dispatch(Array.prototype.slice.call(T))},_float64array:function(T){return W("float64array:"),this.dispatch(Array.prototype.slice.call(T))},_arraybuffer:function(T){return W("arraybuffer:"),this.dispatch(new Uint8Array(T))},_url:function(T){return W("url:"+T.toString())},_map:function(T){return W("map:"),T=Array.from(T),this._array(T,q.unorderedSets!==!1)},_set:function(T){return W("set:"),T=Array.from(T),this._array(T,q.unorderedSets!==!1)},_file:function(T){return W("file:"),this.dispatch([T.name,T.size,T.type,T.lastModfied])},_blob:function(){if(q.ignoreUnknown)return W("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return W("domwindow")},_bigint:function(T){return W("bigint:"+T.toString())},_process:function(){return W("process")},_timer:function(){return W("timer")},_pipe:function(){return W("pipe")},_tcp:function(){return W("tcp")},_udp:function(){return W("udp")},_tty:function(){return W("tty")},_statwatcher:function(){return W("statwatcher")},_securecontext:function(){return W("securecontext")},_connection:function(){return W("connection")},_zlib:function(){return W("zlib")},_context:function(){return W("context")},_nodescript:function(){return W("nodescript")},_httpparser:function(){return W("httpparser")},_dataview:function(){return W("dataview")},_signal:function(){return W("signal")},_fsevent:function(){return W("fsevent")},_tlswrap:function(){return W("tlswrap")}}}function G(){return{buf:"",write:function(q){this.buf+=q},end:function(q){this.buf+=q},read:function(){return this.buf}}}I.writeToStream=function(q,X,M){return M===void 0&&(M=X,X={}),z(X=F(q,X),M).dispatch(q)}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){(function(V){var U=typeof Uint8Array<"u"?Uint8Array:Array,H=43,Z=47,F=48,L=97,z=65,G=45,q=95;function X(M){return M=M.charCodeAt(0),M===H||M===G?62:M===Z||M===q?63:M<F?-1:M<F+10?M-F+26+26:M<z+26?M-z:M<L+26?M-L+26:void 0}V.toByteArray=function(M){var W,T;if(0<M.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var K=M.length,K=M.charAt(K-2)==="="?2:M.charAt(K-1)==="="?1:0,J=new U(3*M.length/4-K),ne=0<K?M.length-4:M.length,re=0;function te(ee){J[re++]=ee}for(W=0;W<ne;W+=4,0)te((16711680&(T=X(M.charAt(W))<<18|X(M.charAt(W+1))<<12|X(M.charAt(W+2))<<6|X(M.charAt(W+3))))>>16),te((65280&T)>>8),te(255&T);return K==2?te(255&(T=X(M.charAt(W))<<2|X(M.charAt(W+1))>>4)):K==1&&(te((T=X(M.charAt(W))<<10|X(M.charAt(W+1))<<4|X(M.charAt(W+2))>>2)>>8&255),te(255&T)),J},V.fromByteArray=function(M){var W,T,K,J,ne=M.length%3,re="";function te(ee){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ee)}for(W=0,K=M.length-ne;W<K;W+=3)T=(M[W]<<16)+(M[W+1]<<8)+M[W+2],re+=te((J=T)>>18&63)+te(J>>12&63)+te(J>>6&63)+te(63&J);switch(ne){case 1:re=(re+=te((T=M[M.length-1])>>2))+te(T<<4&63)+"==";break;case 2:re=(re=(re+=te((T=(M[M.length-2]<<8)+M[M.length-1])>>10))+te(T>>4&63))+te(T<<2&63)+"="}return re}})(I===void 0?this.base64js={}:I)}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function($,S,I){(function(j,P,H,D,A,R,k,O,N){var V=$("base64-js"),U=$("ieee754");function H(B,Y,Q){if(!(this instanceof H))return new H(B,Y,Q);var oe,ie,le,me,be=typeof B;if(Y==="base64"&&be=="string")for(B=(me=B).trim?me.trim():me.replace(/^\s+|\s+$/g,"");B.length%4!=0;)B+="=";if(be=="number")oe=pe(B);else if(be=="string")oe=H.byteLength(B,Y);else{if(be!="object")throw new Error("First argument needs to be a number, array or string.");oe=pe(B.length)}if(H._useTypedArrays?ie=H._augment(new Uint8Array(oe)):((ie=this).length=oe,ie._isBuffer=!0),H._useTypedArrays&&typeof B.byteLength=="number")ie._set(B);else if(ge(me=B)||H.isBuffer(me)||me&&typeof me=="object"&&typeof me.length=="number")for(le=0;le<oe;le++)H.isBuffer(B)?ie[le]=B.readUInt8(le):ie[le]=B[le];else if(be=="string")ie.write(B,0,Y);else if(be=="number"&&!H._useTypedArrays&&!Q)for(le=0;le<oe;le++)ie[le]=0;return ie}function Z(B,Y,Q,oe){return H._charsWritten=ye(function(ie){for(var le=[],me=0;me<ie.length;me++)le.push(255&ie.charCodeAt(me));return le}(Y),B,Q,oe)}function F(B,Y,Q,oe){return H._charsWritten=ye(function(ie){for(var le,me,be=[],$e=0;$e<ie.length;$e++)me=ie.charCodeAt($e),le=me>>8,me=me%256,be.push(me),be.push(le);return be}(Y),B,Q,oe)}function L(B,Y,Q){var oe="";Q=Math.min(B.length,Q);for(var ie=Y;ie<Q;ie++)oe+=String.fromCharCode(B[ie]);return oe}function z(B,Y,Q,le){le||(ae(typeof Q=="boolean","missing or invalid endian"),ae(Y!=null,"missing offset"),ae(Y+1<B.length,"Trying to read beyond buffer length"));var ie,le=B.length;if(!(le<=Y))return Q?(ie=B[Y],Y+1<le&&(ie|=B[Y+1]<<8)):(ie=B[Y]<<8,Y+1<le&&(ie|=B[Y+1])),ie}function G(B,Y,Q,le){le||(ae(typeof Q=="boolean","missing or invalid endian"),ae(Y!=null,"missing offset"),ae(Y+3<B.length,"Trying to read beyond buffer length"));var ie,le=B.length;if(!(le<=Y))return Q?(Y+2<le&&(ie=B[Y+2]<<16),Y+1<le&&(ie|=B[Y+1]<<8),ie|=B[Y],Y+3<le&&(ie+=B[Y+3]<<24>>>0)):(Y+1<le&&(ie=B[Y+1]<<16),Y+2<le&&(ie|=B[Y+2]<<8),Y+3<le&&(ie|=B[Y+3]),ie+=B[Y]<<24>>>0),ie}function q(B,Y,Q,oe){if(oe||(ae(typeof Q=="boolean","missing or invalid endian"),ae(Y!=null,"missing offset"),ae(Y+1<B.length,"Trying to read beyond buffer length")),!(B.length<=Y))return oe=z(B,Y,Q,!0),32768&oe?-1*(65535-oe+1):oe}function X(B,Y,Q,oe){if(oe||(ae(typeof Q=="boolean","missing or invalid endian"),ae(Y!=null,"missing offset"),ae(Y+3<B.length,"Trying to read beyond buffer length")),!(B.length<=Y))return oe=G(B,Y,Q,!0),2147483648&oe?-1*(4294967295-oe+1):oe}function M(B,Y,Q,oe){return oe||(ae(typeof Q=="boolean","missing or invalid endian"),ae(Y+3<B.length,"Trying to read beyond buffer length")),U.read(B,Y,Q,23,4)}function W(B,Y,Q,oe){return oe||(ae(typeof Q=="boolean","missing or invalid endian"),ae(Y+7<B.length,"Trying to read beyond buffer length")),U.read(B,Y,Q,52,8)}function T(B,Y,Q,oe,ie){if(ie||(ae(Y!=null,"missing value"),ae(typeof oe=="boolean","missing or invalid endian"),ae(Q!=null,"missing offset"),ae(Q+1<B.length,"trying to write beyond buffer length"),he(Y,65535)),ie=B.length,!(ie<=Q))for(var le=0,me=Math.min(ie-Q,2);le<me;le++)B[Q+le]=(Y&255<<8*(oe?le:1-le))>>>8*(oe?le:1-le)}function K(B,Y,Q,oe,ie){if(ie||(ae(Y!=null,"missing value"),ae(typeof oe=="boolean","missing or invalid endian"),ae(Q!=null,"missing offset"),ae(Q+3<B.length,"trying to write beyond buffer length"),he(Y,4294967295)),ie=B.length,!(ie<=Q))for(var le=0,me=Math.min(ie-Q,4);le<me;le++)B[Q+le]=Y>>>8*(oe?le:3-le)&255}function J(B,Y,Q,oe,ie){ie||(ae(Y!=null,"missing value"),ae(typeof oe=="boolean","missing or invalid endian"),ae(Q!=null,"missing offset"),ae(Q+1<B.length,"Trying to write beyond buffer length"),De(Y,32767,-32768)),B.length<=Q||T(B,0<=Y?Y:65535+Y+1,Q,oe,ie)}function ne(B,Y,Q,oe,ie){ie||(ae(Y!=null,"missing value"),ae(typeof oe=="boolean","missing or invalid endian"),ae(Q!=null,"missing offset"),ae(Q+3<B.length,"Trying to write beyond buffer length"),De(Y,2147483647,-2147483648)),B.length<=Q||K(B,0<=Y?Y:4294967295+Y+1,Q,oe,ie)}function re(B,Y,Q,oe,ie){ie||(ae(Y!=null,"missing value"),ae(typeof oe=="boolean","missing or invalid endian"),ae(Q!=null,"missing offset"),ae(Q+3<B.length,"Trying to write beyond buffer length"),Ae(Y,34028234663852886e22,-34028234663852886e22)),B.length<=Q||U.write(B,Y,Q,oe,23,4)}function te(B,Y,Q,oe,ie){ie||(ae(Y!=null,"missing value"),ae(typeof oe=="boolean","missing or invalid endian"),ae(Q!=null,"missing offset"),ae(Q+7<B.length,"Trying to write beyond buffer length"),Ae(Y,17976931348623157e292,-17976931348623157e292)),B.length<=Q||U.write(B,Y,Q,oe,52,8)}I.Buffer=H,I.SlowBuffer=H,I.INSPECT_MAX_BYTES=50,H.poolSize=8192,H._useTypedArrays=function(){try{var B=new ArrayBuffer(0),Y=new Uint8Array(B);return Y.foo=function(){return 42},Y.foo()===42&&typeof Y.subarray=="function"}catch{return!1}}(),H.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},H.isBuffer=function(B){return!(B==null||!B._isBuffer)},H.byteLength=function(B,Y){var Q;switch(B+="",Y||"utf8"){case"hex":Q=B.length/2;break;case"utf8":case"utf-8":Q=de(B).length;break;case"ascii":case"binary":case"raw":Q=B.length;break;case"base64":Q=ve(B).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Q=2*B.length;break;default:throw new Error("Unknown encoding")}return Q},H.concat=function(B,Y){if(ae(ge(B),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),B.length===0)return new H(0);if(B.length===1)return B[0];if(typeof Y!="number")for(ie=Y=0;ie<B.length;ie++)Y+=B[ie].length;for(var Q=new H(Y),oe=0,ie=0;ie<B.length;ie++){var le=B[ie];le.copy(Q,oe),oe+=le.length}return Q},H.prototype.write=function(B,Y,Q,oe){isFinite(Y)?isFinite(Q)||(oe=Q,Q=void 0):($e=oe,oe=Y,Y=Q,Q=$e),Y=Number(Y)||0;var ie,le,me,be,$e=this.length-Y;switch((!Q||$e<(Q=Number(Q)))&&(Q=$e),oe=String(oe||"utf8").toLowerCase()){case"hex":ie=function(ke,Ce,Re,Se){Re=Number(Re)||0;var Ee=ke.length-Re;(!Se||Ee<(Se=Number(Se)))&&(Se=Ee),ae((Ee=Ce.length)%2==0,"Invalid hex string"),Ee/2<Se&&(Se=Ee/2);for(var Le=0;Le<Se;Le++){var Ve=parseInt(Ce.substr(2*Le,2),16);ae(!isNaN(Ve),"Invalid hex string"),ke[Re+Le]=Ve}return H._charsWritten=2*Le,Le}(this,B,Y,Q);break;case"utf8":case"utf-8":le=this,me=Y,be=Q,ie=H._charsWritten=ye(de(B),le,me,be);break;case"ascii":case"binary":ie=Z(this,B,Y,Q);break;case"base64":le=this,me=Y,be=Q,ie=H._charsWritten=ye(ve(B),le,me,be);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ie=F(this,B,Y,Q);break;default:throw new Error("Unknown encoding")}return ie},H.prototype.toString=function(B,Y,Q){var oe,ie,le,me,be=this;if(B=String(B||"utf8").toLowerCase(),Y=Number(Y)||0,(Q=Q!==void 0?Number(Q):be.length)===Y)return"";switch(B){case"hex":oe=function($e,ke,Ce){var Re=$e.length;(!ke||ke<0)&&(ke=0),(!Ce||Ce<0||Re<Ce)&&(Ce=Re);for(var Se="",Ee=ke;Ee<Ce;Ee++)Se+=ce($e[Ee]);return Se}(be,Y,Q);break;case"utf8":case"utf-8":oe=function($e,ke,Ce){var Re="",Se="";Ce=Math.min($e.length,Ce);for(var Ee=ke;Ee<Ce;Ee++)$e[Ee]<=127?(Re+=Ie(Se)+String.fromCharCode($e[Ee]),Se=""):Se+="%"+$e[Ee].toString(16);return Re+Ie(Se)}(be,Y,Q);break;case"ascii":case"binary":oe=L(be,Y,Q);break;case"base64":ie=be,me=Q,oe=(le=Y)===0&&me===ie.length?V.fromByteArray(ie):V.fromByteArray(ie.slice(le,me));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":oe=function($e,ke,Ce){for(var Re=$e.slice(ke,Ce),Se="",Ee=0;Ee<Re.length;Ee+=2)Se+=String.fromCharCode(Re[Ee]+256*Re[Ee+1]);return Se}(be,Y,Q);break;default:throw new Error("Unknown encoding")}return oe},H.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},H.prototype.copy=function(B,Y,Q,oe){if(Y=Y||0,(oe=oe||oe===0?oe:this.length)!==(Q=Q||0)&&B.length!==0&&this.length!==0){ae(Q<=oe,"sourceEnd < sourceStart"),ae(0<=Y&&Y<B.length,"targetStart out of bounds"),ae(0<=Q&&Q<this.length,"sourceStart out of bounds"),ae(0<=oe&&oe<=this.length,"sourceEnd out of bounds"),oe>this.length&&(oe=this.length);var ie=(oe=B.length-Y<oe-Q?B.length-Y+Q:oe)-Q;if(ie<100||!H._useTypedArrays)for(var le=0;le<ie;le++)B[le+Y]=this[le+Q];else B._set(this.subarray(Q,Q+ie),Y)}},H.prototype.slice=function(B,Y){var Q=this.length;if(B=ue(B,Q,0),Y=ue(Y,Q,Q),H._useTypedArrays)return H._augment(this.subarray(B,Y));for(var oe=Y-B,ie=new H(oe,void 0,!0),le=0;le<oe;le++)ie[le]=this[le+B];return ie},H.prototype.get=function(B){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(B)},H.prototype.set=function(B,Y){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(B,Y)},H.prototype.readUInt8=function(B,Y){if(Y||(ae(B!=null,"missing offset"),ae(B<this.length,"Trying to read beyond buffer length")),!(B>=this.length))return this[B]},H.prototype.readUInt16LE=function(B,Y){return z(this,B,!0,Y)},H.prototype.readUInt16BE=function(B,Y){return z(this,B,!1,Y)},H.prototype.readUInt32LE=function(B,Y){return G(this,B,!0,Y)},H.prototype.readUInt32BE=function(B,Y){return G(this,B,!1,Y)},H.prototype.readInt8=function(B,Y){if(Y||(ae(B!=null,"missing offset"),ae(B<this.length,"Trying to read beyond buffer length")),!(B>=this.length))return 128&this[B]?-1*(255-this[B]+1):this[B]},H.prototype.readInt16LE=function(B,Y){return q(this,B,!0,Y)},H.prototype.readInt16BE=function(B,Y){return q(this,B,!1,Y)},H.prototype.readInt32LE=function(B,Y){return X(this,B,!0,Y)},H.prototype.readInt32BE=function(B,Y){return X(this,B,!1,Y)},H.prototype.readFloatLE=function(B,Y){return M(this,B,!0,Y)},H.prototype.readFloatBE=function(B,Y){return M(this,B,!1,Y)},H.prototype.readDoubleLE=function(B,Y){return W(this,B,!0,Y)},H.prototype.readDoubleBE=function(B,Y){return W(this,B,!1,Y)},H.prototype.writeUInt8=function(B,Y,Q){Q||(ae(B!=null,"missing value"),ae(Y!=null,"missing offset"),ae(Y<this.length,"trying to write beyond buffer length"),he(B,255)),Y>=this.length||(this[Y]=B)},H.prototype.writeUInt16LE=function(B,Y,Q){T(this,B,Y,!0,Q)},H.prototype.writeUInt16BE=function(B,Y,Q){T(this,B,Y,!1,Q)},H.prototype.writeUInt32LE=function(B,Y,Q){K(this,B,Y,!0,Q)},H.prototype.writeUInt32BE=function(B,Y,Q){K(this,B,Y,!1,Q)},H.prototype.writeInt8=function(B,Y,Q){Q||(ae(B!=null,"missing value"),ae(Y!=null,"missing offset"),ae(Y<this.length,"Trying to write beyond buffer length"),De(B,127,-128)),Y>=this.length||(0<=B?this.writeUInt8(B,Y,Q):this.writeUInt8(255+B+1,Y,Q))},H.prototype.writeInt16LE=function(B,Y,Q){J(this,B,Y,!0,Q)},H.prototype.writeInt16BE=function(B,Y,Q){J(this,B,Y,!1,Q)},H.prototype.writeInt32LE=function(B,Y,Q){ne(this,B,Y,!0,Q)},H.prototype.writeInt32BE=function(B,Y,Q){ne(this,B,Y,!1,Q)},H.prototype.writeFloatLE=function(B,Y,Q){re(this,B,Y,!0,Q)},H.prototype.writeFloatBE=function(B,Y,Q){re(this,B,Y,!1,Q)},H.prototype.writeDoubleLE=function(B,Y,Q){te(this,B,Y,!0,Q)},H.prototype.writeDoubleBE=function(B,Y,Q){te(this,B,Y,!1,Q)},H.prototype.fill=function(B,Y,Q){if(Y=Y||0,Q=Q||this.length,ae(typeof(B=typeof(B=B||0)=="string"?B.charCodeAt(0):B)=="number"&&!isNaN(B),"value is not a number"),ae(Y<=Q,"end < start"),Q!==Y&&this.length!==0){ae(0<=Y&&Y<this.length,"start out of bounds"),ae(0<=Q&&Q<=this.length,"end out of bounds");for(var oe=Y;oe<Q;oe++)this[oe]=B}},H.prototype.inspect=function(){for(var B=[],Y=this.length,Q=0;Q<Y;Q++)if(B[Q]=ce(this[Q]),Q===I.INSPECT_MAX_BYTES){B[Q+1]="...";break}return"<Buffer "+B.join(" ")+">"},H.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(H._useTypedArrays)return new H(this).buffer;for(var B=new Uint8Array(this.length),Y=0,Q=B.length;Y<Q;Y+=1)B[Y]=this[Y];return B.buffer};var ee=H.prototype;function ue(B,Y,Q){return typeof B!="number"?Q:Y<=(B=~~B)?Y:0<=B||0<=(B+=Y)?B:0}function pe(B){return(B=~~Math.ceil(+B))<0?0:B}function ge(B){return(Array.isArray||function(Y){return Object.prototype.toString.call(Y)==="[object Array]"})(B)}function ce(B){return B<16?"0"+B.toString(16):B.toString(16)}function de(B){for(var Y=[],Q=0;Q<B.length;Q++){var oe=B.charCodeAt(Q);if(oe<=127)Y.push(B.charCodeAt(Q));else for(var ie=Q,le=(55296<=oe&&oe<=57343&&Q++,encodeURIComponent(B.slice(ie,Q+1)).substr(1).split("%")),me=0;me<le.length;me++)Y.push(parseInt(le[me],16))}return Y}function ve(B){return V.toByteArray(B)}function ye(B,Y,Q,oe){for(var ie=0;ie<oe&&!(ie+Q>=Y.length||ie>=B.length);ie++)Y[ie+Q]=B[ie];return ie}function Ie(B){try{return decodeURIComponent(B)}catch{return""}}function he(B,Y){ae(typeof B=="number","cannot write a non-number as a number"),ae(0<=B,"specified a negative value for writing an unsigned value"),ae(B<=Y,"value is larger than maximum value for type"),ae(Math.floor(B)===B,"value has a fractional component")}function De(B,Y,Q){ae(typeof B=="number","cannot write a non-number as a number"),ae(B<=Y,"value larger than maximum allowed value"),ae(Q<=B,"value smaller than minimum allowed value"),ae(Math.floor(B)===B,"value has a fractional component")}function Ae(B,Y,Q){ae(typeof B=="number","cannot write a non-number as a number"),ae(B<=Y,"value larger than maximum allowed value"),ae(Q<=B,"value smaller than minimum allowed value")}function ae(B,Y){if(!B)throw new Error(Y||"Failed assertion")}H._augment=function(B){return B._isBuffer=!0,B._get=B.get,B._set=B.set,B.get=ee.get,B.set=ee.set,B.write=ee.write,B.toString=ee.toString,B.toLocaleString=ee.toString,B.toJSON=ee.toJSON,B.copy=ee.copy,B.slice=ee.slice,B.readUInt8=ee.readUInt8,B.readUInt16LE=ee.readUInt16LE,B.readUInt16BE=ee.readUInt16BE,B.readUInt32LE=ee.readUInt32LE,B.readUInt32BE=ee.readUInt32BE,B.readInt8=ee.readInt8,B.readInt16LE=ee.readInt16LE,B.readInt16BE=ee.readInt16BE,B.readInt32LE=ee.readInt32LE,B.readInt32BE=ee.readInt32BE,B.readFloatLE=ee.readFloatLE,B.readFloatBE=ee.readFloatBE,B.readDoubleLE=ee.readDoubleLE,B.readDoubleBE=ee.readDoubleBE,B.writeUInt8=ee.writeUInt8,B.writeUInt16LE=ee.writeUInt16LE,B.writeUInt16BE=ee.writeUInt16BE,B.writeUInt32LE=ee.writeUInt32LE,B.writeUInt32BE=ee.writeUInt32BE,B.writeInt8=ee.writeInt8,B.writeInt16LE=ee.writeInt16LE,B.writeInt16BE=ee.writeInt16BE,B.writeInt32LE=ee.writeInt32LE,B.writeInt32BE=ee.writeInt32BE,B.writeFloatLE=ee.writeFloatLE,B.writeFloatBE=ee.writeFloatBE,B.writeDoubleLE=ee.writeDoubleLE,B.writeDoubleBE=ee.writeDoubleBE,B.fill=ee.fill,B.inspect=ee.inspect,B.toArrayBuffer=ee.toArrayBuffer,B}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function($,S,I){(function(j,P,V,D,A,R,k,O,N){var V=$("buffer").Buffer,U=4,H=new V(U);H.fill(0),S.exports={hash:function(Z,F,L,z){for(var G=F(function(T,K){T.length%U!=0&&(J=T.length+(U-T.length%U),T=V.concat([T,H],J));for(var J,ne=[],re=K?T.readInt32BE:T.readInt32LE,te=0;te<T.length;te+=U)ne.push(re.call(T,te));return ne}(Z=V.isBuffer(Z)?Z:new V(Z),z),8*Z.length),F=z,q=new V(L),X=F?q.writeInt32BE:q.writeInt32LE,M=0;M<G.length;M++)X.call(q,G[M],4*M,!0);return q}}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function($,S,I){(function(j,P,V,D,A,R,k,O,N){var V=$("buffer").Buffer,U=$("./sha"),H=$("./sha256"),Z=$("./rng"),F={sha1:U,sha256:H,md5:$("./md5")},L=64,z=new V(L);function G(T,K){var J=F[T=T||"sha1"],ne=[];return J||q("algorithm:",T,"is not yet supported"),{update:function(re){return V.isBuffer(re)||(re=new V(re)),ne.push(re),re.length,this},digest:function(re){var te=V.concat(ne),te=K?function(ee,ue,pe){V.isBuffer(ue)||(ue=new V(ue)),V.isBuffer(pe)||(pe=new V(pe)),ue.length>L?ue=ee(ue):ue.length<L&&(ue=V.concat([ue,z],L));for(var ge=new V(L),ce=new V(L),de=0;de<L;de++)ge[de]=54^ue[de],ce[de]=92^ue[de];return pe=ee(V.concat([ge,pe])),ee(V.concat([ce,pe]))}(J,K,te):J(te);return ne=null,re?te.toString(re):te}}}function q(){var T=[].slice.call(arguments).join(" ");throw new Error([T,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}z.fill(0),I.createHash=function(T){return G(T)},I.createHmac=G,I.randomBytes=function(T,K){if(!K||!K.call)return new V(Z(T));try{K.call(this,void 0,new V(Z(T)))}catch(J){K(J)}};var X,M=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],W=function(T){I[T]=function(){q("sorry,",T,"is not implemented yet")}};for(X in M)W(M[X])}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){var V=$("./helpers");function U(q,X){q[X>>5]|=128<<X%32,q[14+(X+64>>>9<<4)]=X;for(var M=1732584193,W=-271733879,T=-1732584194,K=271733878,J=0;J<q.length;J+=16){var ne=M,re=W,te=T,ee=K,M=Z(M,W,T,K,q[J+0],7,-680876936),K=Z(K,M,W,T,q[J+1],12,-389564586),T=Z(T,K,M,W,q[J+2],17,606105819),W=Z(W,T,K,M,q[J+3],22,-1044525330);M=Z(M,W,T,K,q[J+4],7,-176418897),K=Z(K,M,W,T,q[J+5],12,1200080426),T=Z(T,K,M,W,q[J+6],17,-1473231341),W=Z(W,T,K,M,q[J+7],22,-45705983),M=Z(M,W,T,K,q[J+8],7,1770035416),K=Z(K,M,W,T,q[J+9],12,-1958414417),T=Z(T,K,M,W,q[J+10],17,-42063),W=Z(W,T,K,M,q[J+11],22,-1990404162),M=Z(M,W,T,K,q[J+12],7,1804603682),K=Z(K,M,W,T,q[J+13],12,-40341101),T=Z(T,K,M,W,q[J+14],17,-1502002290),M=F(M,W=Z(W,T,K,M,q[J+15],22,1236535329),T,K,q[J+1],5,-165796510),K=F(K,M,W,T,q[J+6],9,-1069501632),T=F(T,K,M,W,q[J+11],14,643717713),W=F(W,T,K,M,q[J+0],20,-373897302),M=F(M,W,T,K,q[J+5],5,-701558691),K=F(K,M,W,T,q[J+10],9,38016083),T=F(T,K,M,W,q[J+15],14,-660478335),W=F(W,T,K,M,q[J+4],20,-405537848),M=F(M,W,T,K,q[J+9],5,568446438),K=F(K,M,W,T,q[J+14],9,-1019803690),T=F(T,K,M,W,q[J+3],14,-187363961),W=F(W,T,K,M,q[J+8],20,1163531501),M=F(M,W,T,K,q[J+13],5,-1444681467),K=F(K,M,W,T,q[J+2],9,-51403784),T=F(T,K,M,W,q[J+7],14,1735328473),M=L(M,W=F(W,T,K,M,q[J+12],20,-1926607734),T,K,q[J+5],4,-378558),K=L(K,M,W,T,q[J+8],11,-2022574463),T=L(T,K,M,W,q[J+11],16,1839030562),W=L(W,T,K,M,q[J+14],23,-35309556),M=L(M,W,T,K,q[J+1],4,-1530992060),K=L(K,M,W,T,q[J+4],11,1272893353),T=L(T,K,M,W,q[J+7],16,-155497632),W=L(W,T,K,M,q[J+10],23,-1094730640),M=L(M,W,T,K,q[J+13],4,681279174),K=L(K,M,W,T,q[J+0],11,-358537222),T=L(T,K,M,W,q[J+3],16,-722521979),W=L(W,T,K,M,q[J+6],23,76029189),M=L(M,W,T,K,q[J+9],4,-640364487),K=L(K,M,W,T,q[J+12],11,-421815835),T=L(T,K,M,W,q[J+15],16,530742520),M=z(M,W=L(W,T,K,M,q[J+2],23,-995338651),T,K,q[J+0],6,-198630844),K=z(K,M,W,T,q[J+7],10,1126891415),T=z(T,K,M,W,q[J+14],15,-1416354905),W=z(W,T,K,M,q[J+5],21,-57434055),M=z(M,W,T,K,q[J+12],6,1700485571),K=z(K,M,W,T,q[J+3],10,-1894986606),T=z(T,K,M,W,q[J+10],15,-1051523),W=z(W,T,K,M,q[J+1],21,-2054922799),M=z(M,W,T,K,q[J+8],6,1873313359),K=z(K,M,W,T,q[J+15],10,-30611744),T=z(T,K,M,W,q[J+6],15,-1560198380),W=z(W,T,K,M,q[J+13],21,1309151649),M=z(M,W,T,K,q[J+4],6,-145523070),K=z(K,M,W,T,q[J+11],10,-1120210379),T=z(T,K,M,W,q[J+2],15,718787259),W=z(W,T,K,M,q[J+9],21,-343485551),M=G(M,ne),W=G(W,re),T=G(T,te),K=G(K,ee)}return Array(M,W,T,K)}function H(q,X,M,W,T,K){return G((X=G(G(X,q),G(W,K)))<<T|X>>>32-T,M)}function Z(q,X,M,W,T,K,J){return H(X&M|~X&W,q,X,T,K,J)}function F(q,X,M,W,T,K,J){return H(X&W|M&~W,q,X,T,K,J)}function L(q,X,M,W,T,K,J){return H(X^M^W,q,X,T,K,J)}function z(q,X,M,W,T,K,J){return H(M^(X|~W),q,X,T,K,J)}function G(q,X){var M=(65535&q)+(65535&X);return(q>>16)+(X>>16)+(M>>16)<<16|65535&M}S.exports=function(q){return V.hash(q,U,16)}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){S.exports=function(V){for(var U,H=new Array(V),Z=0;Z<V;Z++)!(3&Z)&&(U=4294967296*Math.random()),H[Z]=U>>>((3&Z)<<3)&255;return H}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){var V=$("./helpers");function U(F,L){F[L>>5]|=128<<24-L%32,F[15+(L+64>>9<<4)]=L;for(var z,G,q,X=Array(80),M=1732584193,W=-271733879,T=-1732584194,K=271733878,J=-1009589776,ne=0;ne<F.length;ne+=16){for(var re=M,te=W,ee=T,ue=K,pe=J,ge=0;ge<80;ge++){X[ge]=ge<16?F[ne+ge]:Z(X[ge-3]^X[ge-8]^X[ge-14]^X[ge-16],1);var ce=H(H(Z(M,5),(ce=W,G=T,q=K,(z=ge)<20?ce&G|~ce&q:!(z<40)&&z<60?ce&G|ce&q|G&q:ce^G^q)),H(H(J,X[ge]),(z=ge)<20?1518500249:z<40?1859775393:z<60?-1894007588:-899497514)),J=K,K=T,T=Z(W,30),W=M,M=ce}M=H(M,re),W=H(W,te),T=H(T,ee),K=H(K,ue),J=H(J,pe)}return Array(M,W,T,K,J)}function H(F,L){var z=(65535&F)+(65535&L);return(F>>16)+(L>>16)+(z>>16)<<16|65535&z}function Z(F,L){return F<<L|F>>>32-L}S.exports=function(F){return V.hash(F,U,20,!0)}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){function V(L,z){var G=(65535&L)+(65535&z);return(L>>16)+(z>>16)+(G>>16)<<16|65535&G}function U(L,z){var G,q=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),X=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),M=new Array(64);L[z>>5]|=128<<24-z%32,L[15+(z+64>>9<<4)]=z;for(var W,T,K=0;K<L.length;K+=16){for(var J=X[0],ne=X[1],re=X[2],te=X[3],ee=X[4],ue=X[5],pe=X[6],ge=X[7],ce=0;ce<64;ce++)M[ce]=ce<16?L[ce+K]:V(V(V((T=M[ce-2],Z(T,17)^Z(T,19)^F(T,10)),M[ce-7]),(T=M[ce-15],Z(T,7)^Z(T,18)^F(T,3))),M[ce-16]),G=V(V(V(V(ge,Z(T=ee,6)^Z(T,11)^Z(T,25)),ee&ue^~ee&pe),q[ce]),M[ce]),W=V(Z(W=J,2)^Z(W,13)^Z(W,22),J&ne^J&re^ne&re),ge=pe,pe=ue,ue=ee,ee=V(te,G),te=re,re=ne,ne=J,J=V(G,W);X[0]=V(J,X[0]),X[1]=V(ne,X[1]),X[2]=V(re,X[2]),X[3]=V(te,X[3]),X[4]=V(ee,X[4]),X[5]=V(ue,X[5]),X[6]=V(pe,X[6]),X[7]=V(ge,X[7])}return X}var H=$("./helpers"),Z=function(L,z){return L>>>z|L<<32-z},F=function(L,z){return L>>>z};S.exports=function(L){return H.hash(L,U,32,!0)}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){I.read=function(V,U,H,Z,K){var L,z,G=8*K-Z-1,q=(1<<G)-1,X=q>>1,M=-7,W=H?K-1:0,T=H?-1:1,K=V[U+W];for(W+=T,L=K&(1<<-M)-1,K>>=-M,M+=G;0<M;L=256*L+V[U+W],W+=T,M-=8);for(z=L&(1<<-M)-1,L>>=-M,M+=Z;0<M;z=256*z+V[U+W],W+=T,M-=8);if(L===0)L=1-X;else{if(L===q)return z?NaN:1/0*(K?-1:1);z+=Math.pow(2,Z),L-=X}return(K?-1:1)*z*Math.pow(2,L-Z)},I.write=function(V,U,H,Z,F,J){var z,G,q=8*J-F-1,X=(1<<q)-1,M=X>>1,W=F===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=Z?0:J-1,K=Z?1:-1,J=U<0||U===0&&1/U<0?1:0;for(U=Math.abs(U),isNaN(U)||U===1/0?(G=isNaN(U)?1:0,z=X):(z=Math.floor(Math.log(U)/Math.LN2),U*(Z=Math.pow(2,-z))<1&&(z--,Z*=2),2<=(U+=1<=z+M?W/Z:W*Math.pow(2,1-M))*Z&&(z++,Z/=2),X<=z+M?(G=0,z=X):1<=z+M?(G=(U*Z-1)*Math.pow(2,F),z+=M):(G=U*Math.pow(2,M-1)*Math.pow(2,F),z=0));8<=F;V[H+T]=255&G,T+=K,G/=256,F-=8);for(z=z<<F|G,q+=F;0<q;V[H+T]=255&z,T+=K,z/=256,q-=8);V[H+T-K]|=128*J}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function($,S,I){(function(j,P,C,D,A,R,k,O,N){var V,U,H;function Z(){}(j=S.exports={}).nextTick=(U=typeof window<"u"&&window.setImmediate,H=typeof window<"u"&&window.postMessage&&window.addEventListener,U?function(F){return window.setImmediate(F)}:H?(V=[],window.addEventListener("message",function(F){var L=F.source;L!==window&&L!==null||F.data!=="process-tick"||(F.stopPropagation(),0<V.length&&V.shift()())},!0),function(F){V.push(F),window.postMessage("process-tick","*")}):function(F){setTimeout(F,0)}),j.title="browser",j.browser=!0,j.env={},j.argv=[],j.on=Z,j.addListener=Z,j.once=Z,j.off=Z,j.removeListener=Z,j.removeAllListeners=Z,j.emit=Z,j.binding=function(F){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(F){throw new Error("process.chdir is not supported")}}).call(this,$("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},$("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(object_hash);var object_hashExports=object_hash.exports;const hash=getDefaultExportFromCjs(object_hashExports);var require_classnames=__commonJS({"../../node_modules/classnames/index.js"(m,x){init_react_import(),function(){var $={}.hasOwnProperty;function S(){for(var P="",C=0;C<arguments.length;C++){var D=arguments[C];D&&(P=j(P,I(D)))}return P}function I(P){if(typeof P=="string"||typeof P=="number")return P;if(typeof P!="object")return"";if(Array.isArray(P))return S.apply(null,P);if(P.toString!==Object.prototype.toString&&!P.toString.toString().includes("[native code]"))return P.toString();var C="";for(var D in P)$.call(P,D)&&P[D]&&(C=j(C,D));return C}function j(P,C){return C?P?P+" "+C:P+C:P}typeof x<"u"&&x.exports?(S.default=S,x.exports=S):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return S}):window.classNames=S}()}});init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();init_react_import();var import_classnames=__toESM(require_classnames()),getClassNameFactory=(m,x,$={baseClass:""})=>(S={})=>{if(typeof S=="string"){const I=S;return x[`${m}-${I}`]&&$.baseClass+x[`${m}-${I}`]||""}else if(typeof S=="object"){const I=S,j={};for(let C in I)j[x[`${m}--${C}`]]=I[C];const P=x[m];return $.baseClass+(0,import_classnames.default)(__spreadValues$7({[P]:!!P},j))}else return $.baseClass+x[m]||""},get_class_name_factory_default=getClassNameFactory;init_react_import();var styles_module_default={ActionBar:"_ActionBar_rvadt_1","ActionBar-label":"_ActionBar-label_rvadt_18","ActionBar-action":"_ActionBar-action_rvadt_30","ActionBar-group":"_ActionBar-group_rvadt_38"},getClassName=get_class_name_factory_default("ActionBar",styles_module_default),ActionBar=({label:m,children:x})=>jsxRuntimeExports.jsxs("div",{className:getClassName(),onClick:$=>{$.stopPropagation()},children:[m&&jsxRuntimeExports.jsx(ActionBar.Group,{children:jsxRuntimeExports.jsx("div",{className:getClassName("label"),children:m})}),x]}),Action=({children:m,label:x,onClick:$})=>jsxRuntimeExports.jsx("button",{type:"button",className:getClassName("action"),onClick:$,title:x,children:m}),Group=({children:m})=>jsxRuntimeExports.jsx("div",{className:getClassName("group"),children:m}),Label=({label:m})=>jsxRuntimeExports.jsx("div",{className:getClassName("label"),children:m});ActionBar.Action=Action;ActionBar.Label=Label;ActionBar.Group=Group;init_react_import();init_react_import();var styles_module_default2={InputWrapper:"_InputWrapper_py9hf_1","Input-label":"_Input-label_py9hf_5","Input-labelIcon":"_Input-labelIcon_py9hf_14","Input-disabledIcon":"_Input-disabledIcon_py9hf_21","Input-input":"_Input-input_py9hf_26",Input:"_Input_py9hf_1","Input--readOnly":"_Input--readOnly_py9hf_76","Input-radioGroupItems":"_Input-radioGroupItems_py9hf_87","Input-radio":"_Input-radio_py9hf_87","Input-radioInner":"_Input-radioInner_py9hf_104","Input-radioInput":"_Input-radioInput_py9hf_149"};init_react_import();init_react_import();init_react_import();var styles_module_default3={ArrayField:"_ArrayField_14u8o_5","ArrayField--isDraggingFrom":"_ArrayField--isDraggingFrom_14u8o_13","ArrayField-addButton":"_ArrayField-addButton_14u8o_18","ArrayField--hasItems":"_ArrayField--hasItems_14u8o_33","ArrayField-inner":"_ArrayField-inner_14u8o_59",ArrayFieldItem:"_ArrayFieldItem_14u8o_67","ArrayFieldItem--isDragging":"_ArrayFieldItem--isDragging_14u8o_78","ArrayFieldItem--isExpanded":"_ArrayFieldItem--isExpanded_14u8o_82","ArrayFieldItem-summary":"_ArrayFieldItem-summary_14u8o_97","ArrayField--addDisabled":"_ArrayField--addDisabled_14u8o_127","ArrayFieldItem-body":"_ArrayFieldItem-body_14u8o_166","ArrayFieldItem-fieldset":"_ArrayFieldItem-fieldset_14u8o_175","ArrayFieldItem-rhs":"_ArrayFieldItem-rhs_14u8o_183","ArrayFieldItem-actions":"_ArrayFieldItem-actions_14u8o_189"};init_react_import();init_react_import();init_react_import();var toKebabCase=m=>m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...m)=>m.filter((x,$,S)=>!!x&&x.trim()!==""&&S.indexOf(x)===$).join(" ").trim();init_react_import();init_react_import();var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},Icon=reactExports.forwardRef((m,x)=>{var $=m,{color:S="currentColor",size:I=24,strokeWidth:j=2,absoluteStrokeWidth:P,className:C="",children:D,iconNode:A}=$,R=__objRest$4($,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return reactExports.createElement("svg",__spreadValues$7(__spreadProps$6(__spreadValues$7({ref:x},defaultAttributes),{width:I,height:I,stroke:S,strokeWidth:P?Number(j)*24/Number(I):j,className:mergeClasses("lucide",C)}),R),[...A.map(([k,O])=>reactExports.createElement(k,O)),...Array.isArray(D)?D:[D]])}),createLucideIcon=(m,x)=>{const $=reactExports.forwardRef((S,I)=>{var j=S,{className:P}=j,C=__objRest$4(j,["className"]);return reactExports.createElement(Icon,__spreadValues$7({ref:I,iconNode:x,className:mergeClasses(`lucide-${toKebabCase(m)}`,P)},C))});return $.displayName=`${m}`,$};init_react_import();var ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);init_react_import();var ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);init_react_import();var ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);init_react_import();var CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);init_react_import();var Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);init_react_import();var CornerLeftUp=createLucideIcon("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]);init_react_import();var EllipsisVertical=createLucideIcon("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);init_react_import();var Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);init_react_import();var Hash=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);init_react_import();var Layers=createLucideIcon("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);init_react_import();var LayoutGrid=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);init_react_import();var Link=createLucideIcon("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);init_react_import();var List=createLucideIcon("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);init_react_import();var LockOpen=createLucideIcon("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);init_react_import();var Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);init_react_import();var Monitor=createLucideIcon("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);init_react_import();var PanelLeft=createLucideIcon("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);init_react_import();var PanelRight=createLucideIcon("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);init_react_import();var Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);init_react_import();var Redo2=createLucideIcon("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);init_react_import();var Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);init_react_import();var SlidersHorizontal=createLucideIcon("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);init_react_import();var Smartphone=createLucideIcon("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);init_react_import();var Tablet=createLucideIcon("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);init_react_import();var Trash=createLucideIcon("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);init_react_import();var Type=createLucideIcon("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);init_react_import();var Undo2=createLucideIcon("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);init_react_import();var ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);init_react_import();var ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);init_react_import();init_react_import();init_react_import();var IconButton_module_default={IconButton:"_IconButton_swpni_1","IconButton--disabled":"_IconButton--disabled_swpni_20","IconButton-title":"_IconButton-title_swpni_33"};init_react_import();init_react_import();init_react_import();init_react_import();var reorder=(m,x,$)=>{const S=Array.from(m),[I]=S.splice(x,1);return S.splice($,0,I),S};init_react_import();var replace=(m,x,$)=>{const S=Array.from(m);return S.splice(x,1),S.splice(x,0,$),S};init_react_import();var styles_module_default4={Loader:"_Loader_nacdm_13","loader-animation":"_loader-animation_nacdm_1"},getClassName2=get_class_name_factory_default("Loader",styles_module_default4),Loader=m=>{var x=m,{color:$,size:S=16}=x,I=__objRest$4(x,["color","size"]);return jsxRuntimeExports.jsx("span",__spreadValues$7({className:getClassName2(),style:{width:S,height:S,color:$},"aria-label":"loading"},I))},getClassName3=get_class_name_factory_default("IconButton",IconButton_module_default),IconButton=({children:m,href:x,onClick:$,variant:S="primary",type:I,disabled:j,tabIndex:P,newTab:C,fullWidth:D,title:A})=>{const[R,k]=reactExports.useState(!1),O=x?"a":"button";return jsxRuntimeExports.jsxs(O,{className:getClassName3({primary:S==="primary",secondary:S==="secondary",disabled:j,fullWidth:D}),onClick:V=>{$&&(k(!0),Promise.resolve($(V)).then(()=>{k(!1)}))},type:I,disabled:j||R,tabIndex:P,target:C?"_blank":void 0,rel:C?"noreferrer":void 0,href:x,title:A,children:[jsxRuntimeExports.jsx("span",{className:getClassName3("title"),children:A}),m,R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jsxRuntimeExports.jsx(Loader,{size:14})]})]})};init_react_import();init_react_import();var styles_module_default5={DragIcon:"_DragIcon_17p8x_1","DragIcon--disabled":"_DragIcon--disabled_17p8x_8"},getClassName4=get_class_name_factory_default("DragIcon",styles_module_default5),DragIcon=({isDragDisabled:m})=>jsxRuntimeExports.jsx("div",{className:getClassName4({disabled:m}),children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 20 20",width:"12",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})});init_react_import();init_react_import();init_react_import();var setAction=(m,x,$)=>{if(typeof x.state=="object"){const S=__spreadValues$7(__spreadValues$7({},m),x.state);return x.state.indexes?S:(console.warn("`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),walkAppState(S,$.config))}return __spreadValues$7(__spreadValues$7({},m),x.state(m))};init_react_import();init_react_import();var insert=(m,x,$)=>{const S=Array.from(m||[]);return S.splice(x,0,$),S};init_react_import();var generateId=m=>m?`${m}-${v4()}`:v4();init_react_import();var getIdsForParent=(m,x)=>{const[$]=m.split(":"),S=x.indexes.nodes[$];return((S==null?void 0:S.path)||[]).map(I=>I.split(":")[0])};init_react_import();var populateIds=(m,x,$=!1)=>{const S=generateId(m.type);return walkTree(__spreadProps$6(__spreadValues$7({},m),{props:$?__spreadProps$6(__spreadValues$7({},m.props),{id:S}):__spreadValues$7({},m.props)}),x,I=>I.map(j=>{const P=generateId(j.type);return __spreadProps$6(__spreadValues$7({},j),{props:$?__spreadProps$6(__spreadValues$7({},j.props),{id:P}):__spreadValues$7({id:P},j.props)})}))};function insertAction(m,x,$){const S=x.id||generateId(x.componentType),I=populateIds({type:x.componentType,props:__spreadProps$6(__spreadValues$7({},$.config.components[x.componentType].defaultProps||{}),{id:S})},$.config),[j]=x.destinationZone.split(":"),P=getIdsForParent(x.destinationZone,m);return walkAppState(m,$.config,(C,D)=>D===x.destinationZone?insert(C||[],x.destinationIndex,I):C,(C,D)=>C.props.id===S||C.props.id===j||P.includes(C.props.id)||D.includes(x.destinationZone)?C:null)}init_react_import();var replaceAction=(m,x,$)=>{const[S]=x.destinationZone.split(":"),I=getIdsForParent(x.destinationZone,m),j=m.indexes.zones[x.destinationZone].contentIds[x.destinationIndex];if(j!==x.data.props.id)throw new Error(`Can't change the id during a replace action. Please us "remove" and "insert" to define a new node.`);const C=[],D=walkTree(x.data,$.config,(R,k)=>(C.push(`${k.parentId}:${k.propName}`),R.map(O=>{const N=generateId(O.type);return __spreadProps$6(__spreadValues$7({},O),{props:__spreadValues$7({id:N},O.props)})}))),A=__spreadValues$7({},m);return Object.keys(m.indexes.zones).forEach(R=>{R.split(":")[0]===j&&(C.includes(R)||delete A.indexes.zones[R])}),walkAppState(A,$.config,(R,k)=>{const O=[...R];return k===x.destinationZone&&(O[x.destinationIndex]=D),O},(R,k)=>{const O=k.map(N=>N.split(":")[0]);return R.props.id===D.props.id?D:R.props.id===S||I.indexOf(R.props.id)>-1||O.indexOf(D.props.id)>-1?R:null})};init_react_import();var replaceRootAction=(m,x,$)=>walkAppState(m,$.config,S=>S,S=>S.props.id==="root"?__spreadProps$6(__spreadValues$7({},S),{props:__spreadValues$7(__spreadValues$7({},S.props),x.root.props),readOnly:x.root.readOnly}):S);init_react_import();init_react_import();function getItem(m,x){var $,S;const I=($=x.indexes.zones)==null?void 0:$[m.zone||rootDroppableId];return I?(S=x.indexes.nodes[I.contentIds[m.index]])==null?void 0:S.data:void 0}function duplicateAction(m,x,$){const S=getItem({index:x.sourceIndex,zone:x.sourceZone},m),I=getIdsForParent(x.sourceZone,m),j=__spreadProps$6(__spreadValues$7({},S),{props:__spreadProps$6(__spreadValues$7({},S.props),{id:generateId(S.type)})}),P=walkAppState(m,$.config,(C,D)=>D===x.sourceZone?insert(C,x.sourceIndex+1,S):C,(C,D,A)=>{const R=D[D.length-1];if(D.map(N=>N.split(":")[0]).indexOf(j.props.id)>-1)return __spreadProps$6(__spreadValues$7({},C),{props:__spreadProps$6(__spreadValues$7({},C.props),{id:generateId(C.type)})});if(R===x.sourceZone&&A===x.sourceIndex+1)return j;const[O]=x.sourceZone.split(":");return O===C.props.id||I.indexOf(C.props.id)>-1?C:null});return __spreadProps$6(__spreadValues$7({},P),{ui:__spreadProps$6(__spreadValues$7({},P.ui),{itemSelector:{index:x.sourceIndex+1,zone:x.sourceZone}})})}init_react_import();init_react_import();init_react_import();var remove=(m,x)=>{const $=Array.from(m);return $.splice(x,1),$},moveAction=(m,x,$)=>{if(x.sourceZone===x.destinationZone&&x.sourceIndex===x.destinationIndex)return m;const S=getItem({zone:x.sourceZone,index:x.sourceIndex},m);if(!S)return m;const I=getIdsForParent(x.sourceZone,m),j=getIdsForParent(x.destinationZone,m);return walkAppState(m,$.config,(P,C)=>C===x.sourceZone&&C===x.destinationZone?insert(remove(P,x.sourceIndex),x.destinationIndex,S):C===x.sourceZone?remove(P,x.sourceIndex):C===x.destinationZone?insert(P,x.destinationIndex,S):P,(P,C)=>{const[D]=x.sourceZone.split(":"),[A]=x.destinationZone.split(":"),R=P.props.id;return D===R||A===R||S.props.id===R||I.indexOf(R)>-1||j.indexOf(R)>-1||C.includes(x.destinationZone)?P:null})},reorderAction=(m,x,$)=>moveAction(m,{sourceIndex:x.sourceIndex,sourceZone:x.destinationZone,destinationIndex:x.destinationIndex,destinationZone:x.destinationZone},$);init_react_import();var removeAction=(m,x,$)=>{const S=getItem({index:x.index,zone:x.zone},m),I=Object.entries(m.indexes.nodes).reduce((P,[C,D])=>D.path.map(R=>R.split(":")[0]).includes(S.props.id)?[...P,C]:P,[S.props.id]),j=walkAppState(m,$.config,(P,C)=>C===x.zone?remove(P,x.index):P);return Object.keys(j.data.zones||{}).forEach(P=>{const C=P.split(":")[0];I.includes(C)&&j.data.zones&&delete j.data.zones[P]}),Object.keys(j.indexes.zones).forEach(P=>{const C=P.split(":")[0];I.includes(C)&&delete j.indexes.zones[P]}),I.forEach(P=>{delete j.indexes.nodes[P]}),j};init_react_import();var zoneCache={};function registerZoneAction(m,x){return zoneCache[x.zone]?__spreadProps$6(__spreadValues$7({},m),{data:__spreadProps$6(__spreadValues$7({},m.data),{zones:__spreadProps$6(__spreadValues$7({},m.data.zones),{[x.zone]:zoneCache[x.zone]})}),indexes:__spreadProps$6(__spreadValues$7({},m.indexes),{zones:__spreadProps$6(__spreadValues$7({},m.indexes.zones),{[x.zone]:__spreadProps$6(__spreadValues$7({},m.indexes.zones[x.zone]),{contentIds:zoneCache[x.zone].map($=>$.props.id),type:"dropzone"})})})}):__spreadProps$6(__spreadValues$7({},m),{data:setupZone(m.data,x.zone)})}function unregisterZoneAction(m,x){const $=__spreadValues$7({},m.data.zones||{}),S=__spreadValues$7({},m.indexes.zones||{});return $[x.zone]&&(zoneCache[x.zone]=$[x.zone],delete $[x.zone]),delete S[x.zone],__spreadProps$6(__spreadValues$7({},m),{data:__spreadProps$6(__spreadValues$7({},m.data),{zones:$}),indexes:__spreadProps$6(__spreadValues$7({},m.indexes),{zones:S})})}init_react_import();var setDataAction=(m,x,$)=>typeof x.data=="object"?(console.warn("`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),walkAppState(__spreadProps$6(__spreadValues$7({},m),{data:__spreadValues$7(__spreadValues$7({},m.data),x.data)}),$.config)):walkAppState(__spreadProps$6(__spreadValues$7({},m),{data:__spreadValues$7(__spreadValues$7({},m.data),x.data(m.data))}),$.config);init_react_import();var setUiAction=(m,x)=>typeof x.ui=="object"?__spreadProps$6(__spreadValues$7({},m),{ui:__spreadValues$7(__spreadValues$7({},m.ui),x.ui)}):__spreadProps$6(__spreadValues$7({},m),{ui:__spreadValues$7(__spreadValues$7({},m.ui),x.ui(m.ui))});init_react_import();var makeStatePublic=m=>{const{data:x,ui:$}=m;return{data:x,ui:$}};init_react_import();function storeInterceptor(m,x,$){return(S,I)=>{const j=m(S,I),P=!["registerZone","unregisterZone","setData","setUi","set"].includes(I.type);return(typeof I.recordHistory<"u"?I.recordHistory:P)&&x&&x(j),$==null||$(I,makeStatePublic(j),makeStatePublic(S)),j}}function createReducer({record:m,onAction:x,appStore:$}){return storeInterceptor((S,I)=>I.type==="set"?setAction(S,I,$):I.type==="insert"?insertAction(S,I,$):I.type==="replace"?replaceAction(S,I,$):I.type==="replaceRoot"?replaceRootAction(S,I,$):I.type==="duplicate"?duplicateAction(S,I,$):I.type==="reorder"?reorderAction(S,I,$):I.type==="move"?moveAction(S,I,$):I.type==="remove"?removeAction(S,I,$):I.type==="registerZone"?registerZoneAction(S,I):I.type==="unregisterZone"?unregisterZoneAction(S,I):I.type==="setData"?setDataAction(S,I,$):I.type==="setUi"?setUiAction(S,I):S,m,x)}init_react_import();init_react_import();var keyCodeMap={ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",KeyA:"a",KeyB:"b",KeyC:"c",KeyD:"d",KeyE:"e",KeyF:"f",KeyG:"g",KeyH:"h",KeyI:"i",KeyJ:"j",KeyK:"k",KeyL:"l",KeyM:"m",KeyN:"n",KeyO:"o",KeyP:"p",KeyQ:"q",KeyR:"r",KeyS:"s",KeyT:"t",KeyU:"u",KeyV:"v",KeyW:"w",KeyX:"x",KeyY:"y",KeyZ:"z"},useHotkeyStore=create()(subscribeWithSelector(m=>({held:{},hold:x=>m($=>$.held[x]?$:{held:__spreadProps$6(__spreadValues$7({},$.held),{[x]:!0})}),release:x=>m($=>$.held[x]?{held:__spreadProps$6(__spreadValues$7({},$.held),{[x]:!1})}:$),reset:(x={})=>m(()=>({held:x})),triggers:{}}))),monitorHotkeys=m=>{const x=I=>{const j=keyCodeMap[I.code];if(j){useHotkeyStore.getState().hold(j);const{held:P,triggers:C}=useHotkeyStore.getState();Object.values(C).forEach(({combo:D,cb:A})=>{Object.entries(D).every(([k,O])=>O===!!P[k])&&Object.entries(P).every(([k,O])=>O===!!D[k])&&(I.preventDefault(),A())}),j!=="meta"&&j!=="ctrl"&&j!=="shift"&&useHotkeyStore.getState().release(j)}},$=I=>{const j=keyCodeMap[I.code];j&&(j==="meta"?useHotkeyStore.getState().reset():useHotkeyStore.getState().release(j))},S=I=>{document.visibilityState==="hidden"&&useHotkeyStore.getState().reset()};return m.addEventListener("keydown",x),m.addEventListener("keyup",$),m.addEventListener("visibilitychange",S),()=>{m.removeEventListener("keydown",x),m.removeEventListener("keyup",$),m.removeEventListener("visibilitychange",S)}},useMonitorHotkeys=()=>{reactExports.useEffect(()=>monitorHotkeys(document),[])},useHotkey=(m,x)=>{reactExports.useEffect(()=>useHotkeyStore.setState($=>({triggers:__spreadProps$6(__spreadValues$7({},$.triggers),{[`${Object.keys(m).join("+")}`]:{combo:m,cb:x}})})),[])},EMPTY_HISTORY_INDEX=0;function debounce(m,x=300){let $;return(...S)=>{clearTimeout($),$=setTimeout(()=>{m(...S)},x)}}var tidyState=m=>__spreadProps$6(__spreadValues$7({},m),{ui:__spreadProps$6(__spreadValues$7({},m.ui),{field:{focus:null}})}),createHistorySlice=(m,x)=>{const $=debounce(S=>{const{histories:I,index:j}=x().history,P={state:S,id:generateId("history")},C=[...I.slice(0,j+1),P];m({history:__spreadProps$6(__spreadValues$7({},x().history),{histories:C,index:C.length-1})})},250);return{initialAppState:{},index:EMPTY_HISTORY_INDEX,histories:[],hasPast:()=>x().history.index>EMPTY_HISTORY_INDEX,hasFuture:()=>x().history.index<x().history.histories.length-1,prevHistory:()=>{const{history:S}=x();return S.hasPast()?S.histories[S.index-1]:null},nextHistory:()=>{const S=x().history;return S.hasFuture()?S.histories[S.index+1]:null},currentHistory:()=>x().history.histories[x().history.index],back:()=>{var S;const{history:I,dispatch:j}=x();if(I.hasPast()){const P=tidyState(((S=I.prevHistory())==null?void 0:S.state)||I.initialAppState);j({type:"set",state:P}),m({history:__spreadProps$6(__spreadValues$7({},I),{index:I.index-1})})}},forward:()=>{var S;const{history:I,dispatch:j}=x();if(I.hasFuture()){const P=(S=I.nextHistory())==null?void 0:S.state;j({type:"set",state:P?tidyState(P):{}}),m({history:__spreadProps$6(__spreadValues$7({},I),{index:I.index+1})})}},setHistories:S=>{var I;const{dispatch:j,history:P}=x();j({type:"set",state:((I=S[S.length-1])==null?void 0:I.state)||P.initialAppState}),m({history:__spreadProps$6(__spreadValues$7({},P),{histories:S,index:S.length-1})})},setHistoryIndex:S=>{var I;const{dispatch:j,history:P}=x();j({type:"set",state:((I=P.histories[S])==null?void 0:I.state)||P.initialAppState}),m({history:__spreadProps$6(__spreadValues$7({},P),{index:S})})},record:$}};function useRegisterHistorySlice(m,{histories:x,index:$,initialAppState:S}){reactExports.useEffect(()=>m.setState({history:__spreadProps$6(__spreadValues$7({},m.getState().history),{histories:x,index:$,initialAppState:S})}),[x,$,S]);const I=()=>{m.getState().history.back()},j=()=>{m.getState().history.forward()};useHotkey({meta:!0,z:!0},I),useHotkey({meta:!0,shift:!0,z:!0},j),useHotkey({meta:!0,y:!0},j),useHotkey({ctrl:!0,z:!0},I),useHotkey({ctrl:!0,shift:!0,z:!0},j),useHotkey({ctrl:!0,y:!0},j)}init_react_import();var createNodesSlice=(m,x)=>({nodes:{},registerNode:($,S)=>{const I=x().nodes,j={id:$,methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null},P=I.nodes[$];m({nodes:__spreadProps$6(__spreadValues$7({},I),{nodes:__spreadProps$6(__spreadValues$7({},I.nodes),{[$]:__spreadProps$6(__spreadValues$7(__spreadValues$7(__spreadValues$7({},j),P),S),{id:$})})})})},unregisterNode:$=>{const S=x().nodes;if(S.nodes[$]){const j=__spreadValues$7({},S.nodes);delete j[$],m({nodes:__spreadProps$6(__spreadValues$7({},S),{nodes:j})})}}});init_react_import();init_react_import();var flattenData=(m,x)=>{const $=[];return walkAppState(m,x,S=>S,S=>($.push(S),null)),$},createPermissionsSlice=(m,x)=>{const $=(...I)=>__async(void 0,[...I],function*(j={},P){const{state:C,permissions:D,config:A}=x(),{cache:R,globalPermissions:k}=D,O=(Z,F=!1)=>__async(void 0,null,function*(){var L,z,G;const{config:q,state:X,setComponentLoading:M}=x(),W=Z.type==="root"?q.root:q.components[Z.type];if(!W)return;const T=__spreadValues$7(__spreadValues$7({},k),W.permissions);if(W.resolvePermissions){const K=getChanged(Z,(L=R[Z.props.id])==null?void 0:L.lastData);if(Object.values(K).some(J=>J===!0)||F){const J=M(Z.props.id,!0,50),ne=yield W.resolvePermissions(Z,{changed:K,lastPermissions:((z=R[Z.props.id])==null?void 0:z.lastPermissions)||null,permissions:T,appState:makeStatePublic(X),lastData:((G=R[Z.props.id])==null?void 0:G.lastData)||null}),re=x().permissions;m({permissions:__spreadProps$6(__spreadValues$7({},re),{cache:__spreadProps$6(__spreadValues$7({},re.cache),{[Z.props.id]:{lastData:Z,lastPermissions:ne}}),resolvedPermissions:__spreadProps$6(__spreadValues$7({},re.resolvedPermissions),{[Z.props.id]:ne})})}),J()}}}),N=(Z=!1)=>{const{state:F}=x();O({type:"root",props:__spreadProps$6(__spreadValues$7({},F.data.root.props),{id:"root"})},Z)},{item:V,type:U,root:H}=j;V?yield O(V,P):U?flattenData(C,A).filter(Z=>Z.type===U).map(Z=>__async(void 0,null,function*(){yield O(Z,P)})):H?N(P):flattenData(C,A).map(Z=>__async(void 0,null,function*(){yield O(Z,P)}))});return{cache:{},globalPermissions:{drag:!0,edit:!0,delete:!0,duplicate:!0,insert:!0},resolvedPermissions:{},getPermissions:({item:I,type:j,root:P}={})=>{const{config:C,permissions:D}=x(),{globalPermissions:A,resolvedPermissions:R}=D;if(I){const k=C.components[I.type],O=__spreadValues$7(__spreadValues$7({},A),k==null?void 0:k.permissions),N=R[I.props.id];return N?__spreadValues$7(__spreadValues$7({},A),N):O}else if(j){const k=C.components[j];return __spreadValues$7(__spreadValues$7({},A),k==null?void 0:k.permissions)}else if(P){const k=C.root,O=__spreadValues$7(__spreadValues$7({},A),k==null?void 0:k.permissions),N=R.root;return N?__spreadValues$7(__spreadValues$7({},A),N):O}return A},resolvePermissions:$,refreshPermissions:I=>$(I,!0)}},useRegisterPermissionsSlice=(m,x)=>{reactExports.useEffect(()=>{const{permissions:$}=m.getState(),{globalPermissions:S}=$;m.setState({permissions:__spreadProps$6(__spreadValues$7({},$),{globalPermissions:__spreadValues$7(__spreadValues$7({},S),x)})}),$.resolvePermissions()},[x]),reactExports.useEffect(()=>m.subscribe($=>$.state.data,()=>{m.getState().permissions.resolvePermissions()}),[]),reactExports.useEffect(()=>m.subscribe($=>$.config,()=>{m.getState().permissions.resolvePermissions()}),[])};init_react_import();var createFieldsSlice=(m,x)=>({fields:{},loading:!1,lastResolvedData:{},id:void 0}),useRegisterFieldsSlice=(m,x)=>{const $=reactExports.useCallback(S=>__async(void 0,null,function*(){var I,j;const{fields:P,lastResolvedData:C}=m.getState().fields,D=m.getState().state.indexes.nodes,A=D[x||"root"],R=A==null?void 0:A.data,k=A!=null&&A.parentId?D[A.parentId]:null,O=(k==null?void 0:k.data)||null,{getComponentConfig:N,state:V}=m.getState(),U=N(R==null?void 0:R.type);if(!R||!U)return;const H=U.fields||{},Z=U.resolveFields;let F=P;if(S&&(m.setState(L=>({fields:__spreadProps$6(__spreadValues$7({},L.fields),{fields:H,id:x})})),F=H),Z){const L=setTimeout(()=>{m.setState(X=>({fields:__spreadProps$6(__spreadValues$7({},X.fields),{loading:!0})}))},50),z=((I=C.props)==null?void 0:I.id)===x?C:null,G=getChanged(R,z),q=yield Z(R,{changed:G,fields:H,lastFields:F,lastData:z,appState:makeStatePublic(V),parent:O});if(clearTimeout(L),((j=m.getState().selectedItem)==null?void 0:j.props.id)!==x)return;m.setState({fields:{fields:q,loading:!1,lastResolvedData:R,id:x}})}else m.setState(L=>({fields:__spreadProps$6(__spreadValues$7({},L.fields),{fields:H,id:x})}))}),[x]);reactExports.useEffect(()=>($(!0),m.subscribe(S=>S.state.indexes.nodes[x||"root"],()=>$())),[x])};init_react_import();var toRoot=m=>{if("type"in m&&m.type!=="root")throw new Error("Converting non-root item to root.");const{readOnly:x}=m;if(m.props){if("id"in m.props){const $=m.props,{id:S}=$;return{props:__objRest$4($,["id"]),readOnly:x}}return{props:m.props,readOnly:x}}return{props:{},readOnly:x}},defaultPageFields={title:{type:"text"}},createAppStore=m=>create()(subscribeWithSelector((x,$)=>{var S,I;return __spreadProps$6(__spreadValues$7({state:defaultAppState,config:{components:{}},componentState:{},plugins:[],overrides:{},viewports:defaultViewports,zoomConfig:{autoZoom:1,rootHeight:0,zoom:1},status:"LOADING",iframe:{},metadata:{}},m),{fields:createFieldsSlice(),history:createHistorySlice(x,$),nodes:createNodesSlice(x,$),permissions:createPermissionsSlice(x,$),getComponentConfig:j=>{var P;const{config:C,selectedItem:D}=$(),A=((P=C.root)==null?void 0:P.fields)||defaultPageFields;return j&&j!=="root"?C.components[j]:D?C.components[D.type]:__spreadProps$6(__spreadValues$7({},C.root),{fields:A})},selectedItem:(S=m==null?void 0:m.state)!=null&&S.ui.itemSelector?getItem((I=m==null?void 0:m.state)==null?void 0:I.ui.itemSelector,m.state):null,dispatch:j=>x(P=>{var C,D;const{record:A}=$().history,k=createReducer({record:A,appStore:P})(P.state,j),O=k.ui.itemSelector?getItem(k.ui.itemSelector,k):null;return(D=(C=$()).onAction)==null||D.call(C,j,k,$().state),__spreadProps$6(__spreadValues$7({},P),{state:k,selectedItem:O})}),setZoomConfig:j=>x({zoomConfig:j}),setStatus:j=>x({status:j}),setComponentState:j=>x({componentState:j}),pendingLoadTimeouts:{},setComponentLoading:(j,P=!0,C=0)=>{const{setComponentState:D,pendingLoadTimeouts:A}=$(),R=generateId(),k=()=>{var V;const{componentState:U}=$();D(__spreadProps$6(__spreadValues$7({},U),{[j]:__spreadProps$6(__spreadValues$7({},U[j]),{loadingCount:(((V=U[j])==null?void 0:V.loadingCount)||0)+1})}))},O=()=>{var V;const{componentState:U}=$();clearTimeout(N),delete A[R],x({pendingLoadTimeouts:A}),D(__spreadProps$6(__spreadValues$7({},U),{[j]:__spreadProps$6(__spreadValues$7({},U[j]),{loadingCount:Math.max((((V=U[j])==null?void 0:V.loadingCount)||0)-1,0)})}))},N=setTimeout(()=>{P?k():O(),delete A[R],x({pendingLoadTimeouts:A})},C);return x({pendingLoadTimeouts:__spreadProps$6(__spreadValues$7({},A),{[j]:N})}),O},unsetComponentLoading:j=>{const{setComponentLoading:P}=$();P(j,!1)},setUi:(j,P)=>x(C=>{const A=createReducer({record:()=>{},appStore:C})(C.state,{type:"setUi",ui:j,recordHistory:P}),R=A.ui.itemSelector?getItem(A.ui.itemSelector,A):null;return __spreadProps$6(__spreadValues$7({},C),{state:A,selectedItem:R})}),resolveComponentData:(j,P)=>__async(void 0,null,function*(){const{config:C,metadata:D,setComponentLoading:A,permissions:R}=$(),k={};return yield resolveComponentData(j,C,D,O=>{const N="id"in O.props?O.props.id:"root";k[N]=A(N,!0,50)},O=>__async(void 0,null,function*(){const N="id"in O.props?O.props.id:"root";"type"in O?yield R.refreshPermissions({item:O}):yield R.refreshPermissions({root:!0}),k[N]()}),P)}),resolveAndCommitData:()=>__async(void 0,null,function*(){const{config:j,state:P,dispatch:C,resolveComponentData:D}=$();walkAppState(P,j,A=>A,A=>(D(A,"load").then(R=>{const{state:k}=$(),O=k.indexes.nodes[R.node.props.id];if(O&&R.didChange)if(R.node.props.id==="root")C({type:"replaceRoot",root:toRoot(R.node)});else{const N=`${O.parentId}:${O.zone}`,U=k.indexes.zones[N].contentIds.indexOf(R.node.props.id);C({type:"replace",data:R.node,destinationIndex:U,destinationZone:N})}}),A))})})})),appStoreContext=reactExports.createContext(createAppStore());function useAppStore(m){const x=reactExports.useContext(appStoreContext);return useStore(x,m)}function useAppStoreApi(){return reactExports.useContext(appStoreContext)}init_react_import();init_react_import();var touchDefault={delay:{value:200,tolerance:10}},otherDefault={delay:{value:200,tolerance:10},distance:{value:5}},useSensors=({other:m=otherDefault,mouse:x,touch:$=touchDefault}={touch:touchDefault,other:otherDefault})=>{const[S]=reactExports.useState(()=>[PointerSensor.configure({activationConstraints(I,j){var P;const{pointerType:C,target:D}=I;return C==="mouse"&&isElement(D)&&(j.handle===D||(P=j.handle)!=null&&P.contains(D))?x:C==="touch"?$:m}})]);return S};init_react_import();init_react_import();init_react_import();var collisionDebug=(m,x,$,S,I)=>{},distanceChange="increasing",directionalCollision=(m,x)=>{var $;const{dragOperation:S,droppable:I}=m,{shape:j}=I,{position:P}=S,C=($=S.shape)==null?void 0:$.current;if(!C||!j)return null;const D=j.center,A=Math.sqrt(Math.pow(D.x-x.x,2)+Math.pow(D.y-x.y,2)),R=Math.sqrt(Math.pow(D.x-P.current.x,2)+Math.pow(D.y-P.current.y,2));return distanceChange=R===A?distanceChange:R<A?"decreasing":"increasing",collisionDebug(C.center,D,I.id.toString()),distanceChange==="decreasing"?{id:I.id,value:1,type:CollisionType.Collision}:null};init_react_import();var getDirection=(m,x)=>m==="dynamic"?Math.abs(x.y)>Math.abs(x.x)?x.y===0?null:x.y>0?"down":"up":x.x===0?null:x.x>0?"right":"left":m==="x"?x.x===0?null:x.x>0?"right":"left":x.y===0?null:x.y>0?"down":"up";init_react_import();var getMidpointImpact=(m,x,$,S=0)=>{const I=m.boundingRectangle,j=x.center;if($==="down"){const C=S*x.boundingRectangle.height;return I.bottom>=j.y+C}else if($==="up"){const C=S*x.boundingRectangle.height;return I.top<j.y-C}else if($==="left"){const C=S*x.boundingRectangle.width;return j.x-C>=I.left}const P=S*x.boundingRectangle.width;return I.right-P>=j.x};init_react_import();var INTERVAL_SENSITIVITY=10,intervalCache={current:{x:0,y:0},delta:{x:0,y:0},previous:{x:0,y:0},direction:null},trackMovementInterval=(m,x="dynamic")=>(intervalCache.current=m,intervalCache.delta={x:m.x-intervalCache.previous.x,y:m.y-intervalCache.previous.y},intervalCache.direction=getDirection(x,intervalCache.delta)||intervalCache.direction,(Math.abs(intervalCache.delta.x)>INTERVAL_SENSITIVITY||Math.abs(intervalCache.delta.y)>INTERVAL_SENSITIVITY)&&(intervalCache.previous=Point$1.from(m)),intervalCache);init_react_import();var pointerIntersection=({dragOperation:m,droppable:x})=>{const $=m.position.current;if(!$)return null;const{id:S}=x;if(!x.shape)return null;if(x.shape.containsPoint($)){const I=Point$1.distance(x.shape.center,$);return{id:S,value:1/I,type:CollisionType.PointerIntersection,priority:CollisionPriority.High}}return null},closestCorners=m=>{const{dragOperation:x,droppable:$}=m,{shape:S,position:I}=x;if(!$.shape)return null;const j=S?Rectangle.from(S.current.boundingRectangle).corners:void 0,C=Rectangle.from($.shape.boundingRectangle).corners.reduce((D,A,R)=>{var k;return D+Point$1.distance(Point$1.from(A),(k=j==null?void 0:j[R])!=null?k:I.current)},0)/4;return{id:$.id,value:1/C,type:CollisionType.Collision,priority:CollisionPriority.Normal}};init_react_import();var collisionStore=createStore(()=>({fallbackEnabled:!1})),flushNext="",createDynamicCollisionDetector=(m,x=.05)=>$=>{var S,I,j,P,C;const{dragOperation:D,droppable:A}=$,{position:R}=D,k=(S=D.shape)==null?void 0:S.current,{shape:O}=A;if(!k||!O)return null;const{center:N}=k,{fallbackEnabled:V}=collisionStore.getState(),U=trackMovementInterval(R.current,m),H={direction:U.direction},{center:Z}=O,F=getMidpointImpact(k,O,U.direction,x);if(((I=D.source)==null?void 0:I.id)===A.id){const G=directionalCollision($,U.previous);if(collisionDebug(N,Z,A.id.toString()),G)return __spreadProps$6(__spreadValues$7({},G),{priority:CollisionPriority.Highest,data:H})}const L=k.intersectionArea(O),z=L/O.area;if(L&&F){collisionDebug(N,Z,A.id.toString());const G={id:A.id,value:z,priority:CollisionPriority.High,type:CollisionType.Collision},q=flushNext===A.id;return flushNext="",__spreadProps$6(__spreadValues$7({},G),{id:q?"flush":G.id,data:H})}if(V&&((j=D.source)==null?void 0:j.id)!==A.id){const G=O.boundingRectangle.right>k.boundingRectangle.left&&O.boundingRectangle.left<k.boundingRectangle.right,q=O.boundingRectangle.bottom>k.boundingRectangle.top&&O.boundingRectangle.top<k.boundingRectangle.bottom;if(m==="y"&&G||q){const X=closestCorners($);if(X){const M=getDirection(m,{x:k.center.x-(((P=A.shape)==null?void 0:P.center.x)||0),y:k.center.y-(((C=A.shape)==null?void 0:C.center.y)||0)});return H.direction=M,L?(collisionDebug(N,Z,A.id.toString()),flushNext=A.id,__spreadProps$6(__spreadValues$7({},X),{priority:CollisionPriority.Low,data:H})):(collisionDebug(N,Z,A.id.toString()),__spreadProps$6(__spreadValues$7({},X),{priority:CollisionPriority.Lowest,data:H}))}}}return collisionDebug(N,Z,A.id.toString()),null},SortableProvider=({children:m,onDragStart:x,onDragEnd:$,onMove:S})=>{const I=useSensors({mouse:{distance:{value:5}}});return jsxRuntimeExports.jsx(DragDropProvider,{sensors:I,onDragStart:j=>{var P,C;return x((C=(P=j.operation.source)==null?void 0:P.id.toString())!=null?C:"")},onDragOver:(j,P)=>{var C;j.preventDefault();const{operation:D}=j,{source:A,target:R}=D;if(!A||!R)return;let k=A.data.index,O=R.data.index;const N=(C=P.collisionObserver.collisions[0])==null?void 0:C.data;if(k!==O&&A.id!==R.id){const V=(N==null?void 0:N.direction)==="up"?"before":"after";O>=k&&(O=O-1),V==="after"&&(O=O+1),S({source:k,target:O})}},onDragEnd:()=>{setTimeout(()=>{$()},250)},children:m})},Sortable=({id:m,index:x,disabled:$,children:S,type:I="item"})=>{const{ref:j,isDragging:P,isDropping:C,handleRef:D}=useSortable({id:m,type:I,index:x,disabled:$,data:{index:x},collisionDetector:createDynamicCollisionDetector("y")});return S({isDragging:P,isDropping:C,ref:j,handleRef:D})};init_react_import();var NestedFieldContext=reactExports.createContext({}),useNestedFieldContext=()=>{const m=reactExports.useContext(NestedFieldContext);return __spreadProps$6(__spreadValues$7({},m),{readOnlyFields:m.readOnlyFields||{}})},NestedFieldProvider=({children:m,name:x,subName:$,wildcardName:S=x,readOnlyFields:I})=>{const j=`${x}.${$}`,P=`${S}.${$}`,C=reactExports.useMemo(()=>Object.keys(I).reduce((D,A)=>{if(A.indexOf(j)>-1||A.indexOf(P)>-1){const k=new RegExp(`^(${x}|${S}).`.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\./g,"\\.").replace(/\*/g,"\\*")),O=A.replace(k,"");return __spreadProps$6(__spreadValues$7({},D),{[O]:I[A]})}return D},{}),[x,$,S,I]);return jsxRuntimeExports.jsx(NestedFieldContext.Provider,{value:{readOnlyFields:C,localName:$},children:m})},getClassName5=get_class_name_factory_default("ArrayField",styles_module_default3),getClassNameItem=get_class_name_factory_default("ArrayFieldItem",styles_module_default3),ArrayField=({field:m,onChange:x,value:$,name:S,label:I,labelIcon:j,readOnly:P,id:C,Label:D=A=>jsxRuntimeExports.jsx("div",__spreadValues$7({},A))})=>{const A=useAppStore(ne=>ne.state.ui.arrayState[C]),R=useAppStore(ne=>ne.setUi),{readOnlyFields:k,localName:O=S}=useNestedFieldContext(),N=$,V=A||{items:Array.from(N||[]).map((ne,re)=>({_originalIndex:re,_arrayId:`${C}-${re}`})),openId:""},[U,H]=reactExports.useState({arrayState:V,value:N});reactExports.useEffect(()=>{var ne;const re=(ne=Z.getState().state.ui.arrayState[C])!=null?ne:V;H({arrayState:re,value:N})},[N]);const Z=useAppStoreApi(),F=reactExports.useCallback(ne=>{const re=Z.getState().state;return{arrayState:__spreadProps$6(__spreadValues$7({},re.ui.arrayState),{[C]:__spreadValues$7(__spreadValues$7({},V),ne)})}},[V,Z]),L=reactExports.useCallback(()=>V.items.reduce((ne,re)=>re._originalIndex>ne?re._originalIndex:ne,-1),[V]),z=reactExports.useCallback(ne=>{let re=L();const te=Array.from(ne||[]).map((ee,ue)=>{var pe;const ge=V.items[ue],ce={_originalIndex:typeof(ge==null?void 0:ge._originalIndex)<"u"?ge._originalIndex:re+1,_arrayId:((pe=V.items[ue])==null?void 0:pe._arrayId)||`${C}-${re+1}`};return ce._originalIndex>re&&(re=ce._originalIndex),ce});return __spreadProps$6(__spreadValues$7({},V),{items:te})},[V]);reactExports.useEffect(()=>{V.items.length>0&&R(F(V))},[]);const[G,q]=reactExports.useState(""),X=!!G,W=!useAppStore(ne=>ne.permissions.getPermissions({item:ne.selectedItem}).edit),T=reactExports.useRef(N),K=reactExports.useCallback(ne=>{if(m.type!=="array"||!m.arrayFields)return;const re=Z.getState().config;return walkField({value:ne,fields:m.arrayFields,map:te=>te.map(ee=>populateIds(ee,re,!0)),config:re})},[Z,m]);if(m.type!=="array"||!m.arrayFields)return null;const J=m.max!==void 0&&U.arrayState.items.length>=m.max||P;return jsxRuntimeExports.jsx(D,{label:I||S,icon:j||jsxRuntimeExports.jsx(List,{size:16}),el:"div",readOnly:P,children:jsxRuntimeExports.jsx(SortableProvider,{onDragStart:ne=>q(ne),onDragEnd:()=>{q(""),x(T.current)},onMove:ne=>{if(V.items[ne.source]._arrayId!==G)return;const re=reorder(U.value,ne.source,ne.target),te=reorder(V.items,ne.source,ne.target),ee=Z.getState().state,ue={arrayState:__spreadProps$6(__spreadValues$7({},ee.ui.arrayState),{[C]:__spreadProps$6(__spreadValues$7({},V),{items:te})})};R(ue,!1),H({value:re,arrayState:__spreadProps$6(__spreadValues$7({},V),{items:te})}),T.current=re},children:jsxRuntimeExports.jsxs("div",{className:getClassName5({hasItems:Array.isArray(N)&&N.length>0,addDisabled:J}),children:[U.arrayState.items.length>0&&jsxRuntimeExports.jsx("div",{className:getClassName5("inner"),"data-dnd-container":!0,children:U.arrayState.items.map((ne,re)=>{const{_arrayId:te=`${C}-${re}`,_originalIndex:ee=re}=ne,ue=Array.from(U.value||[])[re]||{};return jsxRuntimeExports.jsx(Sortable,{id:te,index:re,disabled:P,children:({isDragging:pe,ref:ge,handleRef:ce})=>jsxRuntimeExports.jsxs("div",{ref:ge,className:getClassNameItem({isExpanded:V.openId===te,isDragging:pe,readOnly:P}),children:[jsxRuntimeExports.jsxs("div",{ref:ce,onClick:de=>{pe||(de.preventDefault(),de.stopPropagation(),V.openId===te?R(F({openId:""})):R(F({openId:te})))},className:getClassNameItem("summary"),children:[m.getItemSummary?m.getItemSummary(ue,re):`Item #${ee}`,jsxRuntimeExports.jsxs("div",{className:getClassNameItem("rhs"),children:[!P&&jsxRuntimeExports.jsxs("div",{className:getClassNameItem("actions"),children:[jsxRuntimeExports.jsx("div",{className:getClassNameItem("action"),children:jsxRuntimeExports.jsx(IconButton,{type:"button",disabled:!!J,onClick:de=>{de.stopPropagation();const ve=[...N||[]],ye=K(ve[re]);ve.splice(re,0,ye);const Ie=F(z(ve));R(Ie,!1),x(ve)},title:"Duplicate",children:jsxRuntimeExports.jsx(Copy,{size:16})})}),jsxRuntimeExports.jsx("div",{className:getClassNameItem("action"),children:jsxRuntimeExports.jsx(IconButton,{type:"button",disabled:m.min!==void 0&&m.min>=U.arrayState.items.length,onClick:de=>{de.stopPropagation();const ve=[...N||[]],ye=[...V.items||[]];ve.splice(re,1),ye.splice(re,1),R(F({items:ye}),!1),x(ve)},title:"Delete",children:jsxRuntimeExports.jsx(Trash,{size:16})})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(DragIcon,{})})]})]}),jsxRuntimeExports.jsx("div",{className:getClassNameItem("body"),children:jsxRuntimeExports.jsx("fieldset",{className:getClassNameItem("fieldset"),children:Object.keys(m.arrayFields).map(de=>{const ve=m.arrayFields[de],Ie=`${`${S}[${re}]`}.${de}`,he=`${O}[${re}]`,De=`${O}[*]`,Ae=`${he}.${de}`,ae=`${De}.${de}`,B=W||(typeof k[Ie]<"u"?k[Ae]:k[ae]),Y=ve.label||de;return jsxRuntimeExports.jsx(NestedFieldProvider,{name:he,wildcardName:De,subName:de,readOnlyFields:k,children:jsxRuntimeExports.jsx(AutoFieldPrivate,{name:Ie,label:Y,id:`${te}_${de}`,readOnly:B,field:__spreadProps$6(__spreadValues$7({},ve),{label:Y}),value:ue[de],onChange:(Q,oe)=>{x(replace(N,re,__spreadProps$6(__spreadValues$7({},ue),{[de]:Q})),oe)}})},Ie)})})})]})},te)})}),!J&&jsxRuntimeExports.jsx("button",{type:"button",className:getClassName5("addButton"),onClick:()=>{var ne;if(X)return;const re=N||[],te=defaultSlots(K((ne=m.defaultItemProps)!=null?ne:{}),m.arrayFields),ee=[...re,te],ue=z(ee);R(F(ue),!1),x(ee)},children:jsxRuntimeExports.jsx(Plus,{size:21})})]})})})};init_react_import();var getClassName6=get_class_name_factory_default("Input",styles_module_default2),DefaultField=({field:m,onChange:x,readOnly:$,value:S,name:I,label:j,labelIcon:P,Label:C,id:D})=>{const A=S;return jsxRuntimeExports.jsx(C,{label:j||I,icon:P||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[m.type==="text"&&jsxRuntimeExports.jsx(Type,{size:16}),m.type==="number"&&jsxRuntimeExports.jsx(Hash,{size:16})]}),readOnly:$,children:jsxRuntimeExports.jsx("input",{className:getClassName6("input"),autoComplete:"off",type:m.type,title:j||I,name:I,value:A!=null&&A.toString?A.toString():"",onChange:R=>{if(m.type==="number"){const k=Number(R.currentTarget.value);if(typeof m.min<"u"&&k<m.min||typeof m.max<"u"&&k>m.max)return;x(k)}else x(R.currentTarget.value)},readOnly:$,tabIndex:$?-1:void 0,id:D,min:m.type==="number"?m.min:void 0,max:m.type==="number"?m.max:void 0,placeholder:m.type==="text"||m.type==="number"?m.placeholder:void 0,step:m.type==="number"?m.step:void 0})})};init_react_import();init_react_import();init_react_import();var styles_module_default6={"ExternalInput-actions":"_ExternalInput-actions_91ls0_1","ExternalInput-button":"_ExternalInput-button_91ls0_5","ExternalInput--dataSelected":"_ExternalInput--dataSelected_91ls0_24","ExternalInput--readOnly":"_ExternalInput--readOnly_91ls0_31","ExternalInput-detachButton":"_ExternalInput-detachButton_91ls0_35",ExternalInput:"_ExternalInput_91ls0_1",ExternalInputModal:"_ExternalInputModal_91ls0_79","ExternalInputModal-grid":"_ExternalInputModal-grid_91ls0_89","ExternalInputModal--filtersToggled":"_ExternalInputModal--filtersToggled_91ls0_100","ExternalInputModal-filters":"_ExternalInputModal-filters_91ls0_105","ExternalInputModal-masthead":"_ExternalInputModal-masthead_91ls0_124","ExternalInputModal-tableWrapper":"_ExternalInputModal-tableWrapper_91ls0_133","ExternalInputModal-table":"_ExternalInputModal-table_91ls0_133","ExternalInputModal-thead":"_ExternalInputModal-thead_91ls0_149","ExternalInputModal-th":"_ExternalInputModal-th_91ls0_149","ExternalInputModal-td":"_ExternalInputModal-td_91ls0_164","ExternalInputModal-tr":"_ExternalInputModal-tr_91ls0_169","ExternalInputModal-tbody":"_ExternalInputModal-tbody_91ls0_176","ExternalInputModal--hasData":"_ExternalInputModal--hasData_91ls0_202","ExternalInputModal-loadingBanner":"_ExternalInputModal-loadingBanner_91ls0_206","ExternalInputModal--isLoading":"_ExternalInputModal--isLoading_91ls0_223","ExternalInputModal-searchForm":"_ExternalInputModal-searchForm_91ls0_227","ExternalInputModal-search":"_ExternalInputModal-search_91ls0_227","ExternalInputModal-searchIcon":"_ExternalInputModal-searchIcon_91ls0_264","ExternalInputModal-searchIconText":"_ExternalInputModal-searchIconText_91ls0_289","ExternalInputModal-searchInput":"_ExternalInputModal-searchInput_91ls0_299","ExternalInputModal-searchActions":"_ExternalInputModal-searchActions_91ls0_313","ExternalInputModal-searchActionIcon":"_ExternalInputModal-searchActionIcon_91ls0_326","ExternalInputModal-footerContainer":"_ExternalInputModal-footerContainer_91ls0_330","ExternalInputModal-footer":"_ExternalInputModal-footer_91ls0_330","ExternalInputModal-field":"_ExternalInputModal-field_91ls0_343"};init_react_import();init_react_import();var styles_module_default7={Modal:"_Modal_ikbaj_1","Modal--isOpen":"_Modal--isOpen_ikbaj_15","Modal-inner":"_Modal-inner_ikbaj_19"},getClassName7=get_class_name_factory_default("Modal",styles_module_default7),Modal=({children:m,onClose:x,isOpen:$})=>{const[S,I]=reactExports.useState(null);return reactExports.useEffect(()=>{I(document.getElementById("puck-portal-root"))},[]),S?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:getClassName7({isOpen:$}),onClick:x,children:jsxRuntimeExports.jsx("div",{className:getClassName7("inner"),onClick:j=>j.stopPropagation(),children:m})}),S):jsxRuntimeExports.jsx("div",{})};init_react_import();init_react_import();var styles_module_default8={Heading:"_Heading_qxrry_1","Heading--xxxxl":"_Heading--xxxxl_qxrry_12","Heading--xxxl":"_Heading--xxxl_qxrry_18","Heading--xxl":"_Heading--xxl_qxrry_22","Heading--xl":"_Heading--xl_qxrry_26","Heading--l":"_Heading--l_qxrry_30","Heading--m":"_Heading--m_qxrry_34","Heading--s":"_Heading--s_qxrry_38","Heading--xs":"_Heading--xs_qxrry_42"},getClassName8=get_class_name_factory_default("Heading",styles_module_default8),Heading=({children:m,rank:x,size:$="m"})=>{const S=x?`h${x}`:"span";return jsxRuntimeExports.jsx(S,{className:getClassName8({[$]:!0}),children:m})};init_react_import();init_react_import();init_react_import();var Button_module_default={Button:"_Button_10byl_1","Button--medium":"_Button--medium_10byl_29","Button--large":"_Button--large_10byl_37","Button-icon":"_Button-icon_10byl_44","Button--primary":"_Button--primary_10byl_48","Button--secondary":"_Button--secondary_10byl_67","Button--flush":"_Button--flush_10byl_84","Button--disabled":"_Button--disabled_10byl_88","Button--fullWidth":"_Button--fullWidth_10byl_95","Button-spinner":"_Button-spinner_10byl_100"};init_react_import();var dataAttrRe=/^(data-.*)$/,filterDataAttrs=m=>{let x={};for(const $ in m)Object.prototype.hasOwnProperty.call(m,$)&&dataAttrRe.test($)&&(x[$]=m[$]);return x},getClassName9=get_class_name_factory_default("Button",Button_module_default),Button=m=>{var x=m,{children:$,href:S,onClick:I,variant:j="primary",type:P,disabled:C,tabIndex:D,newTab:A,fullWidth:R,icon:k,size:O="medium",loading:N=!1}=x,V=__objRest$4(x,["children","href","onClick","variant","type","disabled","tabIndex","newTab","fullWidth","icon","size","loading"]);const[U,H]=reactExports.useState(N);reactExports.useEffect(()=>H(N),[N]);const Z=S?"a":P?"button":"span",F=filterDataAttrs(V);return jsxRuntimeExports.jsxs(Z,__spreadProps$6(__spreadValues$7({className:getClassName9({primary:j==="primary",secondary:j==="secondary",disabled:C,fullWidth:R,[O]:!0}),onClick:z=>{I&&(H(!0),Promise.resolve(I(z)).then(()=>{H(!1)}))},type:P,disabled:C||U,tabIndex:D,target:A?"_blank":void 0,rel:A?"noreferrer":void 0,href:S},F),{children:[k&&jsxRuntimeExports.jsx("div",{className:getClassName9("icon"),children:k}),$,U&&jsxRuntimeExports.jsx("div",{className:getClassName9("spinner"),children:jsxRuntimeExports.jsx(Loader,{size:14})})]}))},getClassName10=get_class_name_factory_default("ExternalInput",styles_module_default6),getClassNameModal=get_class_name_factory_default("ExternalInputModal",styles_module_default6),dataCache={},ExternalInput=({field:m,onChange:x,value:$=null,name:S,id:I,readOnly:j})=>{const{mapProp:P=T=>T,mapRow:C=T=>T,filterFields:D}=m||{},[A,R]=reactExports.useState([]),[k,O]=reactExports.useState(!1),[N,V]=reactExports.useState(!0),U=!!D,[H,Z]=reactExports.useState(m.initialFilters||{}),[F,L]=reactExports.useState(U),z=reactExports.useMemo(()=>A.map(C),[A]),G=reactExports.useMemo(()=>{const T=new Set;for(const K of z)for(const J of Object.keys(K))(typeof K[J]=="string"||typeof K[J]=="number"||reactExports.isValidElement(K[J]))&&T.add(J);return Array.from(T)},[z]),[q,X]=reactExports.useState(m.initialQuery||""),M=reactExports.useCallback((T,K)=>__async(void 0,null,function*(){V(!0);const J=`${I}-${T}-${JSON.stringify(K)}`,ne=dataCache[J]||(yield m.fetchList({query:T,filters:K}));ne&&(R(ne),V(!1),dataCache[J]=ne)}),[I,m]),W=reactExports.useCallback(T=>m.renderFooter?m.renderFooter(T):jsxRuntimeExports.jsxs("span",{className:getClassNameModal("footer"),children:[T.items.length," result",T.items.length===1?"":"s"]}),[m.renderFooter]);return reactExports.useEffect(()=>{M(q,H)},[]),jsxRuntimeExports.jsxs("div",{className:getClassName10({dataSelected:!!$,modalVisible:k,readOnly:j}),id:I,children:[jsxRuntimeExports.jsxs("div",{className:getClassName10("actions"),children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>O(!0),className:getClassName10("button"),disabled:j,children:$?m.getItemSummary?m.getItemSummary($):"External item":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{size:"16"}),jsxRuntimeExports.jsx("span",{children:m.placeholder})]})}),$&&jsxRuntimeExports.jsx("button",{type:"button",className:getClassName10("detachButton"),onClick:()=>{x(null)},disabled:j,children:jsxRuntimeExports.jsx(LockOpen,{size:16})})]}),jsxRuntimeExports.jsx(Modal,{onClose:()=>O(!1),isOpen:k,children:jsxRuntimeExports.jsxs("form",{className:getClassNameModal({isLoading:N,loaded:!N,hasData:z.length>0,filtersToggled:F}),onSubmit:T=>{T.preventDefault(),M(q,H)},children:[jsxRuntimeExports.jsx("div",{className:getClassNameModal("masthead"),children:m.showSearch?jsxRuntimeExports.jsxs("div",{className:getClassNameModal("searchForm"),children:[jsxRuntimeExports.jsxs("label",{className:getClassNameModal("search"),children:[jsxRuntimeExports.jsx("span",{className:getClassNameModal("searchIconText"),children:"Search"}),jsxRuntimeExports.jsx("div",{className:getClassNameModal("searchIcon"),children:jsxRuntimeExports.jsx(Search,{size:"18"})}),jsxRuntimeExports.jsx("input",{className:getClassNameModal("searchInput"),name:"q",type:"search",placeholder:m.placeholder,onChange:T=>{X(T.currentTarget.value)},autoComplete:"off",value:q})]}),jsxRuntimeExports.jsxs("div",{className:getClassNameModal("searchActions"),children:[jsxRuntimeExports.jsx(Button,{type:"submit",loading:N,fullWidth:!0,children:"Search"}),U&&jsxRuntimeExports.jsx("div",{className:getClassNameModal("searchActionIcon"),children:jsxRuntimeExports.jsx(IconButton,{type:"button",title:"Toggle filters",onClick:T=>{T.preventDefault(),T.stopPropagation(),L(!F)},children:jsxRuntimeExports.jsx(SlidersHorizontal,{size:20})})})]})]}):jsxRuntimeExports.jsx(Heading,{rank:"2",size:"xs",children:m.placeholder||"Select data"})}),jsxRuntimeExports.jsxs("div",{className:getClassNameModal("grid"),children:[U&&jsxRuntimeExports.jsx("div",{className:getClassNameModal("filters"),children:U&&Object.keys(D).map(T=>{const K=D[T];return jsxRuntimeExports.jsx("div",{className:getClassNameModal("field"),children:jsxRuntimeExports.jsx(AutoFieldPrivate,{field:K,name:T,id:`external_field_${T}_filter`,label:K.label||T,value:H[T],onChange:J=>{const ne=__spreadProps$6(__spreadValues$7({},H),{[T]:J});Z(ne),M(q,ne)}})},T)})}),jsxRuntimeExports.jsxs("div",{className:getClassNameModal("tableWrapper"),children:[jsxRuntimeExports.jsxs("table",{className:getClassNameModal("table"),children:[jsxRuntimeExports.jsx("thead",{className:getClassNameModal("thead"),children:jsxRuntimeExports.jsx("tr",{className:getClassNameModal("tr"),children:G.map(T=>jsxRuntimeExports.jsx("th",{className:getClassNameModal("th"),style:{textAlign:"left"},children:T},T))})}),jsxRuntimeExports.jsx("tbody",{className:getClassNameModal("tbody"),children:z.map((T,K)=>jsxRuntimeExports.jsx("tr",{style:{whiteSpace:"nowrap"},className:getClassNameModal("tr"),onClick:()=>{x(P(A[K])),O(!1)},children:G.map(J=>jsxRuntimeExports.jsx("td",{className:getClassNameModal("td"),children:T[J]},J))},K))})]}),jsxRuntimeExports.jsx("div",{className:getClassNameModal("loadingBanner"),children:jsxRuntimeExports.jsx(Loader,{size:24})})]})]}),jsxRuntimeExports.jsx("div",{className:getClassNameModal("footerContainer"),children:jsxRuntimeExports.jsx(W,{items:z})})]})})]})},ExternalField=({field:m,onChange:x,value:$,name:S,label:I,labelIcon:j,Label:P,id:C,readOnly:D})=>{var A,R,k;const O=m,N=m;return reactExports.useEffect(()=>{N.adaptor&&console.error("Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.")},[]),m.type!=="external"?null:jsxRuntimeExports.jsx(P,{label:I||S,icon:j||jsxRuntimeExports.jsx(Link,{size:16}),el:"div",children:jsxRuntimeExports.jsx(ExternalInput,{name:S,field:__spreadProps$6(__spreadValues$7({},O),{placeholder:(A=N.adaptor)!=null&&A.name?`Select from ${N.adaptor.name}`:O.placeholder||"Select data",mapProp:((R=N.adaptor)==null?void 0:R.mapProp)||O.mapProp,mapRow:O.mapRow,fetchList:(k=N.adaptor)!=null&&k.fetchList?()=>__async(void 0,null,function*(){return yield N.adaptor.fetchList(N.adaptorParams)}):O.fetchList}),onChange:x,value:$,id:C,readOnly:D})})};init_react_import();init_react_import();var safeJsonParse=m=>{try{return JSON.parse(m)}catch{return m}},getClassName11=get_class_name_factory_default("Input",styles_module_default2),RadioField=({field:m,onChange:x,readOnly:$,value:S,name:I,id:j,label:P,labelIcon:C,Label:D})=>{const A=reactExports.useMemo(()=>m.type==="radio"?m.options.map(({value:R})=>R):[],[m]);return m.type!=="radio"||!m.options?null:jsxRuntimeExports.jsx(D,{icon:C||jsxRuntimeExports.jsx(CircleCheckBig,{size:16}),label:P||I,readOnly:$,el:"div",children:jsxRuntimeExports.jsx("div",{className:getClassName11("radioGroupItems"),id:j,children:m.options.map(R=>jsxRuntimeExports.jsxs("label",{className:getClassName11("radio"),children:[jsxRuntimeExports.jsx("input",{type:"radio",className:getClassName11("radioInput"),value:R.value,name:I,onChange:k=>{var O;const N=(O=safeJsonParse(k.target.value))!=null?O:k.target.value;A.indexOf(N)>-1?x(N):x(k.target.value)},disabled:$,checked:S===R.value}),jsxRuntimeExports.jsx("div",{className:getClassName11("radioInner"),children:R.label||R.value})]},R.label+R.value))})})};init_react_import();var getClassName12=get_class_name_factory_default("Input",styles_module_default2),SelectField=({field:m,onChange:x,label:$,labelIcon:S,Label:I,value:j,name:P,readOnly:C,id:D})=>{const A=reactExports.useMemo(()=>m.type==="select"?m.options.map(({value:R})=>R):[],[m]);return m.type!=="select"||!m.options?null:jsxRuntimeExports.jsx(I,{label:$||P,icon:S||jsxRuntimeExports.jsx(ChevronDown,{size:16}),readOnly:C,children:jsxRuntimeExports.jsx("select",{id:D,title:$||P,className:getClassName12("input"),disabled:C,onChange:R=>{var k;const O=(k=safeJsonParse(R.target.value))!=null?k:R.target.value;A.indexOf(O)>-1?x(O):x(R.target.value)},value:j,children:m.options.map(R=>jsxRuntimeExports.jsx("option",{label:R.label,value:R.value},R.label+R.value))})})};init_react_import();var getClassName13=get_class_name_factory_default("Input",styles_module_default2),TextareaField=({field:m,onChange:x,readOnly:$,value:S,name:I,label:j,labelIcon:P,Label:C,id:D})=>jsxRuntimeExports.jsx(C,{label:j||I,icon:P||jsxRuntimeExports.jsx(Type,{size:16}),readOnly:$,children:jsxRuntimeExports.jsx("textarea",{id:D,className:getClassName13("input"),autoComplete:"off",name:I,value:typeof S>"u"?"":S,onChange:A=>x(A.currentTarget.value),readOnly:$,tabIndex:$?-1:void 0,rows:5,placeholder:m.type==="textarea"?m.placeholder:void 0})});init_react_import();init_react_import();var styles_module_default9={ObjectField:"_ObjectField_1ua3y_5","ObjectField-fieldset":"_ObjectField-fieldset_1ua3y_13"},getClassName14=get_class_name_factory_default("ObjectField",styles_module_default9),ObjectField=({field:m,onChange:x,value:$,name:S,label:I,labelIcon:j,Label:P,readOnly:C,id:D})=>{const{readOnlyFields:A,localName:R=S}=useNestedFieldContext();if(m.type!=="object"||!m.objectFields)return null;const k=$||{};return jsxRuntimeExports.jsx(P,{label:I||S,icon:j||jsxRuntimeExports.jsx(EllipsisVertical,{size:16}),el:"div",readOnly:C,children:jsxRuntimeExports.jsx("div",{className:getClassName14(),children:jsxRuntimeExports.jsx("fieldset",{className:getClassName14("fieldset"),children:Object.keys(m.objectFields).map(O=>{const N=m.objectFields[O],V=`${S}.${O}`,U=`${R||S}.${O}`,H=C||A[U],Z=N.label||O;return jsxRuntimeExports.jsx(NestedFieldProvider,{name:R||D,subName:O,readOnlyFields:A,children:jsxRuntimeExports.jsx(AutoFieldPrivate,{name:V,label:V,id:`${D}_${O}`,readOnly:H,field:__spreadProps$6(__spreadValues$7({},N),{label:Z}),value:k[O],onChange:(F,L)=>{x(__spreadProps$6(__spreadValues$7({},k),{[O]:F}),L)}})},V)})})})})};init_react_import();var useSafeId=()=>{if(typeof React.useId<"u")return React.useId();const[m]=reactExports.useState(generateId());return m},getClassName15=get_class_name_factory_default("Input",styles_module_default2),getClassNameWrapper=get_class_name_factory_default("InputWrapper",styles_module_default2),FieldLabel=({children:m,icon:x,label:$,el:S="label",readOnly:I,className:j})=>{const P=S;return jsxRuntimeExports.jsxs(P,{className:j,children:[jsxRuntimeExports.jsxs("div",{className:getClassName15("label"),children:[x?jsxRuntimeExports.jsx("div",{className:getClassName15("labelIcon"),children:x}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),$,I&&jsxRuntimeExports.jsx("div",{className:getClassName15("disabledIcon"),title:"Read-only",children:jsxRuntimeExports.jsx(Lock,{size:"12"})})]}),m]})},FieldLabelInternal=({children:m,icon:x,label:$,el:S="label",readOnly:I})=>{const j=useAppStore(C=>C.overrides),P=reactExports.useMemo(()=>j.fieldLabel||FieldLabel,[j]);return $?jsxRuntimeExports.jsx(P,{label:$,icon:x,className:getClassName15({readOnly:I}),readOnly:I,el:S,children:m}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:m})};function AutoFieldInternal(m){var x,$,S,I,j,P,C,D;const A=useAppStore(J=>J.dispatch),R=useAppStore(J=>J.overrides),k=useAppStore(J=>{var ne;return(ne=J.selectedItem)==null?void 0:ne.readOnly}),O=reactExports.useContext(NestedFieldContext),{id:N,Label:V=FieldLabelInternal}=m,U=m.field,H=U.label,Z=U.labelIcon,F=useSafeId(),L=N||F,z={array:ArrayField,external:ExternalField,object:ObjectField,select:SelectField,textarea:TextareaField,radio:RadioField,text:DefaultField,number:DefaultField},G=__spreadProps$6(__spreadValues$7({},R.fieldTypes),{array:((x=R.fieldTypes)==null?void 0:x.array)||z.array,external:(($=R.fieldTypes)==null?void 0:$.external)||z.external,object:((S=R.fieldTypes)==null?void 0:S.object)||z.object,select:((I=R.fieldTypes)==null?void 0:I.select)||z.select,textarea:((j=R.fieldTypes)==null?void 0:j.textarea)||z.textarea,radio:((P=R.fieldTypes)==null?void 0:P.radio)||z.radio,text:((C=R.fieldTypes)==null?void 0:C.text)||z.text,number:((D=R.fieldTypes)==null?void 0:D.number)||z.number}),q=__spreadProps$6(__spreadValues$7({},m),{field:U,label:H,labelIcon:Z,Label:V,id:L}),X=reactExports.useCallback(J=>{q.name&&(J.target.nodeName==="INPUT"||J.target.nodeName==="TEXTAREA")&&(J.stopPropagation(),A({type:"setUi",ui:{field:{focus:q.name}}}))},[q.name]),M=reactExports.useCallback(J=>{"name"in J.target&&A({type:"setUi",ui:{field:{focus:null}}})},[]),{visible:W=!0}=m.field;if(!W||U.type==="slot")return null;if(U.type==="custom"){if(!U.render)return null;const J=U.render;return jsxRuntimeExports.jsx("div",{className:getClassNameWrapper(),onFocus:X,onBlur:M,children:jsxRuntimeExports.jsx("div",{className:getClassName15(),children:jsxRuntimeExports.jsx(J,__spreadValues$7({},q))})})}const T=z[U.type](q),K=G[U.type];return jsxRuntimeExports.jsx(NestedFieldContext.Provider,{value:{readOnlyFields:O.readOnlyFields||k||{},localName:O.localName},children:jsxRuntimeExports.jsx("div",{className:getClassNameWrapper(),onFocus:X,onBlur:M,onClick:J=>{J.stopPropagation()},children:jsxRuntimeExports.jsx(K,__spreadProps$6(__spreadValues$7({},q),{children:T}))})})}function AutoFieldPrivate(m){const x=useAppStore(D=>D.state.ui.field.focus===m.name),{value:$,onChange:S}=m,[I,j]=reactExports.useState($),P=reactExports.useCallback((D,A)=>{j(D),S(D,A)},[S]);reactExports.useEffect(()=>{x||j($)},[$]),reactExports.useEffect(()=>{x||$!==I&&j($)},[x,$,I]);const C={value:I,onChange:P};return jsxRuntimeExports.jsx(AutoFieldInternal,__spreadValues$7(__spreadValues$7({},m),C))}init_react_import();init_react_import();var styles_module_default10={Drawer:"_Drawer_pl7z0_1","Drawer-draggable":"_Drawer-draggable_pl7z0_8","Drawer-draggableBg":"_Drawer-draggableBg_pl7z0_12","DrawerItem-draggable":"_DrawerItem-draggable_pl7z0_22","DrawerItem--disabled":"_DrawerItem--disabled_pl7z0_35",DrawerItem:"_DrawerItem_pl7z0_22","Drawer--isDraggingFrom":"_Drawer--isDraggingFrom_pl7z0_45","DrawerItem-name":"_DrawerItem-name_pl7z0_63"};init_react_import();init_react_import();init_react_import();init_react_import();var styles_module_default11={DraggableComponent:"_DraggableComponent_qzbgx_1","DraggableComponent-overlay":"_DraggableComponent-overlay_qzbgx_12","DraggableComponent-loadingOverlay":"_DraggableComponent-loadingOverlay_qzbgx_29","DraggableComponent--hover":"_DraggableComponent--hover_qzbgx_45","DraggableComponent--isLocked":"_DraggableComponent--isLocked_qzbgx_45","DraggableComponent--isSelected":"_DraggableComponent--isSelected_qzbgx_54","DraggableComponent-actionsOverlay":"_DraggableComponent-actionsOverlay_qzbgx_66","DraggableComponent-actions":"_DraggableComponent-actions_qzbgx_66"};init_react_import();function getDeepScrollPosition(m){let x={x:0,y:0},$=m;for(;$&&$!==document.documentElement;){const S=$.parentElement;S&&(x.x+=S.scrollLeft,x.y+=S.scrollTop),$=S}return x}init_react_import();var dropZoneContext=reactExports.createContext(null),ZoneStoreContext=reactExports.createContext(createStore(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),ZoneStoreProvider=({children:m,store:x})=>jsxRuntimeExports.jsx(ZoneStoreContext.Provider,{value:x,children:m}),DropZoneProvider=({children:m,value:x})=>{const $=useAppStore(P=>P.dispatch),S=reactExports.useCallback(P=>{$({type:"registerZone",zone:P})},[$]),I=reactExports.useCallback(P=>{$({type:"unregisterZone",zone:P})},[$]),j=reactExports.useMemo(()=>__spreadValues$7({registerZone:S,unregisterZone:I},x),[x]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j&&jsxRuntimeExports.jsx(dropZoneContext.Provider,{value:j,children:m})})};init_react_import();function accumulateTransform(m){let x=new DOMMatrixReadOnly,$=m.parentElement;for(;$&&$!==document.documentElement;){const S=getComputedStyle($).transform;S&&S!=="none"&&(x=new DOMMatrixReadOnly(S).multiply(x)),$=$.parentElement}return{scaleX:x.a,scaleY:x.d}}init_react_import();function useContextStore(m,x){const $=reactExports.useContext(m);if(!$)throw new Error("useContextStore must be used inside context");return useStore($,useShallow(x))}init_react_import();var useOnDragFinished=(m,x=[])=>{const $=useAppStoreApi();return reactExports.useCallback(()=>{let S=()=>{};const I=P=>{P?m(!1):(setTimeout(()=>{m(!0)},0),S&&S())},j=$.getState().state.ui.isDragging;return I(j),j&&(S=$.subscribe(P=>P.state.ui.isDragging,P=>{I(P)})),S},[$,...x])},getClassName16=get_class_name_factory_default("DraggableComponent",styles_module_default11),space=8,actionsOverlayTop=space*6.5,actionsTop=-44,actionsSide=space,DefaultActionBar=({label:m,children:x,parentAction:$})=>jsxRuntimeExports.jsxs(ActionBar,{children:[jsxRuntimeExports.jsxs(ActionBar.Group,{children:[$,m&&jsxRuntimeExports.jsx(ActionBar.Label,{label:m})]}),jsxRuntimeExports.jsx(ActionBar.Group,{children:x})]}),DraggableComponent=({children:m,depth:x,componentType:$,id:S,index:I,zoneCompound:j,isLoading:P=!1,isSelected:C=!1,debug:D,label:A,autoDragAxis:R,userDragAxis:k,inDroppableZone:O=!0})=>{const N=useAppStore(se=>{var _e;return((_e=se.selectedItem)==null?void 0:_e.props.id)===S?se.zoomConfig.zoom:1}),V=useAppStore(se=>se.overrides),U=useAppStore(se=>se.dispatch),H=useAppStore(se=>se.iframe),Z=reactExports.useContext(dropZoneContext),[F,L]=reactExports.useState({}),z=reactExports.useCallback((se,_e)=>{var fe;(fe=Z==null?void 0:Z.registerLocalZone)==null||fe.call(Z,se,_e),L(xe=>__spreadProps$6(__spreadValues$7({},xe),{[se]:_e}))},[L]),G=reactExports.useCallback(se=>{var _e;(_e=Z==null?void 0:Z.unregisterLocalZone)==null||_e.call(Z,se),L(fe=>{const xe=__spreadValues$7({},fe);return delete xe[se],xe})},[L]),q=Object.values(F).filter(Boolean).length>0,X=useAppStore(useShallow(se=>{var _e;return(_e=se.state.indexes.nodes[S])==null?void 0:_e.path})),M=useAppStore(useShallow(se=>{const _e=getItem({index:I,zone:j},se.state);return se.permissions.getPermissions({item:_e})})),W=reactExports.useContext(ZoneStoreContext),[T,K]=reactExports.useState(k||R),J=reactExports.useMemo(()=>createDynamicCollisionDetector(T),[T]),{ref:ne,isDragging:re,sortable:te}=useSortable({id:S,index:I,group:j,type:"component",data:{areaId:Z==null?void 0:Z.areaId,zone:j,index:I,componentType:$,containsActiveZone:q,depth:x,path:X||[],inDroppableZone:O},collisionPriority:x,collisionDetector:J,transition:{duration:200,easing:"cubic-bezier(0.2, 0, 0, 1)"},feedback:"clone"});reactExports.useEffect(()=>{const se=W.getState().enabledIndex[j];te.droppable.disabled=!se,te.draggable.disabled=!M.drag;const _e=W.subscribe(fe=>{te.droppable.disabled=!fe.enabledIndex[j]});return ee.current&&!M.drag?(ee.current.setAttribute("data-puck-disabled",""),()=>{var fe;(fe=ee.current)==null||fe.removeAttribute("data-puck-disabled"),_e()}):_e},[M.drag,j]);const ee=reactExports.useRef(null),ue=reactExports.useCallback(se=>{ne(se),se&&(ee.current=se)},[ne]),[pe,ge]=reactExports.useState();reactExports.useEffect(()=>{var se,_e,fe;ge(H.enabled?(se=ee.current)==null?void 0:se.ownerDocument.body:(fe=(_e=ee.current)==null?void 0:_e.closest("[data-puck-preview]"))!=null?fe:document.body)},[H.enabled,ee.current]);const ce=reactExports.useCallback(()=>{var se,_e,fe;if(!ee.current)return;const xe=ee.current.getBoundingClientRect(),we=getDeepScrollPosition(ee.current),je=H.enabled?null:(se=ee.current)==null?void 0:se.closest("[data-puck-preview]"),Pe=je==null?void 0:je.getBoundingClientRect(),Te=je?getDeepScrollPosition(je):{x:0,y:0},Oe={x:we.x-Te.x-((_e=Pe==null?void 0:Pe.left)!=null?_e:0),y:we.y-Te.y-((fe=Pe==null?void 0:Pe.top)!=null?fe:0)},Ne={height:ee.current.offsetHeight,width:ee.current.offsetWidth},Me=accumulateTransform(ee.current);return{left:`${(xe.left+Oe.x)/Me.scaleX}px`,top:`${(xe.top+Oe.y)/Me.scaleY}px`,height:`${Ne.height}px`,width:`${Ne.width}px`}},[ee.current]),[de,ve]=reactExports.useState(),ye=reactExports.useCallback(()=>{ve(ce())},[ee.current,H]);reactExports.useEffect(()=>{if(ee.current){const se=new ResizeObserver(ye);return se.observe(ee.current),()=>{se.disconnect()}}},[ee.current]);const Ie=useAppStore(se=>se.nodes.registerNode),he=reactExports.useCallback(()=>{$e(!1)},[]),De=reactExports.useCallback(()=>{$e(!0)},[]);reactExports.useEffect(()=>{var se;return Ie(S,{methods:{sync:ye,showOverlay:De,hideOverlay:he},element:(se=ee.current)!=null?se:null}),()=>{Ie(S,{methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null})}},[S,j,I,$,ye]);const Ae=reactExports.useMemo(()=>V.actionBar||DefaultActionBar,[V.actionBar]),ae=reactExports.useCallback(se=>{se.stopPropagation(),U({type:"setUi",ui:{itemSelector:{index:I,zone:j}}})},[I,j,S]),B=useAppStoreApi(),Y=reactExports.useCallback(()=>{const{nodes:se,zones:_e}=B.getState().state.indexes,fe=se[S],xe=fe!=null&&fe.parentId?se[fe==null?void 0:fe.parentId]:null;if(!xe||!fe.parentId)return;const we=`${xe.parentId}:${xe.zone}`,je=_e[we].contentIds.indexOf(fe.parentId);U({type:"setUi",ui:{itemSelector:{zone:we,index:je}}})},[Z,X]),Q=reactExports.useCallback(()=>{U({type:"duplicate",sourceIndex:I,sourceZone:j})},[I,j]),oe=reactExports.useCallback(()=>{U({type:"remove",index:I,zone:j})},[I,j]),[ie,le]=reactExports.useState(!1),me=useContextStore(ZoneStoreContext,se=>se.hoveringComponent===S);reactExports.useEffect(()=>{if(!ee.current)return;const se=ee.current,_e=xe=>{const we=!!W.getState().draggedItem;le(we?!!re:!0),xe.stopPropagation()},fe=xe=>{xe.stopPropagation(),le(!1)};return se.setAttribute("data-puck-component",S),se.setAttribute("data-puck-dnd",S),se.style.position="relative",se.addEventListener("click",ae),se.addEventListener("mouseover",_e),se.addEventListener("mouseout",fe),()=>{se.removeAttribute("data-puck-component"),se.removeAttribute("data-puck-dnd"),se.removeEventListener("click",ae),se.removeEventListener("mouseover",_e),se.removeEventListener("mouseout",fe)}},[ee,ae,q,j,S,re,O]);const[be,$e]=reactExports.useState(!1),[ke,Ce]=reactExports.useState(!0),[Re,Se]=reactExports.useTransition();reactExports.useEffect(()=>{Se(()=>{ie||me||C?(ye(),$e(!0),Le(!1)):$e(!1)})},[ie,me,C,H]);const[Ee,Le]=reactExports.useState(!1),Ve=useOnDragFinished(se=>{se?Se(()=>{ye(),Ce(!0)}):Ce(!1)});reactExports.useEffect(()=>{re&&Le(!0)},[re]),reactExports.useEffect(()=>{if(Ee)return Ve()},[Ee,Ve]);const Be=reactExports.useCallback(se=>{if(se&&se.ownerDocument.defaultView){const fe=se.getBoundingClientRect(),we=fe.x<0,Pe=fe.y<0;we&&(se.style.transformOrigin="left top",se.style.left="0px"),Pe&&(se.style.top="12px",we||(se.style.transformOrigin="right top"))}},[N]);reactExports.useEffect(()=>{if(k){K(k);return}if(ee.current){const se=window.getComputedStyle(ee.current);if(se.display==="inline"||se.display==="inline-block"){K("x");return}}K(R)},[ee,k,R]);const ze=reactExports.useMemo(()=>(Z==null?void 0:Z.areaId)&&(Z==null?void 0:Z.areaId)!=="root"&&jsxRuntimeExports.jsx(ActionBar.Action,{onClick:Y,label:"Select parent",children:jsxRuntimeExports.jsx(CornerLeftUp,{size:16})}),[Z==null?void 0:Z.areaId]),He=reactExports.useMemo(()=>__spreadProps$6(__spreadValues$7({},Z),{areaId:S,zoneCompound:j,index:I,depth:x+1,registerLocalZone:z,unregisterLocalZone:G}),[Z,S,j,I,x,z,G]);return jsxRuntimeExports.jsxs(DropZoneProvider,{value:He,children:[ke&&be&&reactDomExports.createPortal(jsxRuntimeExports.jsxs("div",{className:getClassName16({isSelected:C,isDragging:re,hover:ie||me}),style:__spreadValues$7({},de),"data-puck-overlay":!0,children:[D,P&&jsxRuntimeExports.jsx("div",{className:getClassName16("loadingOverlay"),children:jsxRuntimeExports.jsx(Loader,{})}),jsxRuntimeExports.jsx("div",{className:getClassName16("actionsOverlay"),style:{top:actionsOverlayTop/N},children:jsxRuntimeExports.jsx("div",{className:getClassName16("actions"),style:{transform:`scale(${1/N}`,top:actionsTop/N,right:0,paddingLeft:actionsSide,paddingRight:actionsSide},ref:Be,children:jsxRuntimeExports.jsxs(Ae,{parentAction:ze,label:A,children:[M.duplicate&&jsxRuntimeExports.jsx(ActionBar.Action,{onClick:Q,label:"Duplicate",children:jsxRuntimeExports.jsx(Copy,{size:16})}),M.delete&&jsxRuntimeExports.jsx(ActionBar.Action,{onClick:oe,label:"Delete",children:jsxRuntimeExports.jsx(Trash,{size:16})})]})})}),jsxRuntimeExports.jsx("div",{className:getClassName16("overlay")})]}),pe||document.body),m(ue)]})};init_react_import();var styles_module_default12={DropZone:"_DropZone_1i2sv_1","DropZone--hasChildren":"_DropZone--hasChildren_1i2sv_11","DropZone--isAreaSelected":"_DropZone--isAreaSelected_1i2sv_24","DropZone--hoveringOverArea":"_DropZone--hoveringOverArea_1i2sv_25","DropZone--isRootZone":"_DropZone--isRootZone_1i2sv_25","DropZone--isDestination":"_DropZone--isDestination_1i2sv_35","DropZone-item":"_DropZone-item_1i2sv_47","DropZone-hitbox":"_DropZone-hitbox_1i2sv_51","DropZone--isEnabled":"_DropZone--isEnabled_1i2sv_59","DropZone--isAnimating":"_DropZone--isAnimating_1i2sv_68"};init_react_import();var getNumItems=(m,x)=>m.getState().state.indexes.zones[x].contentIds.length,useMinEmptyHeight=({zoneCompound:m,userMinEmptyHeight:x,ref:$})=>{const S=useAppStoreApi(),[I,j]=reactExports.useState(0),[P,C]=reactExports.useState(!1),{draggedItem:D,isZone:A}=useContextStore(ZoneStoreContext,O=>{var N,V;return{draggedItem:((N=O.draggedItem)==null?void 0:N.data.zone)===m?O.draggedItem:null,isZone:((V=O.draggedItem)==null?void 0:V.data.zone)===m}}),R=reactExports.useRef(0),k=useOnDragFinished(O=>{var N;if(O){const V=getNumItems(S,m);if(j(0),V||R.current===0){C(!1);return}const U=S.getState().selectedItem,H=S.getState().state.indexes.zones,Z=S.getState().nodes;(N=Z.nodes[U==null?void 0:U.props.id])==null||N.methods.hideOverlay(),setTimeout(()=>{var F;(((F=H[m])==null?void 0:F.contentIds)||[]).forEach(z=>{const G=Z.nodes[z];G==null||G.methods.sync()}),U&&setTimeout(()=>{var z,G;(z=Z.nodes[U.props.id])==null||z.methods.sync(),(G=Z.nodes[U.props.id])==null||G.methods.showOverlay()},200),C(!1)},100)}},[S,I,m]);return reactExports.useEffect(()=>{if(D&&$.current&&A){const O=$.current.getBoundingClientRect();return R.current=getNumItems(S,m),j(O.height),C(!0),k()}},[$.current,D,k]),[I||x,P]};init_react_import();function assignRef(m,x){typeof m=="function"?m(x):m&&typeof m=="object"&&"current"in m&&(m.current=x)}function assignRefs(m,x){m.forEach($=>{assignRef($,x)})}init_react_import();init_react_import();function useRenderedCallback(m,x){const $=useDragDropManager();return reactExports.useCallback((...S)=>__async(this,null,function*(){return yield $==null?void 0:$.renderer.rendering,m(...S)}),[...x,$])}var useContentIdsWithPreview=(m,x)=>{const $=reactExports.useContext(ZoneStoreContext),S=useContextStore(ZoneStoreContext,R=>R.previewIndex[x]),I=useAppStore(R=>R.state.ui.isDragging),[j,P]=reactExports.useState(m),[C,D]=reactExports.useState(S),A=useRenderedCallback((R,k,O,N,V)=>{O&&!V||(k?k.type==="insert"?P(insert(R.filter(U=>U!==k.props.id),k.index,k.props.id)):P(insert(R.filter(U=>U!==k.props.id),k.index,k.props.id)):P(V?R.filter(U=>U!==N):R),D(k))},[]);return reactExports.useEffect(()=>{var R;const k=$.getState(),O=(R=k.draggedItem)==null?void 0:R.id,N=Object.keys(k.previewIndex||{}).length>0;A(m,S,I,O,N)},[m,S,I]),[j,C]};init_react_import();var GRID_DRAG_AXIS="dynamic",FLEX_ROW_DRAG_AXIS="x",DEFAULT_DRAG_AXIS="y",useDragAxis=(m,x)=>{const $=useAppStore(P=>P.status),[S,I]=reactExports.useState(x||DEFAULT_DRAG_AXIS),j=reactExports.useCallback(()=>{if(m.current){const P=window.getComputedStyle(m.current);P.display==="grid"?I(GRID_DRAG_AXIS):P.display==="flex"&&P.flexDirection==="row"?I(FLEX_ROW_DRAG_AXIS):I(DEFAULT_DRAG_AXIS)}},[m.current]);return reactExports.useEffect(()=>{const P=()=>{j()};return window.addEventListener("viewportchange",P),()=>{window.removeEventListener("viewportchange",P)}},[]),reactExports.useEffect(j,[$,x]),[S,j]};init_react_import();init_react_import();var ContextSlotRender=({componentId:m,zone:x})=>{const $=useAppStore(j=>j.config),S=useAppStore(j=>j.metadata),I=useAppStore(useShallow(j=>{var P,C;const D=j.state.indexes;return((C=(P=D.zones[`${m}:${x}`])==null?void 0:P.contentIds)!=null?C:[]).map(R=>D.nodes[R].flatData)}));return jsxRuntimeExports.jsx(SlotRenderPure,{content:I,zone:x,config:$,metadata:S})},renderContext=React.createContext({config:{components:{}},data:{root:{},content:[]},metadata:{}});function Render({config:m,data:x,metadata:$={}}){var S;const I=__spreadProps$6(__spreadValues$7({},x),{root:x.root||{},content:x.content||[]}),j="props"in I.root?I.root.props:I.root,P=(j==null?void 0:j.title)||"",C=__spreadProps$6(__spreadValues$7({},j),{puck:{renderDropZone:DropZonePure,isEditing:!1,dragRef:null,metadata:$},title:P,editMode:!1,id:"puck-root"}),D=useSlots(m,{type:"root",props:C},R=>jsxRuntimeExports.jsx(SlotRender,__spreadProps$6(__spreadValues$7({},R),{config:m,metadata:$}))),A=reactExports.useMemo(()=>({mode:"render",depth:0}),[]);return(S=m.root)!=null&&S.render?jsxRuntimeExports.jsx(renderContext.Provider,{value:{config:m,data:I,metadata:$},children:jsxRuntimeExports.jsx(DropZoneProvider,{value:A,children:jsxRuntimeExports.jsx(m.root.render,__spreadProps$6(__spreadValues$7({},D),{children:jsxRuntimeExports.jsx(DropZoneRenderPure,{zone:rootZone})}))})}):jsxRuntimeExports.jsx(renderContext.Provider,{value:{config:m,data:I,metadata:$},children:jsxRuntimeExports.jsx(DropZoneProvider,{value:A,children:jsxRuntimeExports.jsx(DropZoneRenderPure,{zone:rootZone})})})}var getClassName17=get_class_name_factory_default("DropZone",styles_module_default12),DropZoneEditPure=m=>jsxRuntimeExports.jsx(DropZoneEdit,__spreadValues$7({},m)),DropZoneChild=({zoneCompound:m,componentId:x,index:$,dragAxis:S,collisionAxis:I,inDroppableZone:j})=>{var P,C;const D=useAppStore(te=>te.metadata),A=reactExports.useContext(dropZoneContext),{depth:R=1}=A??{},k=reactExports.useContext(ZoneStoreContext),O=useAppStore(useShallow(te=>{var ee;return(ee=te.state.indexes.nodes[x])==null?void 0:ee.flatData.props})),N=useAppStore(te=>{var ee;return(ee=te.state.indexes.nodes[x])==null?void 0:ee.data.type}),V=useAppStore(useShallow(te=>{var ee;return(ee=te.state.indexes.nodes[x])==null?void 0:ee.data.readOnly})),U=useAppStoreApi(),H=reactExports.useMemo(()=>{if(O)return expandNode({type:N,props:O});const te=k.getState().previewIndex[m];return x===(te==null?void 0:te.props.id)?{type:te.componentType,props:te.props,previewType:te.type}:null},[U,x,m,N,O]),Z=useAppStore(te=>H!=null&&H.type?te.config.components[H.type]:null),F=reactExports.useMemo(()=>({renderDropZone:DropZoneEditPure,isEditing:!0,dragRef:null,metadata:__spreadValues$7(__spreadValues$7({},D),Z==null?void 0:Z.metadata)}),[D,Z==null?void 0:Z.metadata]),L=useAppStore(te=>te.overrides),z=useAppStore(te=>{var ee;return((ee=te.componentState[x])==null?void 0:ee.loadingCount)>0}),G=useAppStore(te=>{var ee;return((ee=te.selectedItem)==null?void 0:ee.props.id)===x||!1});let q=(C=(P=Z==null?void 0:Z.label)!=null?P:H==null?void 0:H.type.toString())!=null?C:"Component";const X=reactExports.useMemo(()=>function(){return jsxRuntimeExports.jsx(DrawerItemInner,{name:q,children:L.componentItem})},[x,q,L]),M=reactExports.useMemo(()=>__spreadProps$6(__spreadValues$7(__spreadValues$7({},Z==null?void 0:Z.defaultProps),H==null?void 0:H.props),{puck:F,editMode:!0}),[Z==null?void 0:Z.defaultProps,H==null?void 0:H.props,F]),W=reactExports.useMemo(()=>{var te;return{type:(te=H==null?void 0:H.type)!=null?te:N,props:M}},[H==null?void 0:H.type,N,M]),T=useAppStore(te=>te.config),K=useSlots(T,W,DropZoneEditPure,te=>jsxRuntimeExports.jsx(ContextSlotRender,{componentId:x,zone:te.zone}),V,z);if(!H)return;let J=Z?Z.render:()=>jsxRuntimeExports.jsxs("div",{style:{padding:48,textAlign:"center"},children:["No configuration for ",H.type]}),ne=H.type;const re="previewType"in H?H.previewType==="insert":!1;return re&&(J=X),jsxRuntimeExports.jsx(DraggableComponent,{id:x,componentType:ne,zoneCompound:m,depth:R+1,index:$,isLoading:z,isSelected:G,label:q,autoDragAxis:S,userDragAxis:I,inDroppableZone:j,children:te=>Z!=null&&Z.inline&&!re?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(J,__spreadProps$6(__spreadValues$7({},K),{puck:__spreadProps$6(__spreadValues$7({},K.puck),{dragRef:te})}))}):jsxRuntimeExports.jsx("div",{ref:te,children:jsxRuntimeExports.jsx(J,__spreadValues$7({},K))})})},DropZoneChildMemo=reactExports.memo(DropZoneChild),DropZoneEdit=reactExports.forwardRef(function({zone:x,allow:$,disallow:S,style:I,className:j,minEmptyHeight:P=128,collisionAxis:C},D){const A=reactExports.useContext(dropZoneContext),{areaId:R,depth:k=0,registerLocalZone:O,unregisterLocalZone:N}=A??{},V=useAppStore(useShallow(ce=>{var de;return R?(de=ce.state.indexes.nodes[R])==null?void 0:de.path:null}));let U=rootDroppableId;R&&x!==rootDroppableId&&(U=`${R}:${x}`);const H=U===rootDroppableId||x===rootDroppableId||R==="root",Z=useContextStore(ZoneStoreContext,ce=>ce.nextAreaDepthIndex[R||""]),F=useAppStore(useShallow(ce=>{var de;return(de=ce.state.indexes.zones[U])==null?void 0:de.contentIds})),L=useAppStore(useShallow(ce=>{var de;return(de=ce.state.indexes.zones[U])==null?void 0:de.type}));reactExports.useEffect(()=>{if(!L||L==="dropzone")return A!=null&&A.registerZone&&(A==null||A.registerZone(U)),()=>{A!=null&&A.unregisterZone&&(A==null||A.unregisterZone(U))}},[L]),reactExports.useEffect(()=>{L==="dropzone"&&U!==rootDroppableId&&console.warn("DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots")},[L]);const z=reactExports.useMemo(()=>F||[],[F]),G=reactExports.useRef(null),q=reactExports.useCallback(ce=>{if(!ce)return!0;if(S){const de=$||[];if((S||[]).filter(ye=>de.indexOf(ye)===-1).indexOf(ce)!==-1)return!1}else if($&&$.indexOf(ce)===-1)return!1;return!0},[$,S]),X=useContextStore(ZoneStoreContext,ce=>{var de;const ve=(de=ce.draggedItem)==null?void 0:de.data.componentType;return q(ve)}),M=Z||H,W=useContextStore(ZoneStoreContext,ce=>{var de;let ve=!0;return ve=(de=ce.zoneDepthIndex[U])!=null?de:!1,ve&&(ve=X),ve});reactExports.useEffect(()=>(O&&O(U,X||W),()=>{N&&N(U)}),[X,W,U]);const[T,K]=useContentIdsWithPreview(z,U),J=W&&(K?T.length===1:T.length===0),ne=reactExports.useContext(ZoneStoreContext);reactExports.useEffect(()=>{const{enabledIndex:ce}=ne.getState();ne.setState({enabledIndex:__spreadProps$6(__spreadValues$7({},ce),{[U]:W})})},[W,ne,U]);const re={id:U,collisionPriority:W?k:0,disabled:!J,collisionDetector:pointerIntersection,type:"dropzone",data:{areaId:R,depth:k,isDroppableTarget:X,path:V||[]}},{ref:te}=useDroppable(re),ee=useAppStore(ce=>(ce==null?void 0:ce.selectedItem)&&R===(ce==null?void 0:ce.selectedItem.props.id)),[ue]=useDragAxis(G,C),[pe,ge]=useMinEmptyHeight({zoneCompound:U,userMinEmptyHeight:P,ref:G});return jsxRuntimeExports.jsx("div",{className:`${getClassName17({isRootZone:H,hoveringOverArea:M,isEnabled:W,isAreaSelected:ee,hasChildren:z.length>0,isAnimating:ge})}${j?` ${j}`:""}`,ref:ce=>{assignRefs([G,te,D],ce)},"data-testid":`dropzone:${U}`,"data-puck-dropzone":U,style:__spreadProps$6(__spreadValues$7({},I),{"--min-empty-height":`${pe}px`,backgroundColor:I==null?void 0:I.backgroundColor}),children:T.map((ce,de)=>jsxRuntimeExports.jsx(DropZoneChildMemo,{zoneCompound:U,componentId:ce,dragAxis:ue,index:de,collisionAxis:C,inDroppableZone:X},ce))})}),DropZoneRenderItem=({config:m,item:x,metadata:$})=>{const S=m.components[x.type],I=useSlots(m,x,P=>jsxRuntimeExports.jsx(SlotRenderPure,__spreadProps$6(__spreadValues$7({},P),{config:m,metadata:$}))),j=reactExports.useMemo(()=>({areaId:I.id,depth:1}),[I]);return jsxRuntimeExports.jsx(DropZoneProvider,{value:j,children:jsxRuntimeExports.jsx(S.render,__spreadProps$6(__spreadValues$7({},I),{puck:__spreadProps$6(__spreadValues$7({},I.puck),{renderDropZone:DropZoneRenderPure,metadata:__spreadValues$7(__spreadValues$7({},$),S.metadata)})}))},I.id)},DropZoneRenderPure=m=>jsxRuntimeExports.jsx(DropZoneRender,__spreadValues$7({},m)),DropZoneRender=reactExports.forwardRef(function({className:x,style:$,zone:S},I){const j=reactExports.useContext(dropZoneContext),{areaId:P="root"}=j||{},{config:C,data:D,metadata:A}=reactExports.useContext(renderContext);let R=`${P}:${S}`,k=(D==null?void 0:D.content)||[];return reactExports.useEffect(()=>{if(!k)return j!=null&&j.registerZone&&(j==null||j.registerZone(R)),()=>{j!=null&&j.unregisterZone&&(j==null||j.unregisterZone(R))}},[k]),!D||!C?null:(R!==rootDroppableId&&(k=setupZone(D,R).zones[R]),jsxRuntimeExports.jsx("div",{className:x,style:$,ref:I,children:k.map(O=>C.components[O.type]?jsxRuntimeExports.jsx(DropZoneRenderItem,{config:C,item:O,metadata:A},O.props.id):null)}))}),DropZonePure=m=>jsxRuntimeExports.jsx(DropZone,__spreadValues$7({},m)),DropZone=reactExports.forwardRef(function(x,$){const S=reactExports.useContext(dropZoneContext);return(S==null?void 0:S.mode)==="edit"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(DropZoneEdit,__spreadProps$6(__spreadValues$7({},x),{ref:$}))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(DropZoneRender,__spreadProps$6(__spreadValues$7({},x),{ref:$}))})});init_react_import();init_react_import();function timeout2(m,x){const $=setTimeout(m,x);return()=>clearTimeout($)}function throttle(m,x){const $=()=>performance.now();let S,I=0;return function(...j){const P=$(),C=this;P-I>=x?(m.apply(C,j),I=P):(S==null||S(),S=timeout2(()=>{m.apply(C,j),I=$()},x-(P-I)))}}init_react_import();var getFrame=()=>{if(typeof window>"u")return;let m=document.querySelector("#preview-frame");return(m==null?void 0:m.tagName)==="IFRAME"?m.contentDocument||document:(m==null?void 0:m.ownerDocument)||document};init_react_import();var GlobalPosition=class{constructor(m,x){this.scaleFactor=1,this.frameEl=null,this.frameRect=null;var $;this.target=m,this.original=x,this.frameEl=document.querySelector("iframe#preview-frame"),this.frameEl&&(this.frameRect=this.frameEl.getBoundingClientRect(),this.scaleFactor=this.frameRect.width/((($=this.frameEl.contentWindow)==null?void 0:$.innerWidth)||1))}get x(){return this.original.x}get y(){return this.original.y}get global(){return document!==this.target.ownerDocument&&this.frameRect?{x:this.x*this.scaleFactor+this.frameRect.left,y:this.y*this.scaleFactor+this.frameRect.top}:this.original}get frame(){return document===this.target.ownerDocument&&this.frameRect?{x:(this.x-this.frameRect.left)/this.scaleFactor,y:(this.y-this.frameRect.top)/this.scaleFactor}:this.original}};init_react_import();var BaseEvent=typeof PointerEvent<"u"?PointerEvent:Event,BubbledPointerEvent=class extends BaseEvent{constructor(m,x){super(m,x),this._originalTarget=null,this.originalTarget=x.originalTarget}set originalTarget(m){this._originalTarget=m}get originalTarget(){return this._originalTarget}},depthSort=m=>m.sort((x,$)=>{const S=x.data,I=$.data;return S.depth>I.depth?1:I.depth>S.depth?-1:0}),getZoneId=m=>{let x=m==null?void 0:m.id;if(!m)return null;if(m.type==="component"){const $=m.data;$.containsActiveZone?x=null:x=$.zone}else if(m.type==="void")return"void";return x},BUFFER=6,getPointerCollisions=(m,x)=>{const $=[];let S=m.target.ownerDocument.elementsFromPoint(m.x,m.y);const I=S.find(P=>P.getAttribute("data-puck-preview")),j=S.find(P=>P.getAttribute("data-puck-drawer"));if(j&&(S=[j]),I){const P=getFrame();P&&(S=P.elementsFromPoint(m.frame.x,m.frame.y))}if(S)for(let P=0;P<S.length;P++){const C=S[P],D=C.getAttribute("data-puck-dropzone"),A=C.getAttribute("data-puck-dnd"),R=C.hasAttribute("data-puck-dnd-void");if((D||A)&&!R){const k=C.getBoundingClientRect(),O={left:k.left+BUFFER,right:k.right-BUFFER,top:k.top+BUFFER,bottom:k.bottom-BUFFER};if(m.frame.x<O.left||m.frame.x>O.right||m.frame.y>O.bottom||m.frame.y<O.top)continue}if(D){const k=x.registry.droppables.get(D);k&&$.push(k)}if(A){const k=x.registry.droppables.get(A);k&&$.push(k)}}return $},findDeepestCandidate=(m,x)=>{var $;const S=getPointerCollisions(m,x);if(S.length>0){const I=depthSort(S),j=x.dragOperation.source,P=I.findIndex(V=>V.id===(j==null?void 0:j.id)),C=j==null?void 0:j.id;let D=[...I];C&&P>-1&&D.splice(P,1),D=D.filter(V=>{const U=V.data;if(C&&P>-1&&U.path.indexOf(C)>-1)return!1;if(V.type==="dropzone"){const H=V.data;if(!H.isDroppableTarget||H.areaId===C)return!1}else if(V.type==="component"&&!V.data.inDroppableZone)return!1;return!0}),D.reverse();const A=D[0],R=A.data,k="containsActiveZone"in R,O=getZoneId(A),N=k&&R.containsActiveZone?D[0].id:($=D[0])==null?void 0:$.data.areaId;return{zone:O,area:N}}return{zone:rootDroppableId,area:rootAreaId}},createNestedDroppablePlugin=({onChange:m},x)=>class extends Plugin{constructor(S,I){super(S),!(typeof window>"u")&&this.registerEffect(()=>{const P=throttle(A=>{const R=A instanceof BubbledPointerEvent&&A.originalTarget||A.target,k=new GlobalPosition(R,{x:A.clientX,y:A.clientY});document.elementsFromPoint(k.global.x,k.global.y).some(V=>V.id===x)&&m(findDeepestCandidate(k,S),S)},50),C=A=>{P(A)};return document.body.addEventListener("pointermove",C,{capture:!0}),()=>{document.body.removeEventListener("pointermove",C,{capture:!0})}})}};init_react_import();var insertComponent=(m,x,$,S)=>__async(void 0,null,function*(){const I=generateId(m),j={type:"insert",componentType:m,destinationIndex:$,destinationZone:x,id:I},{state:P,dispatch:C,resolveComponentData:D}=S,A=insertAction(P,j,S);C(__spreadProps$6(__spreadValues$7({},j),{recordHistory:!0}));const R={index:$,zone:x};C({type:"setUi",ui:{itemSelector:R}});const k=getItem(R,A);if(k){const O=yield D(k,"insert");O.didChange&&C({type:"replace",destinationZone:R.zone,destinationIndex:R.index,data:O.node})}});init_react_import();function getDeepDir(m){function x($){return $?$.getAttribute("dir")||x($.parentElement):"ltr"}return m?x(m):"ltr"}var dragListenerContext=reactExports.createContext({dragListeners:{}});function useDragListener(m,x,$=[]){const{setDragListeners:S}=reactExports.useContext(dragListenerContext);reactExports.useEffect(()=>{S&&S(I=>__spreadProps$6(__spreadValues$7({},I),{[m]:[...I[m]||[],x]}))},$)}var AREA_CHANGE_DEBOUNCE_MS=100,useTempDisableFallback=m=>{const x=reactExports.useRef(null);return reactExports.useCallback($=>{collisionStore.setState({fallbackEnabled:!1});const S=generateId();x.current=S,setTimeout(()=>{x.current===S&&(collisionStore.setState({fallbackEnabled:!0}),$.collisionObserver.forceUpdate(!0))},m)},[])},DragDropContextClient=({children:m,disableAutoScroll:x})=>{const $=useAppStore(L=>L.dispatch),S=useAppStoreApi(),I=useSafeId(),j=reactExports.useRef(null),P=useTempDisableFallback(100),[C]=reactExports.useState(()=>createStore(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),D=reactExports.useCallback((L,z)=>{const{zoneDepthIndex:G={},areaDepthIndex:q={}}=C.getState()||{},X=Object.keys(G).length>0,M=Object.keys(q).length>0;let W=!1,T=!1;return(L.zone&&!G[L.zone]||!L.zone&&X)&&(W=!0),(L.area&&!q[L.area]||!L.area&&M)&&(T=!0),{zoneChanged:W,areaChanged:T}},[C]),A=reactExports.useCallback((L,z)=>{const{zoneChanged:G,areaChanged:q}=D(L,I);!G&&!q||(C.setState({zoneDepthIndex:L.zone?{[L.zone]:!0}:{},areaDepthIndex:L.area?{[L.area]:!0}:{}}),P(z),setTimeout(()=>{z.collisionObserver.forceUpdate(!0)},50),j.current=null)},[C]),R=c(A,AREA_CHANGE_DEBOUNCE_MS),k=()=>{R.cancel(),j.current=null};reactExports.useEffect(()=>{},[]);const[O]=reactExports.useState(()=>[...x?defaultPreset.plugins.filter(L=>L!==AutoScroller):defaultPreset.plugins,createNestedDroppablePlugin({onChange:(L,z)=>{const G=C.getState(),{zoneChanged:q,areaChanged:X}=D(L,I),M=z.dragOperation.status.dragging;if(X||q){let W={},T={};L.zone&&(W={[L.zone]:!0}),L.area&&(T={[L.area]:!0}),C.setState({nextZoneDepthIndex:W,nextAreaDepthIndex:T})}if(L.zone!=="void"&&(G!=null&&G.zoneDepthIndex.void)){A(L,z);return}if(X){if(M){const W=j.current;W&&W.area===L.area&&W.zone===L.zone||(k(),R(L,z),j.current=L)}else k(),A(L,z);return}q&&A(L,z),k()}},I)]),N=useSensors(),[V,U]=reactExports.useState({}),H=reactExports.useRef(null),Z=reactExports.useRef(void 0),F=reactExports.useMemo(()=>({mode:"edit",areaId:"root",depth:0}),[]);return jsxRuntimeExports.jsx("div",{id:I,children:jsxRuntimeExports.jsx(dragListenerContext.Provider,{value:{dragListeners:V,setDragListeners:U},children:jsxRuntimeExports.jsx(DragDropProvider,{plugins:O,sensors:N,onDragEnd:(L,z)=>{var G,q;const X=(G=getFrame())==null?void 0:G.querySelector("[data-puck-entry]");X==null||X.removeAttribute("data-puck-dragging");const{source:M,target:W}=L.operation;if(!M){C.setState({draggedItem:null});return}const{zone:T,index:K}=M.data,{previewIndex:J={}}=C.getState()||{},ne=((q=J[T])==null?void 0:q.props.id)===M.id?J[T]:null,re=()=>{var ee,ue;if(C.setState({draggedItem:null}),L.canceled||(W==null?void 0:W.type)==="void"){C.setState({previewIndex:{}}),(ee=V.dragend)==null||ee.forEach(pe=>{pe(L,z)}),$({type:"setUi",ui:{itemSelector:null,isDragging:!1}});return}ne&&(C.setState({previewIndex:{}}),ne.type==="insert"?insertComponent(ne.componentType,ne.zone,ne.index,S.getState()):Z.current&&$({type:"move",sourceIndex:Z.current.index,sourceZone:Z.current.zone,destinationIndex:ne.index,destinationZone:ne.zone,recordHistory:!1})),$({type:"setUi",ui:{itemSelector:{index:K,zone:T},isDragging:!1},recordHistory:!0}),(ue=V.dragend)==null||ue.forEach(pe=>{pe(L,z)})};let te;te=E(()=>{M.status==="idle"&&(re(),te==null||te())})},onDragOver:(L,z)=>{var G,q,X,M;if(L.preventDefault(),!((G=C.getState())==null?void 0:G.draggedItem))return;k();const{source:T,target:K}=L.operation;if(!K||!T||K.type==="void")return;const[J]=T.id.split(":"),[ne]=K.id.split(":"),re=T.data;let te=re.zone,ee=re.index,ue="",pe=0;if(K.type==="component"){const ce=K.data;ue=ce.zone,pe=ce.index;const de=(q=z.collisionObserver.collisions[0])==null?void 0:q.data,ve=getDeepDir(K.element),ye=(de==null?void 0:de.direction)==="up"||ve==="ltr"&&(de==null?void 0:de.direction)==="left"||ve==="rtl"&&(de==null?void 0:de.direction)==="right"?"before":"after";pe>=ee&&te===ue&&(pe=pe-1),ye==="after"&&(pe=pe+1)}else ue=K.id.toString(),pe=0;const ge=((X=S.getState().state.indexes.nodes[K.id])==null?void 0:X.path)||[];if(!(ne===J||ge.find(ce=>{const[de]=ce.split(":");return de===J}))){if(H.current==="new")C.setState({previewIndex:{[ue]:{componentType:re.componentType,type:"insert",index:pe,zone:ue,props:{id:T.id.toString()}}}});else{Z.current||(Z.current={zone:re.zone,index:re.index});const ce=getItem(Z.current,S.getState().state);ce&&C.setState({previewIndex:{[ue]:{componentType:re.componentType,type:"move",index:pe,zone:ue,props:ce.props}}})}(M=V.dragover)==null||M.forEach(ce=>{ce(L,z)})}},onDragStart:(L,z)=>{var G;const{source:q}=L.operation;if(q&&q.type!=="void"){const X=q.data,M=getItem({zone:X.zone,index:X.index},S.getState().state);M&&C.setState({previewIndex:{[X.zone]:{componentType:X.componentType,type:"move",index:X.index,zone:X.zone,props:M.props}}})}(G=V.dragstart)==null||G.forEach(X=>{X(L,z)})},onBeforeDragStart:L=>{var z,G,q,X;const M=((z=L.operation.source)==null?void 0:z.type)==="drawer";H.current=M?"new":"existing",Z.current=void 0,C.setState({draggedItem:L.operation.source}),((G=S.getState().selectedItem)==null?void 0:G.props.id)!==((q=L.operation.source)==null?void 0:q.id)?$({type:"setUi",ui:{itemSelector:null,isDragging:!0},recordHistory:!1}):$({type:"setUi",ui:{isDragging:!0},recordHistory:!1});const W=(X=getFrame())==null?void 0:X.querySelector("[data-puck-entry]");W==null||W.setAttribute("data-puck-dragging","true")},children:jsxRuntimeExports.jsx(ZoneStoreProvider,{store:C,children:jsxRuntimeExports.jsx(DropZoneProvider,{value:F,children:m})})})})})},DragDropContext=({children:m,disableAutoScroll:x})=>useAppStore(S=>S.status)==="LOADING"?m:jsxRuntimeExports.jsx(DragDropContextClient,{disableAutoScroll:x,children:m}),getClassName18=get_class_name_factory_default("Drawer",styles_module_default10),getClassNameItem2=get_class_name_factory_default("DrawerItem",styles_module_default10),DrawerItemInner=({children:m,name:x,label:$,dragRef:S,isDragDisabled:I})=>{const j=reactExports.useMemo(()=>m||(({children:P})=>jsxRuntimeExports.jsx("div",{className:getClassNameItem2("default"),children:P})),[m]);return jsxRuntimeExports.jsx("div",{className:getClassNameItem2({disabled:I}),ref:S,onMouseDown:P=>P.preventDefault(),"data-testid":S?`drawer-item:${x}`:"","data-puck-drawer-item":!0,children:jsxRuntimeExports.jsx(j,{name:x,children:jsxRuntimeExports.jsx("div",{className:getClassNameItem2("draggableWrapper"),children:jsxRuntimeExports.jsxs("div",{className:getClassNameItem2("draggable"),children:[jsxRuntimeExports.jsx("div",{className:getClassNameItem2("name"),children:$??x}),jsxRuntimeExports.jsx("div",{className:getClassNameItem2("icon"),children:jsxRuntimeExports.jsx(DragIcon,{})})]})})})})},DrawerItemDraggable=({children:m,name:x,label:$,id:S,isDragDisabled:I})=>{const{ref:j}=useDraggable({id:S,data:{componentType:x},disabled:I,type:"drawer"});return jsxRuntimeExports.jsxs("div",{className:getClassName18("draggable"),children:[jsxRuntimeExports.jsx("div",{className:getClassName18("draggableBg"),children:jsxRuntimeExports.jsx(DrawerItemInner,{name:x,label:$,children:m})}),jsxRuntimeExports.jsx("div",{className:getClassName18("draggableFg"),children:jsxRuntimeExports.jsx(DrawerItemInner,{name:x,label:$,dragRef:j,isDragDisabled:I,children:m})})]})},DrawerItem=({name:m,children:x,id:$,label:S,index:I,isDragDisabled:j})=>{const P=$||m,[C,D]=reactExports.useState(generateId(P));return typeof I<"u"&&console.error("Warning: The `index` prop on Drawer.Item is deprecated and no longer required."),useDragListener("dragend",()=>{D(generateId(P))},[P]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(DrawerItemDraggable,{name:m,label:S,id:C,isDragDisabled:j,children:x})},C)},Drawer=({children:m,droppableId:x,direction:$})=>{x&&console.error("Warning: The `droppableId` prop on Drawer is deprecated and no longer required."),$&&console.error("Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.");const S=useSafeId(),{ref:I}=useDroppable({id:S,type:"void",collisionPriority:0});return jsxRuntimeExports.jsx("div",{className:getClassName18(),ref:I,"data-puck-dnd":S,"data-puck-drawer":!0,"data-puck-dnd-void":!0,children:m})};Drawer.Item=DrawerItem;init_react_import();init_react_import();init_react_import();var styles_module_default13={SidebarSection:"_SidebarSection_8boj8_1","SidebarSection-title":"_SidebarSection-title_8boj8_12","SidebarSection--noBorderTop":"_SidebarSection--noBorderTop_8boj8_20","SidebarSection-content":"_SidebarSection-content_8boj8_24","SidebarSection--noPadding":"_SidebarSection--noPadding_8boj8_28","SidebarSection-breadcrumbLabel":"_SidebarSection-breadcrumbLabel_8boj8_41","SidebarSection-breadcrumbs":"_SidebarSection-breadcrumbs_8boj8_70","SidebarSection-breadcrumb":"_SidebarSection-breadcrumb_8boj8_41","SidebarSection-heading":"_SidebarSection-heading_8boj8_82","SidebarSection-loadingOverlay":"_SidebarSection-loadingOverlay_8boj8_86"};init_react_import();var useBreadcrumbs=m=>{const x=useAppStore(j=>{var P;return(P=j.selectedItem)==null?void 0:P.props.id}),$=useAppStore(j=>j.config),S=useAppStore(j=>{var P;return(P=j.state.indexes.nodes[x])==null?void 0:P.path}),I=useAppStoreApi();return reactExports.useMemo(()=>{const j=(S==null?void 0:S.map(P=>{var C,D,A;const[R]=P.split(":");if(R==="root")return{label:"Page",selector:null};const k=I.getState().state.indexes.nodes[R],O=k.path[k.path.length-1],V=(((C=I.getState().state.indexes.zones[O])==null?void 0:C.contentIds)||[]).indexOf(R);return{label:k?(A=(D=$.components[k.data.type])==null?void 0:D.label)!=null?A:k.data.type:"Component",selector:k?{index:V,zone:k.path[k.path.length-1]}:null}}))||[];return j.slice(j.length-m)},[S,m])},getClassName19=get_class_name_factory_default("SidebarSection",styles_module_default13),SidebarSection=({children:m,title:x,background:$,showBreadcrumbs:S,noBorderTop:I,noPadding:j,isLoading:P})=>{const C=useAppStore(A=>A.setUi),D=useBreadcrumbs(1);return jsxRuntimeExports.jsxs("div",{className:getClassName19({noBorderTop:I,noPadding:j}),style:{background:$},children:[jsxRuntimeExports.jsx("div",{className:getClassName19("title"),children:jsxRuntimeExports.jsxs("div",{className:getClassName19("breadcrumbs"),children:[S?D.map((A,R)=>jsxRuntimeExports.jsxs("div",{className:getClassName19("breadcrumb"),children:[jsxRuntimeExports.jsx("button",{type:"button",className:getClassName19("breadcrumbLabel"),onClick:()=>C({itemSelector:A.selector}),children:A.label}),jsxRuntimeExports.jsx(ChevronRight,{size:16})]},R)):null,jsxRuntimeExports.jsx("div",{className:getClassName19("heading"),children:jsxRuntimeExports.jsx(Heading,{rank:"2",size:"xs",children:x})})]})}),jsxRuntimeExports.jsx("div",{className:getClassName19("content"),children:m}),P&&jsxRuntimeExports.jsx("div",{className:getClassName19("loadingOverlay"),children:jsxRuntimeExports.jsx(Loader,{size:32})})]})};init_react_import();var styles_module_default14={Puck:"_Puck_dnlfp_19","Puck-portal":"_Puck-portal_dnlfp_31","PuckLayout-inner":"_PuckLayout-inner_dnlfp_38","PuckLayout--mounted":"_PuckLayout--mounted_dnlfp_50","PuckLayout--leftSideBarVisible":"_PuckLayout--leftSideBarVisible_dnlfp_54","PuckLayout--rightSideBarVisible":"_PuckLayout--rightSideBarVisible_dnlfp_60","PuckLayout-mounted":"_PuckLayout-mounted_dnlfp_74",PuckLayout:"_PuckLayout_dnlfp_38","PuckLayout-leftSideBar":"_PuckLayout-leftSideBar_dnlfp_115","PuckLayout-rightSideBar":"_PuckLayout-rightSideBar_dnlfp_124"};init_react_import();init_react_import();var styles_module_default15={PuckFields:"_PuckFields_10bh7_1","PuckFields--isLoading":"_PuckFields--isLoading_10bh7_6","PuckFields-loadingOverlay":"_PuckFields-loadingOverlay_10bh7_10","PuckFields-loadingOverlayInner":"_PuckFields-loadingOverlayInner_10bh7_25","PuckFields-field":"_PuckFields-field_10bh7_32","PuckFields--wrapFields":"_PuckFields--wrapFields_10bh7_36"},getClassName20=get_class_name_factory_default("PuckFields",styles_module_default15),DefaultFields=({children:m})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:m}),createOnChange=(m,x)=>($,S)=>__async(void 0,null,function*(){let I;const{dispatch:j,state:P,selectedItem:C,resolveComponentData:D}=x.getState(),{data:A,ui:R}=P,{itemSelector:k}=R,O=A.root.props||A.root;C?I=C.props:I=O;const N=__spreadProps$6(__spreadValues$7({},I),{[m]:$});C&&k?j({type:"replace",destinationIndex:k.index,destinationZone:k.zone||rootDroppableId,data:(yield D(__spreadProps$6(__spreadValues$7({},C),{props:N}),"replace")).node,ui:S}):A.root.props?j({type:"replaceRoot",root:(yield D(__spreadProps$6(__spreadValues$7({},A.root),{props:N}),"replace")).node,ui:__spreadValues$7(__spreadValues$7({},R),S),recordHistory:!0}):j({type:"setData",data:{root:N}})}),FieldsChild=({fieldName:m})=>{const x=useAppStore(A=>A.fields.fields[m]),$=useAppStore(A=>((A.selectedItem?A.selectedItem.readOnly:A.state.data.root.readOnly)||{})[m]),S=useAppStore(A=>{const R=A.state.data.root.props||A.state.data.root;return A.selectedItem?A.selectedItem.props[m]:R[m]}),I=useAppStore(A=>x?A.selectedItem?`${A.selectedItem.props.id}_${x.type}_${m}`:`root_${x.type}_${m}`:null),j=useAppStore(useShallow(A=>{const{selectedItem:R,permissions:k}=A;return R?k.getPermissions({item:R}):k.getPermissions({root:!0})})),P=useAppStoreApi(),C=reactExports.useCallback(createOnChange(m,P),[m]),{visible:D=!0}=x??{};return!x||!I||!D||x.type==="slot"?null:jsxRuntimeExports.jsx("div",{className:getClassName20("field"),children:jsxRuntimeExports.jsx(AutoFieldPrivate,{field:x,name:m,id:I,readOnly:!j.edit||$,value:S,onChange:C})},I)},FieldsChildMemo=reactExports.memo(FieldsChild),FieldsInternal=({wrapFields:m=!0})=>{const x=useAppStore(R=>R.overrides),$=useAppStore(R=>{var k,O;const N=R.selectedItem?(k=R.componentState[R.selectedItem.props.id])==null?void 0:k.loadingCount:(O=R.componentState.root)==null?void 0:O.loadingCount;return(N??0)>0}),S=useAppStore(useShallow(R=>R.state.ui.itemSelector)),I=useAppStore(R=>{var k;return(k=R.selectedItem)==null?void 0:k.props.id}),j=useAppStoreApi();useRegisterFieldsSlice(j,I);const P=useAppStore(R=>R.fields.loading),C=useAppStore(useShallow(R=>R.fields.id===I?Object.keys(R.fields.fields):[])),D=P||$,A=reactExports.useMemo(()=>x.fields||DefaultFields,[x]);return jsxRuntimeExports.jsxs("form",{className:getClassName20({wrapFields:m}),onSubmit:R=>{R.preventDefault()},children:[jsxRuntimeExports.jsx(A,{isLoading:D,itemSelector:S,children:C.map(R=>jsxRuntimeExports.jsx(FieldsChildMemo,{fieldName:R},R))}),D&&jsxRuntimeExports.jsx("div",{className:getClassName20("loadingOverlay"),children:jsxRuntimeExports.jsx("div",{className:getClassName20("loadingOverlayInner"),children:jsxRuntimeExports.jsx(Loader,{size:16})})})]})},Fields=reactExports.memo(FieldsInternal);init_react_import();init_react_import();init_react_import();init_react_import();var styles_module_default16={ComponentList:"_ComponentList_1rrlt_1","ComponentList--isExpanded":"_ComponentList--isExpanded_1rrlt_5","ComponentList-content":"_ComponentList-content_1rrlt_9","ComponentList-title":"_ComponentList-title_1rrlt_17","ComponentList-titleIcon":"_ComponentList-titleIcon_1rrlt_53"},getClassName21=get_class_name_factory_default("ComponentList",styles_module_default16),ComponentListItem=({name:m,label:x})=>{const $=useAppStore(I=>I.overrides),S=useAppStore(I=>I.permissions.getPermissions({type:m}).insert);return jsxRuntimeExports.jsx(Drawer.Item,{label:x,name:m,isDragDisabled:!S,children:$.componentItem})},ComponentList=({children:m,title:x,id:$})=>{const S=useAppStore(C=>C.config),I=useAppStore(C=>C.setUi),j=useAppStore(C=>C.state.ui.componentList),{expanded:P=!0}=j[$]||{};return jsxRuntimeExports.jsxs("div",{className:getClassName21({isExpanded:P}),children:[x&&jsxRuntimeExports.jsxs("button",{type:"button",className:getClassName21("title"),onClick:()=>I({componentList:__spreadProps$6(__spreadValues$7({},j),{[$]:__spreadProps$6(__spreadValues$7({},j[$]),{expanded:!P})})}),title:P?`Collapse${x?` ${x}`:""}`:`Expand${x?` ${x}`:""}`,children:[jsxRuntimeExports.jsx("div",{children:x}),jsxRuntimeExports.jsx("div",{className:getClassName21("titleIcon"),children:P?jsxRuntimeExports.jsx(ChevronUp,{size:12}):jsxRuntimeExports.jsx(ChevronDown,{size:12})})]}),jsxRuntimeExports.jsx("div",{className:getClassName21("content"),children:jsxRuntimeExports.jsx(Drawer,{children:m||Object.keys(S.components).map(C=>{var D;return jsxRuntimeExports.jsx(ComponentListItem,{label:(D=S.components[C].label)!=null?D:C,name:C},C)})})})]})};ComponentList.Item=ComponentListItem;var useComponentList=()=>{const[m,x]=reactExports.useState(),$=useAppStore(I=>I.config),S=useAppStore(I=>I.state.ui.componentList);return reactExports.useEffect(()=>{var I,j,P;if(Object.keys(S).length>0){const C=[];let D;D=Object.entries(S).map(([R,k])=>k.visible===!1||!k.components?null:jsxRuntimeExports.jsx(ComponentList,{id:R,title:k.title||R,children:k.components.map((O,N)=>{var V;C.push(O);const U=$.components[O]||{};return jsxRuntimeExports.jsx(ComponentList.Item,{label:(V=U.label)!=null?V:O,name:O,index:N},O)})},R));const A=Object.keys($.components).filter(R=>C.indexOf(R)===-1);A.length>0&&!((I=S.other)!=null&&I.components)&&((j=S.other)==null?void 0:j.visible)!==!1&&D.push(jsxRuntimeExports.jsx(ComponentList,{id:"other",title:((P=S.other)==null?void 0:P.title)||"Other",children:A.map((R,k)=>{var O;const N=$.components[R]||{};return jsxRuntimeExports.jsx(ComponentList.Item,{name:R,label:(O=N.label)!=null?O:R,index:k},R)})},"other")),x(D)}},[$.categories,$.components,S]),m},Components=()=>{const m=useAppStore(S=>S.overrides),x=useComponentList(),$=reactExports.useMemo(()=>m.components||"div",[m]);return jsxRuntimeExports.jsx($,{children:x||jsxRuntimeExports.jsx(ComponentList,{id:"all"})})};init_react_import();init_react_import();var styleSelector='style, link[rel="stylesheet"]',collectStyles=m=>{const x=[];return m.querySelectorAll(styleSelector).forEach($=>{x.push($)}),x},getStyleSheet=m=>Array.from(document.styleSheets).find(x=>x.ownerNode.href===m.href),getStyles=m=>{if(m)try{return[...m.cssRules].map(x=>x.cssText).join("")}catch{console.warn("Access to stylesheet %s is denied. Ignoring",m.href)}return""},syncAttributes=(m,x)=>{const $=m.attributes;($==null?void 0:$.length)>0&&Array.from($).forEach(S=>{x.setAttribute(S.name,S.value)})},defer=m=>setTimeout(m,0),CopyHostStyles=({children:m,debug:x=!1,onStylesLoaded:$=()=>null})=>{const{document:S,window:I}=useFrame();return reactExports.useEffect(()=>{if(!I||!S)return()=>{};let j=[];const P={},C=F=>j.findIndex(L=>L.original===F),D=(F,L=!1)=>__async(void 0,null,function*(){let z;if(F.nodeName==="LINK"&&L){z=document.createElement("style"),z.type="text/css";let G=getStyleSheet(F);G||(yield new Promise(X=>{const M=()=>{X(),F.removeEventListener("load",M)};F.addEventListener("load",M)}),G=getStyleSheet(F));const q=getStyles(G);if(!q){x&&console.warn("Tried to load styles for link element, but couldn't find them. Skipping...");return}z.innerHTML=q,z.setAttribute("data-href",F.getAttribute("href"))}else z=F.cloneNode(!0);return z}),A=F=>__async(void 0,null,function*(){const L=C(F);if(L>-1){x&&console.log("Tried to add an element that was already mirrored. Updating instead..."),j[L].mirror.innerText=F.innerText;return}const z=yield D(F);if(!z)return;const G=hash(z.outerHTML);if(P[G]){x&&console.log("iframe already contains element that is being mirrored. Skipping...");return}P[G]=!0,S.head.append(z),j.push({original:F,mirror:z}),x&&console.log(`Added style node ${F.outerHTML}`)}),R=F=>{var L,z;const G=C(F);if(G===-1){x&&console.log("Tried to remove an element that did not exist. Skipping...");return}const q=hash(F.outerHTML);(z=(L=j[G])==null?void 0:L.mirror)==null||z.remove(),delete P[q],x&&console.log(`Removed style node ${F.outerHTML}`)},k=new MutationObserver(F=>{F.forEach(L=>{L.type==="childList"&&(L.addedNodes.forEach(z=>{if(z.nodeType===Node.TEXT_NODE||z.nodeType===Node.ELEMENT_NODE){const G=z.nodeType===Node.TEXT_NODE?z.parentElement:z;G&&G.matches(styleSelector)&&defer(()=>A(G))}}),L.removedNodes.forEach(z=>{if(z.nodeType===Node.TEXT_NODE||z.nodeType===Node.ELEMENT_NODE){const G=z.nodeType===Node.TEXT_NODE?z.parentElement:z;G&&G.matches(styleSelector)&&defer(()=>R(G))}}))})}),O=I.parent.document,N=collectStyles(O),V=[];let U=0;const H=O.getElementsByTagName("html")[0];syncAttributes(H,S.documentElement);const Z=O.getElementsByTagName("body")[0];return syncAttributes(Z,S.body),Promise.all(N.map((F,L)=>__async(void 0,null,function*(){if(F.nodeName==="LINK"){const G=F.href;if(V.indexOf(G)>-1)return;V.push(G)}const z=yield D(F);if(z)return j.push({original:F,mirror:z}),z}))).then(F=>{const L=F.filter(z=>typeof z<"u");L.forEach(z=>{z.onload=()=>{U=U+1,U>=j.length&&$()},z.onerror=()=>{console.warn("AutoFrame couldn't load a stylesheet"),U=U+1,U>=j.length&&$()}}),S.head.innerHTML="",S.head.append(...L),k.observe(O.head,{childList:!0,subtree:!0}),L.forEach(z=>{const G=hash(z.outerHTML);P[G]=!0})}),()=>{k.disconnect()}},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:m})},autoFrameContext=reactExports.createContext({}),useFrame=()=>reactExports.useContext(autoFrameContext);function AutoFrame(m){var x=m,{children:$,className:S,debug:I,id:j,onReady:P=()=>{},onNotReady:C=()=>{},frameRef:D}=x,A=__objRest$4(x,["children","className","debug","id","onReady","onNotReady","frameRef"]);const[R,k]=reactExports.useState(!1),[O,N]=reactExports.useState({}),[V,U]=reactExports.useState(),[H,Z]=reactExports.useState(!1);return reactExports.useEffect(()=>{var F;if(D.current){const L=D.current.contentDocument,z=D.current.contentWindow;N({document:L||void 0,window:z||void 0}),U((F=D.current.contentDocument)==null?void 0:F.getElementById("frame-root")),L&&z&&H?P():C()}},[D,R,H]),jsxRuntimeExports.jsx("iframe",__spreadProps$6(__spreadValues$7({},A),{className:S,id:j,srcDoc:'<!DOCTYPE html><html><head></head><body><div id="frame-root" data-puck-entry></div></body></html>',ref:D,onLoad:()=>{k(!0)},children:jsxRuntimeExports.jsx(autoFrameContext.Provider,{value:O,children:R&&V&&jsxRuntimeExports.jsx(CopyHostStyles,{debug:I,onStylesLoaded:()=>Z(!0),children:reactDomExports.createPortal($,V)})})}))}AutoFrame.displayName="AutoFrame";var AutoFrame_default=AutoFrame;init_react_import();var styles_module_default17={PuckPreview:"_PuckPreview_z2rgu_1","PuckPreview-frame":"_PuckPreview-frame_z2rgu_6"},getClassName22=get_class_name_factory_default("PuckPreview",styles_module_default17),useBubbleIframeEvents=m=>{const x=useAppStore($=>$.status);reactExports.useEffect(()=>{if(m.current&&x==="READY"){const $=m.current,S=P=>{const C=new BubbledPointerEvent("pointermove",__spreadProps$6(__spreadValues$7({},P),{bubbles:!0,cancelable:!1,clientX:P.clientX,clientY:P.clientY,originalTarget:P.target}));$.dispatchEvent(C)},I=()=>{var P;j(),(P=$.contentDocument)==null||P.addEventListener("pointermove",S,{capture:!0})},j=()=>{var P;(P=$.contentDocument)==null||P.removeEventListener("pointermove",S)};return I(),()=>{j()}}},[x])},Preview2=({id:m="puck-preview"})=>{const x=useAppStore(V=>V.dispatch),$=useAppStore(V=>V.state.data.root),S=useAppStore(V=>V.config),I=useAppStore(V=>V.setStatus),j=useAppStore(V=>V.iframe),P=useAppStore(V=>V.overrides),C=useAppStore(V=>V.metadata),D=useAppStore(V=>V.state.ui.previewMode==="edit"?null:V.state.data),A=reactExports.useCallback(V=>{var U,H;const Z=useSlots(S,{type:"root",props:V},DropZoneEditPure);return(U=S.root)!=null&&U.render?(H=S.root)==null?void 0:H.render(__spreadValues$7({id:"puck-root"},Z)):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Z.children})},[S]),R=reactExports.useMemo(()=>P.iframe,[P]),k=$.props||$,O=reactExports.useRef(null);useBubbleIframeEvents(O);const N=D?jsxRuntimeExports.jsx(Render,{data:D,config:S}):jsxRuntimeExports.jsx(A,__spreadProps$6(__spreadValues$7({},k),{puck:{renderDropZone:DropZonePure,isEditing:!0,dragRef:null,metadata:C},editMode:!0,children:jsxRuntimeExports.jsx(DropZonePure,{zone:rootDroppableId})}));return reactExports.useEffect(()=>{j.enabled||I("READY")},[j.enabled]),jsxRuntimeExports.jsx("div",{className:getClassName22(),id:m,"data-puck-preview":!0,onClick:()=>{x({type:"setUi",ui:{itemSelector:null}})},children:j.enabled?jsxRuntimeExports.jsx(AutoFrame_default,{id:"preview-frame",className:getClassName22("frame"),"data-rfd-iframe":!0,onReady:()=>{I("READY")},onNotReady:()=>{I("MOUNTED")},frameRef:O,children:jsxRuntimeExports.jsx(autoFrameContext.Consumer,{children:({document:V})=>R?jsxRuntimeExports.jsx(R,{document:V,children:N}):N})}):jsxRuntimeExports.jsx("div",{id:"preview-frame",className:getClassName22("frame"),ref:O,"data-puck-entry":!0,children:N})})};init_react_import();init_react_import();init_react_import();var styles_module_default18={LayerTree:"_LayerTree_7rx04_1","LayerTree-zoneTitle":"_LayerTree-zoneTitle_7rx04_11","LayerTree-helper":"_LayerTree-helper_7rx04_17",Layer:"_Layer_7rx04_1","Layer-inner":"_Layer-inner_7rx04_29","Layer--containsZone":"_Layer--containsZone_7rx04_35","Layer-clickable":"_Layer-clickable_7rx04_39","Layer--isSelected":"_Layer--isSelected_7rx04_61","Layer-chevron":"_Layer-chevron_7rx04_77","Layer--childIsSelected":"_Layer--childIsSelected_7rx04_78","Layer-zones":"_Layer-zones_7rx04_82","Layer-title":"_Layer-title_7rx04_96","Layer-name":"_Layer-name_7rx04_105","Layer-icon":"_Layer-icon_7rx04_111","Layer-zoneIcon":"_Layer-zoneIcon_7rx04_116"};init_react_import();var scrollIntoView=m=>{const x=__spreadValues$7({},m.style);m.style.scrollMargin="256px",m&&(m==null||m.scrollIntoView({behavior:"smooth"}),m.style.scrollMargin=x.scrollMargin||"")};init_react_import();var onScrollEnd=(m,x)=>{let $;const S=function(){clearTimeout($),$=setTimeout(function(){x(),m==null||m.removeEventListener("scroll",S)},50)};m==null||m.addEventListener("scroll",S),setTimeout(()=>{$||x()},50)},getClassName23=get_class_name_factory_default("LayerTree",styles_module_default18),getClassNameLayer=get_class_name_factory_default("Layer",styles_module_default18),Layer=({index:m,itemId:x,zoneCompound:$})=>{var S;const I=useAppStore(F=>F.config),j=useAppStore(F=>F.state.ui.itemSelector),P=useAppStore(F=>F.dispatch),C=reactExports.useCallback(F=>{P({type:"setUi",ui:{itemSelector:F}})},[P]),A=useAppStore(F=>{var L;return(L=F.selectedItem)==null?void 0:L.props.id})===x||j&&j.zone===rootDroppableId&&!$,R=useAppStore(F=>F.state.indexes.nodes[x]),k=useAppStore(useShallow(F=>Object.keys(F.state.indexes.zones).filter(L=>L.split(":")[0]===x))),O=k.length>0,N=reactExports.useContext(ZoneStoreContext),V=useContextStore(ZoneStoreContext,F=>F.hoveringComponent===x),U=useAppStore(F=>{var L,z;const G=F.state.indexes.nodes[(L=F.selectedItem)==null?void 0:L.props.id];return(z=G==null?void 0:G.path.some(q=>{const[X]=q.split(":");return X===x}))!=null?z:!1}),H=I.components[R.data.type],Z=(S=H==null?void 0:H.label)!=null?S:R.data.type.toString();return jsxRuntimeExports.jsxs("li",{className:getClassNameLayer({isSelected:A,isHovering:V,containsZone:O,childIsSelected:U}),children:[jsxRuntimeExports.jsx("div",{className:getClassNameLayer("inner"),children:jsxRuntimeExports.jsxs("button",{type:"button",className:getClassNameLayer("clickable"),onClick:()=>{if(A){C(null);return}const F=getFrame(),L=F==null?void 0:F.querySelector(`[data-puck-component="${x}"]`);if(!L){C({index:m,zone:$});return}scrollIntoView(L),onScrollEnd(F,()=>{C({index:m,zone:$})})},onMouseEnter:F=>{F.stopPropagation(),N.setState({hoveringComponent:x})},onMouseLeave:F=>{F.stopPropagation(),N.setState({hoveringComponent:null})},children:[O&&jsxRuntimeExports.jsx("div",{className:getClassNameLayer("chevron"),title:A?"Collapse":"Expand",children:jsxRuntimeExports.jsx(ChevronDown,{size:"12"})}),jsxRuntimeExports.jsxs("div",{className:getClassNameLayer("title"),children:[jsxRuntimeExports.jsx("div",{className:getClassNameLayer("icon"),children:R.data.type==="Text"||R.data.type==="Heading"?jsxRuntimeExports.jsx(Type,{size:"16"}):jsxRuntimeExports.jsx(LayoutGrid,{size:"16"})}),jsxRuntimeExports.jsx("div",{className:getClassNameLayer("name"),children:Z})]})]})}),O&&k.map(F=>jsxRuntimeExports.jsx("div",{className:getClassNameLayer("zones"),children:jsxRuntimeExports.jsx(LayerTree,{zoneCompound:F})},F))]})},LayerTree=({label:m,zoneCompound:x})=>{const $=useAppStore(I=>{var j,P,C,D;if(m)return m;if(x===rootDroppableId)return;const[A,R]=x.split(":"),k=(j=I.state.indexes.nodes[A])==null?void 0:j.data.type,O=k&&k!==rootAreaId?I.config.components[k]:I.config.root;return(D=(C=(P=O==null?void 0:O.fields)==null?void 0:P[R])==null?void 0:C.label)!=null?D:R}),S=useAppStore(useShallow(I=>{var j,P;return x?(P=(j=I.state.indexes.zones[x])==null?void 0:j.contentIds)!=null?P:[]:[]}));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$&&jsxRuntimeExports.jsxs("div",{className:getClassName23("zoneTitle"),children:[jsxRuntimeExports.jsx("div",{className:getClassName23("zoneIcon"),children:jsxRuntimeExports.jsx(Layers,{size:"16"})}),$]}),jsxRuntimeExports.jsxs("ul",{className:getClassName23(),children:[S.length===0&&jsxRuntimeExports.jsx("div",{className:getClassName23("helper"),children:"No items"}),S.map((I,j)=>jsxRuntimeExports.jsx(Layer,{index:j,itemId:I,zoneCompound:x},I))]})]})};init_react_import();var findZonesForArea=(m,x)=>Object.keys(m.indexes.zones).filter($=>$.split(":")[0]===x),Outline=()=>{const m=useAppStore(S=>S.overrides.outline),x=useAppStore(useShallow(S=>findZonesForArea(S.state,"root"))),$=reactExports.useMemo(()=>m||"div",[m]);return jsxRuntimeExports.jsx($,{children:x.map(S=>jsxRuntimeExports.jsx(LayerTree,{label:x.length===1?"":S.split(":")[1],zoneCompound:S},S))})};init_react_import();init_react_import();init_react_import();var prefix="Invariant failed";function invariant(m,x){throw new Error(prefix)}var getRect=function(x){var $=x.top,S=x.right,I=x.bottom,j=x.left,P=S-j,C=I-$,D={top:$,right:S,bottom:I,left:j,width:P,height:C,x:j,y:$,center:{x:(S+j)/2,y:(I+$)/2}};return D},expand=function(x,$){return{top:x.top-$.top,left:x.left-$.left,bottom:x.bottom+$.bottom,right:x.right+$.right}},shrink=function(x,$){return{top:x.top+$.top,left:x.left+$.left,bottom:x.bottom-$.bottom,right:x.right-$.right}},noSpacing={top:0,right:0,bottom:0,left:0},createBox=function(x){var $=x.borderBox,S=x.margin,I=S===void 0?noSpacing:S,j=x.border,P=j===void 0?noSpacing:j,C=x.padding,D=C===void 0?noSpacing:C,A=getRect(expand($,I)),R=getRect(shrink($,P)),k=getRect(shrink(R,D));return{marginBox:A,borderBox:getRect($),paddingBox:R,contentBox:k,margin:I,border:P,padding:D}},parse=function(x){var $=x.slice(0,-2),S=x.slice(-2);if(S!=="px")return 0;var I=Number($);return isNaN(I)&&invariant(),I},calculateBox=function(x,$){var S={top:parse($.marginTop),right:parse($.marginRight),bottom:parse($.marginBottom),left:parse($.marginLeft)},I={top:parse($.paddingTop),right:parse($.paddingRight),bottom:parse($.paddingBottom),left:parse($.paddingLeft)},j={top:parse($.borderTopWidth),right:parse($.borderRightWidth),bottom:parse($.borderBottomWidth),left:parse($.borderLeftWidth)};return createBox({borderBox:x,margin:S,padding:I,border:j})},getBox=function(x){var $=x.getBoundingClientRect(),S=window.getComputedStyle(x);return calculateBox($,S)};init_react_import();init_react_import();var styles_module_default19={ViewportControls:"_ViewportControls_gejzr_1","ViewportControls-divider":"_ViewportControls-divider_gejzr_15","ViewportControls-zoomSelect":"_ViewportControls-zoomSelect_gejzr_21","ViewportButton--isActive":"_ViewportButton--isActive_gejzr_38","ViewportButton-inner":"_ViewportButton-inner_gejzr_38"},icons={Smartphone:jsxRuntimeExports.jsx(Smartphone,{size:16}),Tablet:jsxRuntimeExports.jsx(Tablet,{size:16}),Monitor:jsxRuntimeExports.jsx(Monitor,{size:16})},getClassName24=get_class_name_factory_default("ViewportControls",styles_module_default19),getClassNameButton=get_class_name_factory_default("ViewportButton",styles_module_default19),ViewportButton=({children:m,height:x="auto",title:$,width:S,onClick:I})=>{const j=useAppStore(D=>D.state.ui.viewports),[P,C]=reactExports.useState(!1);return reactExports.useEffect(()=>{C(S===j.current.width)},[S,j.current.width]),jsxRuntimeExports.jsx("span",{className:getClassNameButton({isActive:P}),children:jsxRuntimeExports.jsx(IconButton,{type:"button",title:$,disabled:P,onClick:D=>{D.stopPropagation(),I({width:S,height:x})},children:jsxRuntimeExports.jsx("span",{className:getClassNameButton("inner"),children:m})})})},defaultZoomOptions=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1},{label:"125%",value:1.25},{label:"150%",value:1.5},{label:"200%",value:2}],ViewportControls=({autoZoom:m,zoom:x,onViewportChange:$,onZoom:S})=>{var I,j;const P=useAppStore(A=>A.viewports),C=defaultZoomOptions.find(A=>A.value===m),D=reactExports.useMemo(()=>[...defaultZoomOptions,...C?[]:[{value:m,label:`${(m*100).toFixed(0)}% (Auto)`}]].filter(A=>A.value<=m).sort((A,R)=>A.value>R.value?1:-1),[m]);return jsxRuntimeExports.jsxs("div",{className:getClassName24(),children:[P.map((A,R)=>jsxRuntimeExports.jsx(ViewportButton,{height:A.height,width:A.width,title:A.label?`Switch to ${A.label} viewport`:"Switch viewport",onClick:$,children:typeof A.icon=="string"?icons[A.icon]||A.icon:A.icon||icons.Smartphone},R)),jsxRuntimeExports.jsx("div",{className:getClassName24("divider")}),jsxRuntimeExports.jsx(IconButton,{type:"button",title:"Zoom viewport out",disabled:x<=((I=D[0])==null?void 0:I.value),onClick:A=>{A.stopPropagation(),S(D[Math.max(D.findIndex(R=>R.value===x)-1,0)].value)},children:jsxRuntimeExports.jsx(ZoomOut,{size:16})}),jsxRuntimeExports.jsx(IconButton,{type:"button",title:"Zoom viewport in",disabled:x>=((j=D[D.length-1])==null?void 0:j.value),onClick:A=>{A.stopPropagation(),S(D[Math.min(D.findIndex(R=>R.value===x)+1,D.length-1)].value)},children:jsxRuntimeExports.jsx(ZoomIn,{size:16})}),jsxRuntimeExports.jsx("div",{className:getClassName24("divider")}),jsxRuntimeExports.jsx("select",{className:getClassName24("zoomSelect"),value:x.toString(),onChange:A=>{S(parseFloat(A.currentTarget.value))},children:D.map(A=>jsxRuntimeExports.jsx("option",{value:A.value,label:A.label},A.label))})]})};init_react_import();var styles_module_default20={PuckCanvas:"_PuckCanvas_18jay_1","PuckCanvas-controls":"_PuckCanvas-controls_18jay_16","PuckCanvas-inner":"_PuckCanvas-inner_18jay_21","PuckCanvas-root":"_PuckCanvas-root_18jay_30","PuckCanvas--ready":"_PuckCanvas--ready_18jay_55","PuckCanvas-loader":"_PuckCanvas-loader_18jay_60","PuckCanvas--showLoader":"_PuckCanvas--showLoader_18jay_70"};init_react_import();var getZoomConfig=(m,x,$)=>{const S=getBox(x),{width:I,height:j}=S.contentBox,P=m.height==="auto"?j:m.height;let C=0,D=1;if(m.width>I||P>j){const A=Math.min(I/m.width,1),R=Math.min(j/P,1);$=A,A<R?C=P/$:(C=P,$=R),D=$}else D=1,$=1,C=P;return{autoZoom:D,rootHeight:C,zoom:$}},getClassName25=get_class_name_factory_default("PuckCanvas",styles_module_default20),Canvas=()=>{const{dispatch:m,overrides:x,setUi:$,zoomConfig:S,setZoomConfig:I,status:j,iframe:P}=useAppStore(useShallow(L=>({dispatch:L.dispatch,overrides:L.overrides,setUi:L.setUi,zoomConfig:L.zoomConfig,setZoomConfig:L.setZoomConfig,status:L.status,iframe:L.iframe}))),{leftSideBarVisible:C,rightSideBarVisible:D,viewports:A}=useAppStore(useShallow(L=>({leftSideBarVisible:L.state.ui.leftSideBarVisible,rightSideBarVisible:L.state.ui.rightSideBarVisible,viewports:L.state.ui.viewports}))),R=reactExports.useRef(null),[k,O]=reactExports.useState(!1),N=reactExports.useMemo(()=>({children:z})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:z}),[]),V=reactExports.useMemo(()=>x.preview||N,[x]),U=reactExports.useCallback(()=>{if(R.current){const L=R.current,z=getBox(L);return{width:z.contentBox.width,height:z.contentBox.height}}return{width:0,height:0}},[R]),H=reactExports.useCallback((L=A)=>{R.current&&I(getZoomConfig(L==null?void 0:L.current,R.current,S.zoom))},[R,S,A]);reactExports.useEffect(()=>{O(!1),H(A)},[R,C,D]),reactExports.useEffect(()=>{const{height:L}=U();A.current.height==="auto"&&I(__spreadProps$6(__spreadValues$7({},S),{rootHeight:L/S.zoom}))},[S.zoom]),reactExports.useEffect(()=>{O(!0),H(A)},[A.current.width]),reactExports.useEffect(()=>{const L=()=>{O(!1),H()};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L)}},[]);const[Z,F]=reactExports.useState(!1);return reactExports.useEffect(()=>{setTimeout(()=>{F(!0)},500)},[]),jsxRuntimeExports.jsxs("div",{className:getClassName25({ready:j==="READY"||!P.enabled||!P.waitForStyles,showLoader:Z}),onClick:()=>m({type:"setUi",ui:{itemSelector:null},recordHistory:!0}),children:[A.controlsVisible&&P.enabled&&jsxRuntimeExports.jsx("div",{className:getClassName25("controls"),children:jsxRuntimeExports.jsx(ViewportControls,{autoZoom:S.autoZoom,zoom:S.zoom,onViewportChange:L=>{O(!0);const z=__spreadProps$6(__spreadValues$7({},L),{height:L.height||"auto",zoom:S.zoom}),G={viewports:__spreadProps$6(__spreadValues$7({},A),{current:z}),itemSelector:null};$(G),H(__spreadProps$6(__spreadValues$7({},A),{current:z}))},onZoom:L=>{O(!0),I(__spreadProps$6(__spreadValues$7({},S),{zoom:L}))}})}),jsxRuntimeExports.jsxs("div",{className:getClassName25("inner"),ref:R,children:[jsxRuntimeExports.jsx("div",{className:getClassName25("root"),style:{width:P.enabled?A.current.width:"100%",height:S.rootHeight,transform:P.enabled?`scale(${S.zoom})`:void 0,transition:k?"width 150ms ease-out, height 150ms ease-out, transform 150ms ease-out":"",overflow:P.enabled?void 0:"auto"},suppressHydrationWarning:!0,id:"puck-canvas-root",onTransitionEnd:()=>{window.dispatchEvent(new CustomEvent("viewportchange",{bubbles:!0,cancelable:!1}))},children:jsxRuntimeExports.jsx(V,{children:jsxRuntimeExports.jsx(Preview2,{})})}),jsxRuntimeExports.jsx("div",{className:getClassName25("loader"),children:jsxRuntimeExports.jsx(Loader,{size:24})})]})]})};init_react_import();init_react_import();var loadOverrides=({overrides:m,plugins:x})=>{const $=__spreadValues$7({},m);return x==null||x.forEach(S=>{Object.keys(S.overrides).forEach(I=>{const j=I;if(j==="fieldTypes"){const D=S.overrides.fieldTypes;Object.keys(D).forEach(A=>{$.fieldTypes=$.fieldTypes||{};const R=$.fieldTypes[A],k=O=>D[A](__spreadProps$6(__spreadValues$7({},O),{children:R?R(O):O.children}));$.fieldTypes[A]=k});return}const P=$[j],C=D=>S.overrides[j](__spreadProps$6(__spreadValues$7({},D),{children:P?P(D):D.children}));$[j]=C})}),$},useLoadedOverrides=({overrides:m,plugins:x})=>reactExports.useMemo(()=>loadOverrides({overrides:m,plugins:x}),[x,m]);init_react_import();var DefaultOverride=({children:m})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:m});init_react_import();var styles="",useInjectStyleSheet=(m,x)=>{const[$,S]=reactExports.useState();return reactExports.useEffect(()=>{S(document.createElement("style"))},[]),reactExports.useEffect(()=>{var I;if(!(!$||typeof window>"u")){if($.innerHTML=m,x){const j=getFrame();(I=j==null?void 0:j.head)==null||I.appendChild($)}document.head.appendChild($)}},[x,$]),$},useInjectGlobalCss=m=>useInjectStyleSheet(styles,m);init_react_import();var usePreviewModeHotkeys=()=>{const m=useAppStoreApi(),x=reactExports.useCallback(()=>{const $=m.getState().dispatch;$({type:"setUi",ui:S=>({previewMode:S.previewMode==="edit"?"interactive":"edit"})})},[m]);useHotkey({meta:!0,i:!0},x),useHotkey({ctrl:!0,i:!0},x)};init_react_import();var generateUsePuck=m=>{const x={back:m.history.back,forward:m.history.forward,setHistories:m.history.setHistories,setHistoryIndex:m.history.setHistoryIndex,hasPast:m.history.hasPast(),hasFuture:m.history.hasFuture(),histories:m.history.histories,index:m.history.index},$={appState:makeStatePublic(m.state),config:m.config,dispatch:m.dispatch,getPermissions:m.permissions.getPermissions,refreshPermissions:m.permissions.refreshPermissions,history:x,selectedItem:m.selectedItem||null,getItemBySelector:I=>getItem(I,m.state),getItemById:I=>m.state.indexes.nodes[I].data,getSelectorForId:I=>{const j=m.state.indexes.nodes[I];if(!j)return;const P=`${j.parentId}:${j.zone}`,C=m.state.indexes.zones[P].contentIds.indexOf(I);return{zone:P,index:C}}},S=()=>$;return __spreadProps$6(__spreadValues$7({},$),{get:S})},UsePuckStoreContext=reactExports.createContext(null),convertToPickedStore=m=>({state:m.state,config:m.config,dispatch:m.dispatch,permissions:m.permissions,history:m.history,selectedItem:m.selectedItem}),useRegisterUsePuckStore=m=>{const[x]=reactExports.useState(()=>createStore(()=>generateUsePuck(convertToPickedStore(m.getState()))));return reactExports.useEffect(()=>m.subscribe($=>convertToPickedStore($),$=>{x.setState(generateUsePuck($))}),[]),x};init_react_import();init_react_import();init_react_import();var styles_module_default21={MenuBar:"_MenuBar_8pf8c_1","MenuBar--menuOpen":"_MenuBar--menuOpen_8pf8c_14","MenuBar-inner":"_MenuBar-inner_8pf8c_29","MenuBar-history":"_MenuBar-history_8pf8c_45"},getClassName26=get_class_name_factory_default("MenuBar",styles_module_default21);function MenuBar({menuOpen:m=!1,renderHeaderActions:x,setMenuOpen:$}){const S=useAppStore(C=>C.history.back),I=useAppStore(C=>C.history.forward),j=useAppStore(C=>C.history.hasFuture()),P=useAppStore(C=>C.history.hasPast());return jsxRuntimeExports.jsx("div",{className:getClassName26({menuOpen:m}),onClick:C=>{var D;const A=C.target;window.matchMedia("(min-width: 638px)").matches||A.tagName==="A"&&((D=A.getAttribute("href"))!=null&&D.startsWith("#"))&&$(!1)},children:jsxRuntimeExports.jsxs("div",{className:getClassName26("inner"),children:[jsxRuntimeExports.jsxs("div",{className:getClassName26("history"),children:[jsxRuntimeExports.jsx(IconButton,{type:"button",title:"undo",disabled:!P,onClick:S,children:jsxRuntimeExports.jsx(Undo2,{size:21})}),jsxRuntimeExports.jsx(IconButton,{type:"button",title:"redo",disabled:!j,onClick:I,children:jsxRuntimeExports.jsx(Redo2,{size:21})})]}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:x&&x()})]})})}init_react_import();var styles_module_default22={PuckHeader:"_PuckHeader_15xnq_1","PuckHeader-inner":"_PuckHeader-inner_15xnq_10","PuckHeader-toggle":"_PuckHeader-toggle_15xnq_20","PuckHeader--rightSideBarVisible":"_PuckHeader--rightSideBarVisible_15xnq_27","PuckHeader-rightSideBarToggle":"_PuckHeader-rightSideBarToggle_15xnq_27","PuckHeader--leftSideBarVisible":"_PuckHeader--leftSideBarVisible_15xnq_28","PuckHeader-leftSideBarToggle":"_PuckHeader-leftSideBarToggle_15xnq_28","PuckHeader-title":"_PuckHeader-title_15xnq_32","PuckHeader-path":"_PuckHeader-path_15xnq_36","PuckHeader-tools":"_PuckHeader-tools_15xnq_43","PuckHeader-menuButton":"_PuckHeader-menuButton_15xnq_49","PuckHeader--menuOpen":"_PuckHeader--menuOpen_15xnq_54"},getClassName27=get_class_name_factory_default("PuckHeader",styles_module_default22),HeaderInner=()=>{const{onPublish:m,renderHeader:x,renderHeaderActions:$,headerTitle:S,headerPath:I,iframe:j}=usePropsContext(),P=useAppStore(F=>F.dispatch),C=useAppStoreApi(),D=reactExports.useMemo(()=>x?(console.warn("`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead"),L=>{var z=L,{actions:G}=z,q=__objRest$4(z,["actions"]);const X=x,M=useAppStore(W=>W.state);return jsxRuntimeExports.jsx(X,__spreadProps$6(__spreadValues$7({},q),{dispatch:P,state:M,children:G}))}):DefaultOverride,[x]),A=reactExports.useMemo(()=>$?(console.warn("`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead."),L=>{const z=$,G=useAppStore(q=>q.state);return jsxRuntimeExports.jsx(z,__spreadProps$6(__spreadValues$7({},L),{dispatch:P,state:G}))}):DefaultOverride,[x]),R=useAppStore(F=>F.overrides.header||D),k=useAppStore(F=>F.overrides.headerActions||A),[O,N]=reactExports.useState(!1),V=useAppStore(F=>{var L,z;return(z=((L=F.state.indexes.nodes.root)==null?void 0:L.data).props.title)!=null?z:""}),U=useAppStore(F=>F.state.ui.leftSideBarVisible),H=useAppStore(F=>F.state.ui.rightSideBarVisible),Z=reactExports.useCallback(F=>{const L=window.matchMedia("(min-width: 638px)").matches,z=F==="left"?U:H,G=F==="left"?"rightSideBarVisible":"leftSideBarVisible";P({type:"setUi",ui:__spreadValues$7({[`${F}SideBarVisible`]:!z},L?{}:{[G]:!1})})},[P,U,H]);return jsxRuntimeExports.jsx(R,{actions:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(k,{children:jsxRuntimeExports.jsx(Button,{onClick:()=>{const F=C.getState().state.data;m&&m(F)},icon:jsxRuntimeExports.jsx(Globe,{size:"14px"}),children:"Publish"})})}),children:jsxRuntimeExports.jsx("header",{className:getClassName27({leftSideBarVisible:U,rightSideBarVisible:H}),children:jsxRuntimeExports.jsxs("div",{className:getClassName27("inner"),children:[jsxRuntimeExports.jsxs("div",{className:getClassName27("toggle"),children:[jsxRuntimeExports.jsx("div",{className:getClassName27("leftSideBarToggle"),children:jsxRuntimeExports.jsx(IconButton,{type:"button",onClick:()=>{Z("left")},title:"Toggle left sidebar",children:jsxRuntimeExports.jsx(PanelLeft,{focusable:"false"})})}),jsxRuntimeExports.jsx("div",{className:getClassName27("rightSideBarToggle"),children:jsxRuntimeExports.jsx(IconButton,{type:"button",onClick:()=>{Z("right")},title:"Toggle right sidebar",children:jsxRuntimeExports.jsx(PanelRight,{focusable:"false"})})})]}),jsxRuntimeExports.jsx("div",{className:getClassName27("title"),children:jsxRuntimeExports.jsxs(Heading,{rank:"2",size:"xs",children:[S||V||"Page",I&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx("code",{className:getClassName27("path"),children:I})]})]})}),jsxRuntimeExports.jsxs("div",{className:getClassName27("tools"),children:[jsxRuntimeExports.jsx("div",{className:getClassName27("menuButton"),children:jsxRuntimeExports.jsx(IconButton,{type:"button",onClick:()=>N(!O),title:"Toggle menu bar",children:O?jsxRuntimeExports.jsx(ChevronUp,{focusable:"false"}):jsxRuntimeExports.jsx(ChevronDown,{focusable:"false"})})}),jsxRuntimeExports.jsx(MenuBar,{dispatch:P,onPublish:m,menuOpen:O,renderHeaderActions:()=>jsxRuntimeExports.jsx(k,{children:jsxRuntimeExports.jsx(Button,{onClick:()=>{const F=C.getState().state.data;m&&m(F)},icon:jsxRuntimeExports.jsx(Globe,{size:"14px"}),children:"Publish"})}),setMenuOpen:N})]})]})})})},Header=reactExports.memo(HeaderInner),getClassName28=get_class_name_factory_default("Puck",styles_module_default14),getLayoutClassName=get_class_name_factory_default("PuckLayout",styles_module_default14),FieldSideBar=()=>{const m=useAppStore(x=>{var $,S;return x.selectedItem?(S=($=x.config.components[x.selectedItem.type])==null?void 0:$.label)!=null?S:x.selectedItem.type.toString():"Page"});return jsxRuntimeExports.jsx(SidebarSection,{noPadding:!0,noBorderTop:!0,showBreadcrumbs:!0,title:m,children:jsxRuntimeExports.jsx(Fields,{})})},propsContext=reactExports.createContext({});function PropsProvider(m){return jsxRuntimeExports.jsx(propsContext.Provider,{value:m,children:m.children})}var usePropsContext=()=>reactExports.useContext(propsContext);function PuckProvider({children:m}){const{config:x,data:$,ui:S,onChange:I,permissions:j={},plugins:P,overrides:C,viewports:D=defaultViewports,iframe:A,initialHistory:R,metadata:k,onAction:O}=usePropsContext(),N=reactExports.useMemo(()=>__spreadValues$7({enabled:!0,waitForStyles:!0},A),[A]),[V]=reactExports.useState(()=>{var M,W,T,K,J,ne,re,te,ee;const ue=__spreadValues$7(__spreadValues$7({},defaultAppState.ui),S);let pe={};if(typeof window<"u"){window.matchMedia("(max-width: 638px)").matches&&(pe=__spreadProps$6(__spreadValues$7({},pe),{leftSideBarVisible:!1,rightSideBarVisible:!1}));const ve=window.innerWidth,Ie=Object.entries(D).map(([he,De])=>({key:he,diff:Math.abs(ve-De.width)})).sort((he,De)=>he.diff>De.diff?1:-1)[0].key;N.enabled&&(pe=__spreadProps$6(__spreadValues$7({},pe),{viewports:__spreadProps$6(__spreadValues$7({},ue.viewports),{current:__spreadProps$6(__spreadValues$7({},ue.viewports.current),{height:((W=(M=S==null?void 0:S.viewports)==null?void 0:M.current)==null?void 0:W.height)||((T=D[Ie])==null?void 0:T.height)||"auto",width:((J=(K=S==null?void 0:S.viewports)==null?void 0:K.current)==null?void 0:J.width)||((ne=D[Ie])==null?void 0:ne.width)})})}))}Object.keys(($==null?void 0:$.root)||{}).length>0&&!((re=$==null?void 0:$.root)!=null&&re.props)&&console.error("Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.");const ge=((te=$==null?void 0:$.root)==null?void 0:te.props)||($==null?void 0:$.root)||{},ce=__spreadValues$7(__spreadValues$7({},(ee=x.root)==null?void 0:ee.defaultProps),ge),de=__spreadProps$6(__spreadValues$7({},defaultAppState),{data:__spreadProps$6(__spreadValues$7({},$),{root:__spreadProps$6(__spreadValues$7({},$==null?void 0:$.root),{props:ce}),content:$.content||[]}),ui:__spreadProps$6(__spreadValues$7(__spreadValues$7({},ue),pe),{componentList:x.categories?Object.entries(x.categories).reduce((ve,[ye,Ie])=>__spreadProps$6(__spreadValues$7({},ve),{[ye]:{title:Ie.title,components:Ie.components,expanded:Ie.defaultExpanded,visible:Ie.visible}}),{}):{}})});return walkAppState(de,x)}),{appendData:U=!0}=R||{},[H]=reactExports.useState([...(R==null?void 0:R.histories)||[],...U?[{state:V}]:[]].map(M=>{let W=__spreadValues$7(__spreadValues$7({},V),M.state);return M.state.indexes||(W=walkAppState(W,x)),__spreadProps$6(__spreadValues$7({},M),{state:W})})),Z=(R==null?void 0:R.index)||H.length-1,F=H[Z].state,L=useLoadedOverrides({overrides:C,plugins:P}),z=reactExports.useCallback(M=>({state:M,config:x,plugins:P||[],overrides:L,viewports:D,iframe:N,onAction:O,metadata:k}),[F,x,P,L,D,N,O,k]),[G]=reactExports.useState(()=>createAppStore(z(F)));reactExports.useEffect(()=>{},[G]),reactExports.useEffect(()=>{const M=G.getState().state;G.setState(__spreadValues$7({},z(M)))},[x,P,L,D,N,O,k]),useRegisterHistorySlice(G,{histories:H,index:Z,initialAppState:F});const q=reactExports.useRef(null);reactExports.useEffect(()=>{G.subscribe(M=>M.state.data,M=>{if(I){if(fdeq(M,q.current))return;I(M),q.current=M}})},[]),useRegisterPermissionsSlice(G,j);const X=useRegisterUsePuckStore(G);return reactExports.useEffect(()=>{const{resolveAndCommitData:M}=G.getState();M()},[]),jsxRuntimeExports.jsx(appStoreContext.Provider,{value:G,children:jsxRuntimeExports.jsx(UsePuckStoreContext.Provider,{value:X,children:m})})}function PuckLayout({children:m}){const{iframe:x,dnd:$,initialHistory:S}=usePropsContext(),I=reactExports.useMemo(()=>__spreadValues$7({enabled:!0,waitForStyles:!0},x),[x]);useInjectGlobalCss(I.enabled);const j=useAppStore(N=>N.state.ui.leftSideBarVisible),P=useAppStore(N=>N.state.ui.rightSideBarVisible),C=useAppStore(N=>N.dispatch);reactExports.useEffect(()=>{window.matchMedia("(min-width: 638px)").matches||C({type:"setUi",ui:{leftSideBarVisible:!1,rightSideBarVisible:!1}});const N=()=>{window.matchMedia("(min-width: 638px)").matches||C({type:"setUi",ui:V=>__spreadValues$7(__spreadValues$7({},V),V.rightSideBarVisible?{leftSideBarVisible:!1}:{})})};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[]);const D=useAppStore(N=>N.overrides),A=reactExports.useMemo(()=>D.puck||DefaultOverride,[D]),[R,k]=reactExports.useState(!1);reactExports.useEffect(()=>{k(!0)},[]);const O=useAppStore(N=>N.status==="READY");return useMonitorHotkeys(),reactExports.useEffect(()=>{if(O&&I.enabled){const N=getFrame();if(N)return monitorHotkeys(N)}},[O,I.enabled]),usePreviewModeHotkeys(),jsxRuntimeExports.jsxs("div",{className:`Puck ${getClassName28()}`,children:[jsxRuntimeExports.jsx(DragDropContext,{disableAutoScroll:$==null?void 0:$.disableAutoScroll,children:jsxRuntimeExports.jsx(A,{children:m||jsxRuntimeExports.jsx("div",{className:getLayoutClassName({leftSideBarVisible:j,mounted:R,rightSideBarVisible:P}),children:jsxRuntimeExports.jsxs("div",{className:getLayoutClassName("inner"),children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:getLayoutClassName("leftSideBar"),children:[jsxRuntimeExports.jsx(SidebarSection,{title:"Components",noBorderTop:!0,children:jsxRuntimeExports.jsx(Components,{})}),jsxRuntimeExports.jsx(SidebarSection,{title:"Outline",children:jsxRuntimeExports.jsx(Outline,{})})]}),jsxRuntimeExports.jsx(Canvas,{}),jsxRuntimeExports.jsx("div",{className:getLayoutClassName("rightSideBar"),children:jsxRuntimeExports.jsx(FieldSideBar,{})})]})})})}),jsxRuntimeExports.jsx("div",{id:"puck-portal-root",className:getClassName28("portal")})]})}function Puck(m){return jsxRuntimeExports.jsx(PropsProvider,__spreadProps$6(__spreadValues$7({},m),{children:jsxRuntimeExports.jsx(PuckProvider,__spreadProps$6(__spreadValues$7({},m),{children:jsxRuntimeExports.jsx(PuckLayout,__spreadValues$7({},m))}))}))}Puck.Components=Components;Puck.Fields=Fields;Puck.Outline=Outline;Puck.Preview=Preview2;/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

lucide-react/dist/esm/shared/src/utils.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/Icon.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-right.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-up.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-check-big.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/corner-left-up.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/ellipsis-vertical.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/globe.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/hash.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layers.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layout-grid.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/link.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/list.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lock-open.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lock.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/monitor.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-left.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-right.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/plus.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/redo-2.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/search.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sliders-horizontal.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/smartphone.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/tablet.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/type.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/undo-2.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/zoom-in.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/zoom-out.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.468.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/const ContainerComponent={fields:{padding:{type:"select",label:"Padding",options:[{label:"None",value:"0"},{label:"Small (8px)",value:"8px"},{label:"Medium (16px)",value:"16px"},{label:"Large (24px)",value:"24px"},{label:"Extra Large (32px)",value:"32px"}]},backgroundColor:{type:"text",label:"Background Color",placeholder:"#ffffff or lightgray"},borderRadius:{type:"select",label:"Border Radius",options:[{label:"None",value:"0"},{label:"Small (4px)",value:"4px"},{label:"Medium (8px)",value:"8px"},{label:"Large (12px)",value:"12px"},{label:"Round (50%)",value:"50%"}]},border:{type:"text",label:"Border (CSS)",placeholder:"1px solid #ccc"},minHeight:{type:"text",label:"Minimum Height",placeholder:"100px or 10rem"}},defaultProps:{padding:"16px",borderRadius:"8px",minHeight:"100px",backgroundColor:"#f8f9fa"},render:({padding:m,backgroundColor:x,borderRadius:$,border:S,minHeight:I})=>jsxRuntimeExports.jsx(Box,{style:{padding:m,backgroundColor:x,borderRadius:$,border:S,minHeight:I||"100px",position:"relative"},children:jsxRuntimeExports.jsx(DropZone,{zone:"container"})})},TorqueFormComponent={fields:{entityType:{type:"select",label:"Entity Type",options:[{label:"Customer",value:"customer"},{label:"Order",value:"order"},{label:"Product",value:"product"},{label:"Invoice",value:"invoice"}]},formTitle:{type:"text",label:"Form Title",placeholder:"Create New Customer"},fields:{type:"array",label:"Form Fields",defaultItemProps:{name:"fieldName",label:"Field Label",type:"text",required:!1},getItemSummary:m=>m.label||m.name,arrayFields:{name:{type:"text",label:"Field Name",placeholder:"firstName, email, etc."},label:{type:"text",label:"Field Label",placeholder:"First Name, Email Address, etc."},type:{type:"select",label:"Field Type",options:[{label:"Text Input",value:"text"},{label:"Text Area",value:"textarea"},{label:"Number Input",value:"number"},{label:"Select Dropdown",value:"select"},{label:"Checkbox",value:"checkbox"},{label:"Switch",value:"switch"}]},required:{type:"radio",label:"Required Field",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},placeholder:{type:"text",label:"Placeholder Text",placeholder:"Enter your first name..."},options:{type:"textarea",label:"Select Options (one per line)",placeholder:`Option 1
Option 2
Option 3`},validation:{type:"text",label:"Validation Rule",placeholder:"email, phone, url, etc."}}},submitButtonText:{type:"text",label:"Submit Button Text",placeholder:"Create Customer"},cancelButtonText:{type:"text",label:"Cancel Button Text",placeholder:"Cancel"},showCancelButton:{type:"radio",label:"Show Cancel Button",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},layout:{type:"radio",label:"Form Layout",options:[{label:"Stacked",value:"stacked"},{label:"Inline",value:"inline"}]},spacing:{type:"select",label:"Field Spacing",options:[{label:"Extra Small",value:"xs"},{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"},{label:"Extra Large",value:"xl"}]},submitAction:{type:"select",label:"Submit Action",options:[{label:"Create Entity",value:"create"},{label:"Update Entity",value:"update"},{label:"Custom Action",value:"custom"}]},customSubmitAction:{type:"text",label:"Custom Submit Action (JavaScript)",placeholder:'console.log("Form submitted")'},width:{type:"text",label:"Form Width",placeholder:"100%, 500px, etc."},maxWidth:{type:"text",label:"Maximum Width",placeholder:"600px, 100%, etc."}},defaultProps:{entityType:"customer",formTitle:"Create New Entry",fields:[{name:"name",label:"Name",type:"text",required:!0,placeholder:"Enter name..."},{name:"email",label:"Email",type:"text",required:!0,placeholder:"Enter email address...",validation:"email"},{name:"description",label:"Description",type:"textarea",required:!1,placeholder:"Enter description..."}],submitButtonText:"Submit",cancelButtonText:"Cancel",showCancelButton:!0,layout:"stacked",spacing:"md",submitAction:"create",width:"100%",maxWidth:"600px"},render:({entityType,formTitle,fields,submitButtonText,cancelButtonText,showCancelButton,layout,spacing,submitAction,customSubmitAction,width,maxWidth})=>{const handleSubmit=e=>{switch(e.preventDefault(),submitAction){case"create":console.log(`Creating new ${entityType} entity`);break;case"update":console.log(`Updating ${entityType} entity`);break;case"custom":if(customSubmitAction)try{eval(customSubmitAction)}catch(m){console.error("Custom submit action error:",m)}break}},handleCancel=()=>{console.log("Form cancelled")},renderField=m=>{const x={label:m.label,placeholder:m.placeholder,required:m.required,size:"md"};switch(m.type){case"text":return jsxRuntimeExports.jsx(TextInput,{...x,type:m.validation==="email"?"email":m.validation==="url"?"url":"text"},m.name);case"textarea":return jsxRuntimeExports.jsx(Textarea,{...x,rows:3},m.name);case"number":return jsxRuntimeExports.jsx(NumberInput,{...x},m.name);case"select":return jsxRuntimeExports.jsx(Select,{...x,data:m.options||[]},m.name);case"checkbox":return jsxRuntimeExports.jsx(Checkbox,{label:m.label,required:m.required},m.name);case"switch":return jsxRuntimeExports.jsx(Switch,{label:m.label,required:m.required},m.name);default:return null}};return jsxRuntimeExports.jsxs(Box,{style:{width:width||"100%",maxWidth:maxWidth||"600px",border:"1px solid #e9ecef",borderRadius:"8px",padding:"24px",backgroundColor:"#ffffff"},children:[jsxRuntimeExports.jsxs(Group$1,{mb:"lg",justify:"space-between",children:[jsxRuntimeExports.jsxs(Group$1,{children:[jsxRuntimeExports.jsx(IconForms,{size:20}),jsxRuntimeExports.jsx(Text,{size:"lg",fw:600,children:formTitle})]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",size:"sm",children:entityType})]}),jsxRuntimeExports.jsx(Divider,{mb:"lg"}),jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit,children:[jsxRuntimeExports.jsx(Stack,{gap:spacing,children:fields.map(m=>renderField(m))}),jsxRuntimeExports.jsxs(Group$1,{mt:"xl",justify:"flex-end",children:[showCancelButton&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:handleCancel,leftSection:jsxRuntimeExports.jsx(IconX,{size:16}),children:cancelButtonText}),jsxRuntimeExports.jsx(Button$1,{type:"submit",leftSection:jsxRuntimeExports.jsx(IconSend,{size:16}),children:submitButtonText})]})]})]})}},iconMap={plus:IconPlus,edit:IconEdit,trash:IconTrash,save:IconDeviceFloppy,download:IconDownload,upload:IconUpload,refresh:IconRefresh,search:IconSearch,filter:IconFilter,print:IconPrinter,mail:IconMail,share:IconShare,settings:IconSettings,user:IconUser,home:IconHome,"chevron-left":IconChevronLeft,"chevron-right":IconChevronRight},TorqueButtonComponent={fields:{text:{type:"text",label:"Button Text",placeholder:"Click me"},variant:{type:"select",label:"Button Style",options:[{label:"Filled",value:"filled"},{label:"Outline",value:"outline"},{label:"Subtle",value:"subtle"},{label:"Light",value:"light"},{label:"Gradient",value:"gradient"}]},size:{type:"select",label:"Button Size",options:[{label:"Extra Small",value:"xs"},{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"},{label:"Extra Large",value:"xl"}]},color:{type:"select",label:"Button Color",options:[{label:"Blue",value:"blue"},{label:"Green",value:"green"},{label:"Red",value:"red"},{label:"Orange",value:"orange"},{label:"Yellow",value:"yellow"},{label:"Purple",value:"purple"},{label:"Pink",value:"pink"},{label:"Gray",value:"gray"},{label:"Dark",value:"dark"}]},fullWidth:{type:"radio",label:"Full Width",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},disabled:{type:"radio",label:"Disabled",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},loading:{type:"radio",label:"Loading State",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},icon:{type:"select",label:"Icon",options:[{label:"None",value:""},{label:"Plus",value:"plus"},{label:"Edit",value:"edit"},{label:"Delete",value:"trash"},{label:"Save",value:"save"},{label:"Download",value:"download"},{label:"Upload",value:"upload"},{label:"Refresh",value:"refresh"},{label:"Search",value:"search"},{label:"Filter",value:"filter"},{label:"Print",value:"print"},{label:"Mail",value:"mail"},{label:"Share",value:"share"},{label:"Settings",value:"settings"},{label:"User",value:"user"},{label:"Home",value:"home"},{label:"Previous",value:"chevron-left"},{label:"Next",value:"chevron-right"}]},iconPosition:{type:"radio",label:"Icon Position",options:[{label:"Left",value:"left"},{label:"Right",value:"right"}]},action:{type:"select",label:"Button Action",options:[{label:"Navigate to URL",value:"navigate"},{label:"Submit Form",value:"submit"},{label:"Custom Action",value:"custom"}]},navigationUrl:{type:"text",label:"Navigation URL",placeholder:"/dashboard or https://example.com"},customAction:{type:"text",label:"Custom Action (JavaScript)",placeholder:'alert("Hello World")'},tooltip:{type:"text",label:"Tooltip Text",placeholder:"Helpful information about this button"}},defaultProps:{text:"Button",variant:"filled",size:"md",color:"blue",fullWidth:!1,disabled:!1,loading:!1,icon:"",iconPosition:"left",action:"custom",tooltip:""},render:({text,variant,size,color,fullWidth,disabled,loading,icon,iconPosition,action,navigationUrl,customAction,tooltip})=>{const IconComponent=icon?iconMap[icon]:null,handleClick=()=>{switch(action){case"navigate":navigationUrl&&(navigationUrl.startsWith("http")?window.open(navigationUrl,"_blank"):window.location.href=navigationUrl);break;case"submit":console.log("Submit form action triggered");break;case"custom":if(customAction)try{eval(customAction)}catch(m){console.error("Custom action error:",m)}break}};return jsxRuntimeExports.jsx(Button$1,{variant,size,color,fullWidth,disabled,loading,onClick:handleClick,title:tooltip,leftSection:IconComponent&&iconPosition==="left"?jsxRuntimeExports.jsx(IconComponent,{size:16}):void 0,rightSection:IconComponent&&iconPosition==="right"?jsxRuntimeExports.jsx(IconComponent,{size:16}):void 0,children:text})}},createTorqueComponentConfig=m=>({components:{Text:TextComponent,Container:ContainerComponent,DataGrid:{...DataGridComponent,fields:{...DataGridComponent.fields,entityType:{type:"select",label:"Entity Type",options:m.filter((x,$,S)=>S.findIndex(I=>I.name===x.name)===$).map(x=>({label:`${x.displayName||x.name} (${x.name})`,value:x.name}))}}},TorqueForm:{...TorqueFormComponent,fields:{...TorqueFormComponent.fields,entityType:{type:"select",label:"Entity Type",options:m.filter((x,$,S)=>S.findIndex(I=>I.name===x.name)===$).map(x=>({label:`${x.displayName||x.name} (${x.name})`,value:x.name}))}}},TorqueButton:TorqueButtonComponent},root:{fields:{title:{type:"text",label:"Page Title"}}},categories:{layout:{title:"Layout Components",components:["Container"]},content:{title:"Content Components",components:["Text"]},data:{title:"Data Components",components:["DataGrid"]},interactive:{title:"Interactive Components",components:["TorqueForm","TorqueButton"]}}}),VisualLayoutEditor=({modelId:m,layoutId:x,entities:$,initialData:S,onSave:I,onPreview:j,onBack:P})=>{var ne,re;const C={content:[],root:{props:{title:"New Layout"}}},[D,A]=React.useState(S||C),[R,k]=React.useState("saved"),[O,N]=React.useState(null),[V,U]=reactExports.useState(!1),[H,Z]=reactExports.useState(((re=(ne=C.root)==null?void 0:ne.props)==null?void 0:re.title)||"New Layout"),F=reactExports.useRef(null),L=reactExports.useMemo(()=>createTorqueComponentConfig($),[$]);reactExports.useEffect(()=>{var te,ee;S&&(A(S),(ee=(te=S.root)==null?void 0:te.props)!=null&&ee.title&&Z(S.root.props.title))},[S]);const z=async te=>{var ue;const ee={...te,root:{...te.root,props:{...(ue=te.root)==null?void 0:ue.props,title:H}}};A(ee),k("saving");try{await I(ee,!0),k("saved"),N(new Date)}catch(pe){k("error"),console.error("Save error:",pe)}},G=()=>{U(!0)},q=()=>{var ee;U(!1);const te={...D,root:{...D.root,props:{...(ee=D.root)==null?void 0:ee.props,title:H}}};A(te),k("unsaved")},X=()=>{var te,ee;U(!1),Z(((ee=(te=D.root)==null?void 0:te.props)==null?void 0:ee.title)||"New Layout")},M=te=>{te.key==="Enter"?q():te.key==="Escape"&&X()},W=()=>{j&&j(D)},T=te=>{A(te),k("unsaved"),F.current&&clearTimeout(F.current),F.current=setTimeout(async()=>{var ee;k("saving");try{const ue={...te,root:{...te.root,props:{...(ee=te.root)==null?void 0:ee.props,title:H}}};await I(ue,!1),k("saved"),N(new Date)}catch(ue){k("error"),console.error("Auto-save error:",ue)}},3e3)},K=async()=>{var te;F.current&&clearTimeout(F.current),k("saving");try{const ee={...D,root:{...D.root,props:{...(te=D.root)==null?void 0:te.props,title:H}}};await I(ee,!0),k("saved"),N(new Date)}catch(ee){k("error"),console.error("Manual save error:",ee)}};reactExports.useEffect(()=>()=>{F.current&&clearTimeout(F.current)},[]);const J=()=>{switch(R){case"saved":return jsxRuntimeExports.jsxs(Badge,{color:"green",size:"sm",leftSection:jsxRuntimeExports.jsx(IconDeviceFloppy,{size:12}),children:["Saved ",O?`at ${O.toLocaleTimeString()}`:""]});case"saving":return jsxRuntimeExports.jsx(Badge,{color:"blue",size:"sm",leftSection:jsxRuntimeExports.jsx(IconClock,{size:12}),children:"Saving..."});case"unsaved":return jsxRuntimeExports.jsx(Badge,{color:"orange",size:"sm",leftSection:jsxRuntimeExports.jsx(IconClock,{size:12}),children:"Unsaved changes"});case"error":return jsxRuntimeExports.jsx(Badge,{color:"red",size:"sm",children:"Save failed"});default:return null}};return jsxRuntimeExports.jsxs("div",{className:"visual-layout-editor",children:[jsxRuntimeExports.jsxs("div",{className:"visual-layout-editor-header",children:[P&&jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",onClick:P,size:"lg","aria-label":"Go back to model editor",children:jsxRuntimeExports.jsx(IconArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Text,{size:"xl",fw:700,children:"Visual Layout Editor"}),jsxRuntimeExports.jsx(Group$1,{gap:"xs",align:"center",children:V?jsxRuntimeExports.jsxs(Group$1,{gap:"xs",children:[jsxRuntimeExports.jsx(TextInput,{value:H,onChange:te=>Z(te.target.value),onKeyDown:M,size:"sm",placeholder:"Layout name",style:{minWidth:200},autoFocus:!0}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",color:"green",size:"sm",onClick:q,children:jsxRuntimeExports.jsx(IconCheck,{size:16})}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",color:"red",size:"sm",onClick:X,children:jsxRuntimeExports.jsx(IconX,{size:16})})]}):jsxRuntimeExports.jsxs(Group$1,{gap:"xs",children:[jsxRuntimeExports.jsx(Text,{size:"sm",c:"dimmed",children:H}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",size:"sm",onClick:G,title:"Edit layout name",children:jsxRuntimeExports.jsx(IconEdit,{size:14})})]})})]}),jsxRuntimeExports.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"12px"},children:[J(),jsxRuntimeExports.jsx(Button$1,{variant:"subtle",size:"sm",onClick:K,disabled:R==="saving",leftSection:jsxRuntimeExports.jsx(IconDeviceFloppy,{size:16}),children:"Save"}),j&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:W,children:"Preview"})]})]}),jsxRuntimeExports.jsx("div",{className:"visual-layout-editor-canvas",children:S||!x?jsxRuntimeExports.jsx(Puck,{config:L,data:D,onPublish:z,onChange:T,viewports:[{width:360,height:"auto",label:"Mobile"},{width:768,height:"auto",label:"Tablet"},{width:1024,height:"auto",label:"Desktop"}]}):jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px",color:"#666",fontSize:"18px"},children:"Loading layout data..."})})]})};VisualLayoutEditor.__docgenInfo={description:"",methods:[],displayName:"VisualLayoutEditor",props:{modelId:{required:!0,tsType:{name:"string"},description:""},layoutId:{required:!1,tsType:{name:"string"},description:""},entities:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{ 
  id: string; 
  name: string; 
  displayName: string; 
  fields: Array<{
    id: string;
    name: string;
    displayName: string;
    fieldType: string;
    required: boolean;
  }>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"displayName",value:{name:"string",required:!0}},{key:"fields",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name: string;
  displayName: string;
  fieldType: string;
  required: boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"displayName",value:{name:"string",required:!0}},{key:"fieldType",value:{name:"string",required:!0}},{key:"required",value:{name:"boolean",required:!0}}]}}],raw:`Array<{
  id: string;
  name: string;
  displayName: string;
  fieldType: string;
  required: boolean;
}>`,required:!0}}]}}],raw:`Array<{ 
  id: string; 
  name: string; 
  displayName: string; 
  fields: Array<{
    id: string;
    name: string;
    displayName: string;
    fieldType: string;
    required: boolean;
  }>;
}>`},description:""},initialData:{required:!1,tsType:{name:"Data"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: Data, isManualSave?: boolean) => Promise<void>",signature:{arguments:[{type:{name:"Data"},name:"data"},{type:{name:"boolean"},name:"isManualSave"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onPreview:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: Data) => void",signature:{arguments:[{type:{name:"Data"},name:"data"}],return:{name:"void"}}},description:""},onBack:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const mockEntities=[{id:"project",name:"project",displayName:"Project",fields:[{id:"id",name:"id",displayName:"ID",fieldType:"text",required:!0},{id:"name",name:"name",displayName:"Name",fieldType:"text",required:!0},{id:"description",name:"description",displayName:"Description",fieldType:"text",required:!1},{id:"priority",name:"priority",displayName:"Priority",fieldType:"text",required:!0},{id:"status",name:"status",displayName:"Status",fieldType:"status",required:!0},{id:"start_date",name:"start_date",displayName:"Start Date",fieldType:"date",required:!1},{id:"due_date",name:"due_date",displayName:"Due Date",fieldType:"date",required:!1}]},{id:"task",name:"task",displayName:"Task",fields:[{id:"id",name:"id",displayName:"ID",fieldType:"text",required:!0},{id:"title",name:"title",displayName:"Title",fieldType:"text",required:!0},{id:"completed",name:"completed",displayName:"Completed",fieldType:"boolean",required:!1}]}],sampleLayoutData={content:[{type:"Text",props:{alignment:"center",color:"#1f2937",content:"Project Management Dashboard",variant:"h1",weight:"bold",id:"component-0"}},{type:"DataGrid",props:{columns:[{field:"id",filterable:!0,header:"ID",sortable:!0,type:"text"},{field:"name",filterable:!0,header:"Name",sortable:!0,type:"text"},{field:"priority",filterable:!0,header:"Priority",sortable:!0,type:"text"},{field:"status",filterable:!0,header:"Status",sortable:!0,type:"status"},{field:"due_date",filterable:!0,header:"Due Date",sortable:!0,type:"date"}],entityType:"project",height:"400px",pageSize:10,showFilters:!0,showPagination:!0,showSearch:!0,title:"Project Data",id:"component-1"}}],root:{props:{title:"Sample Dashboard Layout"}}},meta={title:"Layout Editor/Visual Layout Editor",component:VisualLayoutEditor,parameters:{layout:"fullscreen",docs:{description:{component:"The Visual Layout Editor component powered by Puck for drag-and-drop interface design with visual components."}}},decorators:[m=>jsxRuntimeExports.jsx(MantineProvider,{children:jsxRuntimeExports.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa"},children:jsxRuntimeExports.jsx(m,{})})})],argTypes:{modelId:{control:"text",description:"The ID of the model being edited"},layoutId:{control:"text",description:"The ID of the layout being edited (optional for new layouts)"},initialData:{control:"object",description:"Initial Puck data for the layout"},entities:{control:"object",description:"Available entities for the layout"}}},EmptyEditor={args:{modelId:"sample-model-id",layoutId:void 0,entities:mockEntities,initialData:{content:[],root:{props:{title:"New Layout"}}},onSave:async(m,x)=>{console.log("Save layout:",{data:m,isManualSave:x}),await new Promise($=>setTimeout($,1e3))},onPreview:m=>{console.log("Preview layout:",m)},onBack:()=>{console.log("Navigate back")}},parameters:{docs:{description:{story:"An empty Visual Layout Editor ready for component placement. Shows the Puck interface with component palette and empty canvas."}}}},WithSampleLayout={args:{modelId:"sample-model-id",layoutId:"sample-layout-id",entities:mockEntities,initialData:sampleLayoutData,onSave:async(m,x)=>{console.log("Save layout:",{data:m,isManualSave:x}),await new Promise($=>setTimeout($,1e3))},onPreview:m=>{console.log("Preview layout:",m)},onBack:()=>{console.log("Navigate back")}},parameters:{docs:{description:{story:"Visual Layout Editor with a pre-configured dashboard layout including a heading and data grid. Demonstrates the editing interface with components already placed."}}}},NewLayoutCreation={args:{modelId:"new-project-model",layoutId:void 0,entities:mockEntities,initialData:void 0,onSave:async(m,x)=>{console.log("Creating new layout:",{data:m,isManualSave:x}),await new Promise($=>setTimeout($,1500)),console.log("Layout created with ID: new-layout-123")},onPreview:m=>{console.log("Preview new layout:",m)},onBack:()=>{console.log("Cancel new layout creation")}},parameters:{docs:{description:{story:'Creating a new layout from scratch. Shows the editor in "create mode" with empty canvas and demonstrates the layout creation workflow.'}}}},TaskManagementLayout={args:{modelId:"task-management-model",layoutId:"task-board-layout",entities:mockEntities,initialData:{content:[{type:"Text",props:{alignment:"left",color:"#374151",content:"Task Management Board",variant:"h2",weight:"bold",id:"task-header"}},{type:"DataGrid",props:{columns:[{field:"id",filterable:!0,header:"Task ID",sortable:!0,type:"text"},{field:"title",filterable:!0,header:"Title",sortable:!0,type:"text"},{field:"completed",filterable:!0,header:"Status",sortable:!0,type:"boolean"}],entityType:"task",height:"350px",pageSize:15,showFilters:!0,showPagination:!0,showSearch:!0,title:"Task List",id:"task-grid"}}],root:{props:{title:"Task Management Layout"}}},onSave:async(m,x)=>{console.log("Save task layout:",{data:m,isManualSave:x}),await new Promise($=>setTimeout($,800))},onPreview:m=>{console.log("Preview task layout:",m)},onBack:()=>{console.log("Back to task model")}},parameters:{docs:{description:{story:"A task management layout example showing how the Visual Layout Editor can be used to create different types of dashboards with various entity types."}}}},WithLimitedEntities={args:{modelId:"simple-model",layoutId:"simple-layout",entities:[mockEntities[0]],initialData:{content:[{type:"Text",props:{alignment:"center",color:"#059669",content:"Simple Project View",variant:"h3",weight:"normal",id:"simple-header"}}],root:{props:{title:"Simple Layout"}}},onSave:async(m,x)=>{console.log("Save simple layout:",{data:m,isManualSave:x}),await new Promise($=>setTimeout($,500))},onPreview:m=>{console.log("Preview simple layout:",m)}},parameters:{docs:{description:{story:"Layout editor with limited entities available. Useful for testing component behavior with constrained options."}}}};var qe,Ye,Xe;EmptyEditor.parameters={...EmptyEditor.parameters,docs:{...(qe=EmptyEditor.parameters)==null?void 0:qe.docs,source:{originalSource:`{
  args: {
    modelId: 'sample-model-id',
    layoutId: undefined,
    entities: mockEntities,
    initialData: {
      content: [],
      root: {
        props: {
          title: 'New Layout'
        }
      }
    },
    onSave: async (data, isManualSave) => {
      console.log('Save layout:', {
        data,
        isManualSave
      });
      // Simulate async save
      await new Promise(resolve => setTimeout(resolve, 1000));
    },
    onPreview: data => {
      console.log('Preview layout:', data);
    },
    onBack: () => {
      console.log('Navigate back');
    }
  },
  parameters: {
    docs: {
      description: {
        story: 'An empty Visual Layout Editor ready for component placement. Shows the Puck interface with component palette and empty canvas.'
      }
    }
  }
}`,...(Xe=(Ye=EmptyEditor.parameters)==null?void 0:Ye.docs)==null?void 0:Xe.source}}};var Ke,Je,Qe;WithSampleLayout.parameters={...WithSampleLayout.parameters,docs:{...(Ke=WithSampleLayout.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  args: {
    modelId: 'sample-model-id',
    layoutId: 'sample-layout-id',
    entities: mockEntities,
    initialData: sampleLayoutData,
    onSave: async (data, isManualSave) => {
      console.log('Save layout:', {
        data,
        isManualSave
      });
      // Simulate async save with delay
      await new Promise(resolve => setTimeout(resolve, 1000));
    },
    onPreview: data => {
      console.log('Preview layout:', data);
    },
    onBack: () => {
      console.log('Navigate back');
    }
  },
  parameters: {
    docs: {
      description: {
        story: 'Visual Layout Editor with a pre-configured dashboard layout including a heading and data grid. Demonstrates the editing interface with components already placed.'
      }
    }
  }
}`,...(Qe=(Je=WithSampleLayout.parameters)==null?void 0:Je.docs)==null?void 0:Qe.source}}};var et,tt,rt;NewLayoutCreation.parameters={...NewLayoutCreation.parameters,docs:{...(et=NewLayoutCreation.parameters)==null?void 0:et.docs,source:{originalSource:`{
  args: {
    modelId: 'new-project-model',
    layoutId: undefined,
    // No layoutId indicates new layout creation
    entities: mockEntities,
    initialData: undefined,
    // Will trigger default empty state
    onSave: async (data, isManualSave) => {
      console.log('Creating new layout:', {
        data,
        isManualSave
      });
      // Simulate creating new layout
      await new Promise(resolve => setTimeout(resolve, 1500));
      // In real app, this would return the new layout ID
      console.log('Layout created with ID: new-layout-123');
    },
    onPreview: data => {
      console.log('Preview new layout:', data);
    },
    onBack: () => {
      console.log('Cancel new layout creation');
    }
  },
  parameters: {
    docs: {
      description: {
        story: 'Creating a new layout from scratch. Shows the editor in "create mode" with empty canvas and demonstrates the layout creation workflow.'
      }
    }
  }
}`,...(rt=(tt=NewLayoutCreation.parameters)==null?void 0:tt.docs)==null?void 0:rt.source}}};var nt,st,ot;TaskManagementLayout.parameters={...TaskManagementLayout.parameters,docs:{...(nt=TaskManagementLayout.parameters)==null?void 0:nt.docs,source:{originalSource:`{
  args: {
    modelId: 'task-management-model',
    layoutId: 'task-board-layout',
    entities: mockEntities,
    initialData: {
      content: [{
        type: "Text",
        props: {
          alignment: "left",
          color: "#374151",
          content: "Task Management Board",
          variant: "h2",
          weight: "bold",
          id: "task-header"
        }
      }, {
        type: "DataGrid",
        props: {
          columns: [{
            field: "id",
            filterable: true,
            header: "Task ID",
            sortable: true,
            type: "text"
          }, {
            field: "title",
            filterable: true,
            header: "Title",
            sortable: true,
            type: "text"
          }, {
            field: "completed",
            filterable: true,
            header: "Status",
            sortable: true,
            type: "boolean"
          }],
          entityType: "task",
          height: "350px",
          pageSize: 15,
          showFilters: true,
          showPagination: true,
          showSearch: true,
          title: "Task List",
          id: "task-grid"
        }
      }],
      root: {
        props: {
          title: "Task Management Layout"
        }
      }
    },
    onSave: async (data, isManualSave) => {
      console.log('Save task layout:', {
        data,
        isManualSave
      });
      await new Promise(resolve => setTimeout(resolve, 800));
    },
    onPreview: data => {
      console.log('Preview task layout:', data);
    },
    onBack: () => {
      console.log('Back to task model');
    }
  },
  parameters: {
    docs: {
      description: {
        story: 'A task management layout example showing how the Visual Layout Editor can be used to create different types of dashboards with various entity types.'
      }
    }
  }
}`,...(ot=(st=TaskManagementLayout.parameters)==null?void 0:st.docs)==null?void 0:ot.source}}};var it,at,lt;WithLimitedEntities.parameters={...WithLimitedEntities.parameters,docs:{...(it=WithLimitedEntities.parameters)==null?void 0:it.docs,source:{originalSource:`{
  args: {
    modelId: 'simple-model',
    layoutId: 'simple-layout',
    entities: [mockEntities[0]],
    // Only project entity
    initialData: {
      content: [{
        type: "Text",
        props: {
          alignment: "center",
          color: "#059669",
          content: "Simple Project View",
          variant: "h3",
          weight: "normal",
          id: "simple-header"
        }
      }],
      root: {
        props: {
          title: "Simple Layout"
        }
      }
    },
    onSave: async (data, isManualSave) => {
      console.log('Save simple layout:', {
        data,
        isManualSave
      });
      await new Promise(resolve => setTimeout(resolve, 500));
    },
    onPreview: data => {
      console.log('Preview simple layout:', data);
    }
  },
  parameters: {
    docs: {
      description: {
        story: 'Layout editor with limited entities available. Useful for testing component behavior with constrained options.'
      }
    }
  }
}`,...(lt=(at=WithLimitedEntities.parameters)==null?void 0:at.docs)==null?void 0:lt.source}}};const __namedExportsOrder=["EmptyEditor","WithSampleLayout","NewLayoutCreation","TaskManagementLayout","WithLimitedEntities"];export{EmptyEditor,NewLayoutCreation,TaskManagementLayout,WithLimitedEntities,WithSampleLayout,__namedExportsOrder,meta as default};
