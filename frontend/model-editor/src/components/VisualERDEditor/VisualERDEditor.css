.visual-erd-editor {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 50px); /* Account for AppShell header height */
  width: 100%;
  background: var(--mantine-color-gray-0);
}

.visual-erd-editor-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 16px;
  background: white;
  border-bottom: 1px solid var(--mantine-color-gray-3);
  min-height: 60px;
  z-index: 1000;
}

.visual-erd-editor-canvas {
  flex: 1;
  position: relative;
  background: var(--mantine-color-gray-0);
  min-height: 0; /* Ensure flex child can shrink */
  overflow: hidden; /* Prevent content from overflowing */
}

.visual-erd-editor-canvas .react-flow {
  width: 100%;
  height: 100%;
}

/* React Flow customizations */
.react-flow__node {
  cursor: pointer;
}

.react-flow__edge {
  cursor: pointer;
}

.react-flow__edge-path {
  stroke: var(--mantine-color-blue-6);
  stroke-width: 2;
}

.react-flow__edge-path:hover {
  stroke: var(--mantine-color-blue-8);
  stroke-width: 3;
}

.react-flow__edge-text {
  font-size: 12px;
  font-weight: 600;
  fill: var(--mantine-color-blue-7);
}

.react-flow__controls {
  bottom: 20px;
  left: 20px;
  z-index: 1000;
  
  button {
    background: white;
    border: 1px solid var(--mantine-color-gray-3);
    color: var(--mantine-color-gray-7);
  }
  
  button:hover {
    background: var(--mantine-color-gray-1);
  }
}

.react-flow__minimap {
  bottom: 20px;
  right: 20px;
  background: white;
  border: 1px solid var(--mantine-color-gray-3);
  z-index: 1000;
}

.react-flow__background {
  background: var(--mantine-color-gray-0);
}

.react-flow__panel {
  background: white;
  border: 1px solid var(--mantine-color-gray-3);
  border-radius: 8px;
  padding: 8px 12px;
  margin: 10px;
}

/* Override panel styles for actions menu specifically */
.react-flow__panel.erd-actions-menu {
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Actions menu positioning - positioned above ReactFlow controls */
.erd-actions-menu {
  position: absolute !important;
  left: 20px !important; /* Align with ReactFlow controls left position */
  bottom: 120px !important; /* Position above ReactFlow controls with smaller gap */
  z-index: 1000 !important;
  margin: 0 !important; /* Remove Panel default margins */
  padding: 0 !important; /* Remove Panel default padding */
}

.erd-actions-menu .mantine-Paper-root {
  background: white !important;
  border: 1px solid var(--mantine-color-gray-3) !important;
  border-radius: 6px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
  width: 34px !important; /* Match ReactFlow controls width */
  padding: 4px !important; /* Reduce padding to match controls */
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  margin: 0 !important; /* Remove any default margins */
}

/* Make action buttons look exactly like ReactFlow control buttons */
.erd-actions-menu .mantine-ActionIcon-root {
  width: 26px !important;
  height: 26px !important;
  min-width: 26px !important;
  min-height: 26px !important;
  border-radius: 4px !important;
}

.erd-actions-menu .mantine-ActionIcon-root:hover {
  background: var(--mantine-color-gray-1) !important;
}

/* Ensure modals are properly layered above header */
.mantine-Modal-root {
  z-index: 1100 !important;
}

.mantine-Modal-overlay {
  z-index: 1100 !important;
}

.mantine-Modal-inner {
  z-index: 1101 !important;
}
